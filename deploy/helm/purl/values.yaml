# Purl Helm Chart Values

# Purl API/Dashboard
purl:
  replicaCount: 2
  image:
    repository: purl
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 3000
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"
  env:
    retentionDays: 30
    bufferSize: 1000

# ClickHouse
clickhouse:
  enabled: true
  image:
    repository: clickhouse/clickhouse-server
    tag: 24.3-alpine
  persistence:
    enabled: true
    size: 10Gi
    storageClass: ""
  resources:
    requests:
      memory: "512Mi"
      cpu: "250m"
    limits:
      memory: "2Gi"
      cpu: "1000m"

# Vector log collector (DaemonSet)
vector:
  enabled: true
  image:
    repository: timberio/vector
    tag: 0.34.1-alpine
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "256Mi"
      cpu: "200m"
  # Namespaces to exclude from log collection
  excludeNamespaces:
    - kube-system
    - kube-public

# Ingress
ingress:
  enabled: false
  className: nginx
  annotations: {}
  hosts:
    - host: logs.example.com
      paths:
        - path: /
          pathType: Prefix
  tls: []

# Service Account
serviceAccount:
  create: true
  name: ""
  annotations: {}
