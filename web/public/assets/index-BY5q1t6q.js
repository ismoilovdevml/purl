var Uo=Object.defineProperty;var Jo=(t,e,s)=>e in t?Uo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var gs=(t,e,s)=>Jo(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=s(a);fetch(a.href,r)}})();function de(){}function Fo(t){return t()}function Oi(){return Object.create(null)}function je(t){t.forEach(Fo)}function Po(t){return typeof t=="function"}function We(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Qo(t){return Object.keys(t).length===0}function Ko(t,...e){if(t==null){for(const i of e)i(void 0);return de}const s=t.subscribe(...e);return s.unsubscribe?()=>s.unsubscribe():s}function Oe(t,e,s){t.$$.on_destroy.push(Ko(e,s))}function Ul(t,e,s){return t.set(s),e}function l(t,e){t.appendChild(e)}function I(t,e,s){t.insertBefore(e,s||null)}function N(t){t.parentNode&&t.parentNode.removeChild(t)}function Le(t,e){for(let s=0;s<t.length;s+=1)t[s]&&t[s].d(e)}function o(t){return document.createElement(t)}function se(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function O(t){return document.createTextNode(t)}function d(){return O(" ")}function Xt(){return O("")}function V(t,e,s,i){return t.addEventListener(e,s,i),()=>t.removeEventListener(e,s,i)}function Cs(t){return function(e){return e.preventDefault(),t.call(this,e)}}function He(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function n(t,e,s){s==null?t.removeAttribute(e):t.getAttribute(e)!==s&&t.setAttribute(e,s)}function Xl(t){return t===""?null:+t}function Xo(t){return Array.from(t.childNodes)}function W(t,e){e=""+e,t.data!==e&&(t.data=e)}function me(t,e){t.value=e??""}function he(t,e,s,i){s==null?t.style.removeProperty(e):t.style.setProperty(e,s,"")}function qe(t,e,s){for(let i=0;i<t.options.length;i+=1){const a=t.options[i];if(a.__value===e){a.selected=!0;return}}(!s||e!==void 0)&&(t.selectedIndex=-1)}function it(t){const e=t.querySelector(":checked");return e&&e.__value}function ee(t,e,s){t.classList.toggle(e,!!s)}function Go(t,e,{bubbles:s=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:s,cancelable:i})}let Kt;function Qt(t){Kt=t}function Ms(){if(!Kt)throw new Error("Function called outside component initialization");return Kt}function at(t){Ms().$$.on_mount.push(t)}function Vo(t){Ms().$$.on_destroy.push(t)}function Gt(){const t=Ms();return(e,s,{cancelable:i=!1}={})=>{const a=t.$$.callbacks[e];if(a){const r=Go(e,s,{cancelable:i});return a.slice().forEach(c=>{c.call(t,r)}),!r.defaultPrevented}return!0}}function Gl(t,e){const s=t.$$.callbacks[e.type];s&&s.slice().forEach(i=>i.call(this,e))}const Ot=[],ut=[];let Nt=[];const ws=[],Yo=Promise.resolve();let ys=!1;function $o(){ys||(ys=!0,Yo.then(Zo))}function Ze(t){Nt.push(t)}function xo(t){ws.push(t)}const _s=new Set;let qt=0;function Zo(){if(qt!==0)return;const t=Kt;do{try{for(;qt<Ot.length;){const e=Ot[qt];qt++,Qt(e),ec(e.$$)}}catch(e){throw Ot.length=0,qt=0,e}for(Qt(null),Ot.length=0,qt=0;ut.length;)ut.pop()();for(let e=0;e<Nt.length;e+=1){const s=Nt[e];_s.has(s)||(_s.add(s),s())}Nt.length=0}while(Ot.length);for(;ws.length;)ws.pop()();ys=!1,_s.clear(),Qt(t)}function ec(t){if(t.fragment!==null){t.update(),je(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ze)}}function tc(t){const e=[],s=[];Nt.forEach(i=>t.indexOf(i)===-1?e.push(i):s.push(i)),s.forEach(i=>i()),Nt=e}const Ql=new Set;let rt;function Ni(){rt={r:0,c:[],p:rt}}function Ii(){rt.r||je(rt.c),rt=rt.p}function Ae(t,e){t&&t.i&&(Ql.delete(t),t.i(e))}function Ne(t,e,s,i){if(t&&t.o){if(Ql.has(t))return;Ql.add(t),rt.c.push(()=>{Ql.delete(t),i&&(s&&t.d(1),i())}),t.o(e)}else i&&i()}function fe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function lc(t,e){t.d(1),e.delete(t.key)}function sc(t,e,s,i,a,r,c,u,h,f,p,m){let g=t.length,v=r.length,_=g;const k={};for(;_--;)k[t[_].key]=_;const w=[],y=new Map,b=new Map,T=[];for(_=v;_--;){const L=m(a,r,_),H=s(L);let B=c.get(H);B?T.push(()=>B.p(L,e)):(B=f(H,L),B.c()),y.set(H,w[_]=B),H in k&&b.set(H,Math.abs(_-k[H]))}const z=new Set,q=new Set;function S(L){Ae(L,1),L.m(u,p),c.set(L.key,L),p=L.first,v--}for(;g&&v;){const L=w[v-1],H=t[g-1],B=L.key,E=H.key;L===H?(p=L.first,g--,v--):y.has(E)?!c.has(B)||z.has(B)?S(L):q.has(E)?g--:b.get(B)>b.get(E)?(q.add(B),S(L)):(z.add(E),g--):(h(H,c),g--)}for(;g--;){const L=t[g];y.has(L.key)||h(L,c)}for(;v;)S(w[v-1]);return je(T),w}function nc(t,e,s){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=s,s(t.$$.ctx[i]))}function $e(t){t&&t.c()}function Ke(t,e,s){const{fragment:i,after_update:a}=t.$$;i&&i.m(e,s),Ze(()=>{const r=t.$$.on_mount.map(Fo).filter(Po);t.$$.on_destroy?t.$$.on_destroy.push(...r):je(r),t.$$.on_mount=[]}),a.forEach(Ze)}function Xe(t,e){const s=t.$$;s.fragment!==null&&(tc(s.after_update),je(s.on_destroy),s.fragment&&s.fragment.d(e),s.on_destroy=s.fragment=null,s.ctx=[])}function ic(t,e){t.$$.dirty[0]===-1&&(Ot.push(t),$o(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ge(t,e,s,i,a,r,c=null,u=[-1]){const h=Kt;Qt(t);const f=t.$$={fragment:null,ctx:[],props:r,update:de,not_equal:a,bound:Oi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(h?h.$$.context:[])),callbacks:Oi(),dirty:u,skip_bound:!1,root:e.target||h.$$.root};c&&c(f.root);let p=!1;if(f.ctx=s?s(t,e.props||{},(m,g,...v)=>{const _=v.length?v[0]:g;return f.ctx&&a(f.ctx[m],f.ctx[m]=_)&&(!f.skip_bound&&f.bound[m]&&f.bound[m](_),p&&ic(t,m)),g}):[],f.update(),p=!0,je(f.before_update),f.fragment=i?i(f.ctx):!1,e.target){if(e.hydrate){const m=Xo(e.target);f.fragment&&f.fragment.l(m),m.forEach(N)}else f.fragment&&f.fragment.c();e.intro&&Ae(t.$$.fragment),Ke(t,e.target,e.anchor),Zo()}Qt(h)}class Ye{constructor(){gs(this,"$$");gs(this,"$$set")}$destroy(){Xe(this,1),this.$destroy=de}$on(e,s){if(!Po(s))return de;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(s),()=>{const a=i.indexOf(s);a!==-1&&i.splice(a,1)}}$set(e){this.$$set&&!Qo(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ac="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ac);const At=[];function Ue(t,e=de){let s;const i=new Set;function a(u){if(We(t,u)&&(t=u,s)){const h=!At.length;for(const f of i)f[1](),At.push(f,t);if(h){for(let f=0;f<At.length;f+=2)At[f][0](At[f+1]);At.length=0}}}function r(u){a(u(t))}function c(u,h=de){const f=[u,h];return i.add(f),i.size===1&&(s=e(a,r)||de),u(t),()=>{i.delete(f),i.size===0&&s&&(s(),s=null)}}return{set:a,update:r,subscribe:c}}const js=Ue([]),zs=Ue(!1),Di=Ue(null),Jt=Ue(""),ht=Ue("15m"),Ss=Ue(0),Ls=Ue([]),Ts=Ue([]),Hs=Ue([]),Wo=Ue([]),oc=Ue(null),$l="/api";let ms=null;async function Ut(){ms&&(ms.cancelled=!0);const t={cancelled:!1};ms=t,zs.set(!0),Di.set(null);try{let e,s;Jt.subscribe(c=>e=c)(),ht.subscribe(c=>s=c)();const i=new URLSearchParams({range:s,limit:500});e&&i.set("q",e);const a=await fetch(`${$l}/logs?${i}`);if(t.cancelled)return;const r=await a.json();js.set(r.hits||[]),Ss.set(r.total||0),Promise.all([bs("level"),bs("service"),bs("host"),cc(),rc()]).catch(console.error)}catch(e){t.cancelled||(Di.set(e.message),console.error("Search error:",e))}finally{t.cancelled||zs.set(!1)}}async function bs(t){try{let e;ht.subscribe(r=>e=r)();const s=new URLSearchParams({range:e,limit:10}),a=await(await fetch(`${$l}/stats/fields/${t}?${s}`)).json();t==="level"&&Ls.set(a.values||[]),t==="service"&&Ts.set(a.values||[]),t==="host"&&Hs.set(a.values||[])}catch(e){console.error(`Failed to fetch ${t} stats:`,e)}}async function cc(){try{let t;ht.subscribe(r=>t=r)();let e="1 minute";(t==="24h"||t==="7d")&&(e="1 hour"),t==="30d"&&(e="1 day");const s=new URLSearchParams({range:t,interval:e}),a=await(await fetch(`${$l}/stats/histogram?${s}`)).json();Wo.set(a.buckets||[])}catch(t){console.error("Failed to fetch histogram:",t)}}async function rc(){try{const e=await(await fetch(`${$l}/metrics/json`)).json();oc.set(e)}catch(t){console.error("Failed to fetch metrics:",t)}}function hc(){const t=window.location.protocol==="https:"?"wss:":"ws:",e=new WebSocket(`${t}//${window.location.host}/api/logs/stream`);return e.onopen=()=>{console.log("WebSocket connected")},e.onmessage=s=>{try{const i=JSON.parse(s.data);i.type==="log"&&js.update(a=>[i.data,...a.slice(0,499)])}catch(i){console.error("WebSocket message error:",i)}},e.onerror=s=>{console.error("WebSocket error:",s)},e.onclose=()=>{console.log("WebSocket disconnected")},e}function Fi(t){return t?new Date(t).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):""}function Pi(t){return t?new Date(t).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):""}function De(t){return{EMERGENCY:"#f85149",ALERT:"#f85149",CRITICAL:"#f85149",ERROR:"#f85149",WARNING:"#d29922",NOTICE:"#58a6ff",INFO:"#3fb950",DEBUG:"#8b949e",TRACE:"#6e7681"}[t]||"#8b949e"}function Vi(t,e,s){const i=t.slice();return i[27]=e[s],i}function Zi(t,e,s){const i=t.slice();return i[30]=e[s],i[32]=s,i}function Wi(t){let e,s,i;return{c(){e=o("button"),e.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14"><path fill="currentColor" d="M7 5.586 3.707 2.293a1 1 0 0 0-1.414 1.414L5.586 7 2.293 10.293a1 1 0 1 0 1.414 1.414L7 8.414l3.293 3.293a1 1 0 0 0 1.414-1.414L8.414 7l3.293-3.293a1 1 0 0 0-1.414-1.414L7 5.586Z"></path></svg>',n(e,"class","clear-btn svelte-a8z0vj"),n(e,"title","Clear search")},m(a,r){I(a,e,r),s||(i=V(e,"click",t[14]),s=!0)},p:de,d(a){a&&N(e),s=!1,i()}}}function Ui(t){let e,s=fe(t[2]),i=[];for(let a=0;a<s.length;a+=1)i[a]=Ki(Zi(t,s,a));return{c(){e=o("div");for(let a=0;a<i.length;a+=1)i[a].c();n(e,"class","suggestions svelte-a8z0vj")},m(a,r){I(a,e,r);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(a,r){if(r[0]&2060){s=fe(a[2]);let c;for(c=0;c<s.length;c+=1){const u=Zi(a,s,c);i[c]?i[c].p(u,r):(i[c]=Ki(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(a){a&&N(e),Le(i,a)}}}function uc(t){let e,s;return{c(){e=se("svg"),s=se("circle"),n(s,"cx","6"),n(s,"cy","6"),n(s,"r","4"),n(s,"fill","currentColor"),n(e,"width","12"),n(e,"height","12"),n(e,"viewBox","0 0 12 12")},m(i,a){I(i,e,a),l(e,s)},d(i){i&&N(e)}}}function fc(t){let e,s;return{c(){e=se("svg"),s=se("path"),n(s,"fill","currentColor"),n(s,"d","M6 1v10M1 6h10"),n(s,"stroke","currentColor"),n(s,"stroke-width","1.5"),n(e,"width","12"),n(e,"height","12"),n(e,"viewBox","0 0 12 12")},m(i,a){I(i,e,a),l(e,s)},d(i){i&&N(e)}}}function dc(t){let e,s;return{c(){e=se("svg"),s=se("path"),n(s,"fill","currentColor"),n(s,"d","M2 3h8v1H2V3zm0 2.5h8v1H2v-1zm0 2.5h5v1H2V8z"),n(e,"width","12"),n(e,"height","12"),n(e,"viewBox","0 0 12 12")},m(i,a){I(i,e,a),l(e,s)},d(i){i&&N(e)}}}function Ji(t){let e,s=t[30].hint+"",i;return{c(){e=o("span"),i=O(s),n(e,"class","suggestion-hint svelte-a8z0vj")},m(a,r){I(a,e,r),l(e,i)},p(a,r){r[0]&4&&s!==(s=a[30].hint+"")&&W(i,s)},d(a){a&&N(e)}}}function Qi(t){let e,s=t[30].field+"",i;return{c(){e=o("span"),i=O(s),n(e,"class","suggestion-field svelte-a8z0vj")},m(a,r){I(a,e,r),l(e,i)},p(a,r){r[0]&4&&s!==(s=a[30].field+"")&&W(i,s)},d(a){a&&N(e)}}}function Ki(t){let e,s,i,a,r=t[30].display+"",c,u,h,f,p,m;function g(b,T){return b[30].type==="field"?dc:b[30].type==="operator"?fc:uc}let v=g(t),_=v(t),k=t[30].hint&&Ji(t),w=t[30].field&&Qi(t);function y(){return t[17](t[30])}return{c(){e=o("button"),s=o("span"),_.c(),i=d(),a=o("span"),c=O(r),u=d(),k&&k.c(),h=d(),w&&w.c(),f=d(),n(s,"class","suggestion-icon svelte-a8z0vj"),n(a,"class","suggestion-text svelte-a8z0vj"),n(e,"class","suggestion-item svelte-a8z0vj"),ee(e,"selected",t[32]===t[3])},m(b,T){I(b,e,T),l(e,s),_.m(s,null),l(e,i),l(e,a),l(a,c),l(e,u),k&&k.m(e,null),l(e,h),w&&w.m(e,null),l(e,f),p||(m=V(e,"mousedown",Cs(y)),p=!0)},p(b,T){t=b,v!==(v=g(t))&&(_.d(1),_=v(t),_&&(_.c(),_.m(s,null))),T[0]&4&&r!==(r=t[30].display+"")&&W(c,r),t[30].hint?k?k.p(t,T):(k=Ji(t),k.c(),k.m(e,h)):k&&(k.d(1),k=null),t[30].field?w?w.p(t,T):(w=Qi(t),w.c(),w.m(e,f)):w&&(w.d(1),w=null),T[0]&8&&ee(e,"selected",t[32]===t[3])},d(b){b&&N(e),_.d(),k&&k.d(),w&&w.d(),p=!1,m()}}}function Xi(t){let e,s,i,a,r,c,u,h,f=fe(t[5]),p=[];for(let m=0;m<f.length;m+=1)p[m]=Gi(Vi(t,f,m));return{c(){e=o("div"),s=o("div"),i=o("span"),i.textContent="Recent searches",a=d(),r=o("button"),r.textContent="Clear",c=d();for(let m=0;m<p.length;m+=1)p[m].c();n(r,"class","history-clear svelte-a8z0vj"),n(s,"class","history-header svelte-a8z0vj"),n(e,"class","suggestions history svelte-a8z0vj")},m(m,g){I(m,e,g),l(e,s),l(s,i),l(s,a),l(s,r),l(e,c);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(e,null);u||(h=V(r,"mousedown",Cs(t[13])),u=!0)},p(m,g){if(g[0]&4128){f=fe(m[5]);let v;for(v=0;v<f.length;v+=1){const _=Vi(m,f,v);p[v]?p[v].p(_,g):(p[v]=Gi(_),p[v].c(),p[v].m(e,null))}for(;v<p.length;v+=1)p[v].d(1);p.length=f.length}},d(m){m&&N(e),Le(p,m),u=!1,h()}}}function Gi(t){let e,s,i,a,r=t[27]+"",c,u,h,f;function p(){return t[18](t[27])}return{c(){e=o("button"),s=o("span"),s.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M6 1a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 9a4 4 0 1 1 4-4 4 4 0 0 1-4 4zm.5-4V3.5a.5.5 0 0 0-1 0v3a.5.5 0 0 0 .15.35l2 2a.5.5 0 0 0 .7-.7L6.5 6z"></path></svg>',i=d(),a=o("span"),c=O(r),u=d(),n(s,"class","suggestion-icon svelte-a8z0vj"),n(a,"class","suggestion-text history-query svelte-a8z0vj"),n(e,"class","suggestion-item svelte-a8z0vj")},m(m,g){I(m,e,g),l(e,s),l(e,i),l(e,a),l(a,c),l(e,u),h||(f=V(e,"mousedown",Cs(p)),h=!0)},p(m,g){t=m,g[0]&32&&r!==(r=t[27]+"")&&W(c,r)},d(m){m&&N(e),h=!1,f()}}}function vc(t){let e,s,i,a,r,c,u,h,f,p,m=t[0]&&Wi(t),g=t[1]&&t[2].length>0&&Ui(t),v=t[6]&&t[5].length>0&&Xi(t);return{c(){e=o("div"),s=se("svg"),i=se("path"),a=d(),r=o("input"),c=d(),m&&m.c(),u=d(),g&&g.c(),h=d(),v&&v.c(),n(i,"fill","currentColor"),n(i,"d","M11.5 7a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-.82 4.74a6 6 0 1 1 1.06-1.06l3.04 3.04a.75.75 0 1 1-1.06 1.06l-3.04-3.04Z"),n(s,"class","search-icon svelte-a8z0vj"),n(s,"width","16"),n(s,"height","16"),n(s,"viewBox","0 0 16 16"),n(r,"type","text"),n(r,"placeholder","Search logs... level:ERROR AND service:api*"),n(r,"autocomplete","off"),n(r,"class","svelte-a8z0vj"),n(e,"class","search-bar svelte-a8z0vj")},m(_,k){I(_,e,k),l(e,s),l(s,i),l(e,a),l(e,r),t[15](r),me(r,t[0]),l(e,c),m&&m.m(e,null),l(e,u),g&&g.m(e,null),l(e,h),v&&v.m(e,null),f||(p=[V(r,"input",t[16]),V(r,"keydown",t[7]),V(r,"input",t[8]),V(r,"focus",t[9]),V(r,"blur",t[10])],f=!0)},p(_,k){k[0]&1&&r.value!==_[0]&&me(r,_[0]),_[0]?m?m.p(_,k):(m=Wi(_),m.c(),m.m(e,u)):m&&(m.d(1),m=null),_[1]&&_[2].length>0?g?g.p(_,k):(g=Ui(_),g.c(),g.m(e,h)):g&&(g.d(1),g=null),_[6]&&_[5].length>0?v?v.p(_,k):(v=Xi(_),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i:de,o:de,d(_){_&&N(e),t[15](null),m&&m.d(),g&&g.d(),v&&v.d(),f=!1,je(p)}}}const pc=10;function gc(t,e,s){let i,a,r;Oe(t,Hs,C=>s(19,i=C)),Oe(t,Ts,C=>s(20,a=C)),Oe(t,Ls,C=>s(21,r=C));let{value:c=""}=e;const u=Gt();let h=!1,f=[],p=-1,m,g=[],v=!1;const _=["AND","OR","NOT"],k=["level","service","host","message","timestamp"];at(()=>{const C=localStorage.getItem("purl_search_history");C&&s(5,g=JSON.parse(C))});function w(C){C.trim()&&(s(5,g=[C,...g.filter(D=>D!==C)].slice(0,pc)),localStorage.setItem("purl_search_history",JSON.stringify(g)))}function y(C){if(h&&f.length>0){if(C.key==="ArrowDown")C.preventDefault(),s(3,p=Math.min(p+1,f.length-1));else if(C.key==="ArrowUp")C.preventDefault(),s(3,p=Math.max(p-1,-1));else if(C.key==="Enter"&&p>=0){C.preventDefault(),S(f[p]);return}else if(C.key==="Escape"){s(1,h=!1),s(6,v=!1);return}}C.key==="Enter"&&(s(1,h=!1),s(6,v=!1),w(c),u("search"))}function b(){s(3,p=-1),q()}function T(){!c&&g.length>0?s(6,v=!0):q()}function z(){setTimeout(()=>{s(1,h=!1),s(6,v=!1)},200)}function q(){s(6,v=!1);const C=(m==null?void 0:m.selectionStart)||c.length,M=c.substring(0,C).split(/\s+/),F=M[M.length-1]||"";if(!F){s(1,h=!1);return}if(s(2,f=[]),F.includes(":")){const[U,P]=F.split(":"),J=U.toLowerCase();let G=[];J==="level"?G=r.map(Z=>Z.value):J==="service"?G=a.map(Z=>Z.value):J==="host"&&(G=i.map(Z=>Z.value));const X=(P||"").toLowerCase();s(2,f=G.filter(Z=>Z.toLowerCase().includes(X)).slice(0,8).map(Z=>({type:"value",text:`${U}:${Z}`,display:Z,field:U})))}else{const U=F.toLowerCase(),P=k.filter(G=>G.toLowerCase().startsWith(U)).map(G=>({type:"field",text:`${G}:`,display:G,hint:"field"})),J=M.length>1?_.filter(G=>G.toLowerCase().startsWith(U)).map(G=>({type:"operator",text:G,display:G,hint:"operator"})):[];s(2,f=[...P,...J].slice(0,8))}s(1,h=f.length>0)}function S(C){const D=(m==null?void 0:m.selectionStart)||c.length,M=c.substring(0,D),F=c.substring(D),U=M.lastIndexOf(" "),P=M.substring(0,U+1);s(0,c=P+C.text+(C.type==="field"?"":" ")+F.trimStart()),s(1,h=!1),s(3,p=-1),setTimeout(()=>m==null?void 0:m.focus(),0)}function L(C){s(0,c=C),s(6,v=!1),u("search")}function H(){s(5,g=[]),localStorage.removeItem("purl_search_history"),s(6,v=!1)}function B(){s(0,c=""),u("search")}function E(C){ut[C?"unshift":"push"](()=>{m=C,s(4,m)})}function j(){c=this.value,s(0,c)}const A=C=>S(C),R=C=>L(C);return t.$$set=C=>{"value"in C&&s(0,c=C.value)},[c,h,f,p,m,g,v,y,b,T,z,S,L,H,B,E,j,A,R]}class _c extends Ye{constructor(e){super(),Ge(this,e,gc,vc,We,{value:0},null,[-1,-1])}}function Yi(t,e,s){const i=t.slice();return i[9]=e[s],i}function $i(t){let e,s=fe(t[3]),i=[];for(let a=0;a<s.length;a+=1)i[a]=xi(Yi(t,s,a));return{c(){e=o("div");for(let a=0;a<i.length;a+=1)i[a].c();n(e,"class","dropdown svelte-19hb89a")},m(a,r){I(a,e,r);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(a,r){if(r&25){s=fe(a[3]);let c;for(c=0;c<s.length;c+=1){const u=Yi(a,s,c);i[c]?i[c].p(u,r):(i[c]=xi(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(a){a&&N(e),Le(i,a)}}}function xi(t){let e,s,i;function a(){return t[7](t[9])}return{c(){e=o("button"),e.textContent=`${t[9].label} `,n(e,"class","dropdown-item svelte-19hb89a"),ee(e,"active",t[0]===t[9].value)},m(r,c){I(r,e,c),s||(i=V(e,"click",a),s=!0)},p(r,c){t=r,c&9&&ee(e,"active",t[0]===t[9].value)},d(r){r&&N(e),s=!1,i()}}}function mc(t){let e,s,i,a,r,c,u,h,f,p,m,g,v,_=t[1]&&$i(t);return{c(){e=o("div"),s=o("button"),i=se("svg"),a=se("path"),r=d(),c=o("span"),u=O(t[2]),h=d(),f=se("svg"),p=se("path"),m=d(),_&&_.c(),n(a,"fill","currentColor"),n(a,"d","M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0Zm0 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM8 3a.75.75 0 0 1 .75.75v3.69l2.28 2.28a.75.75 0 0 1-1.06 1.06L7.22 8.03A.75.75 0 0 1 7 7.5v-3.75A.75.75 0 0 1 8 3Z"),n(i,"width","16"),n(i,"height","16"),n(i,"viewBox","0 0 16 16"),n(p,"fill","currentColor"),n(p,"d","M6 8.825a.5.5 0 0 1-.354-.146l-4-4a.5.5 0 0 1 .708-.708L6 7.617l3.646-3.646a.5.5 0 0 1 .708.708l-4 4A.5.5 0 0 1 6 8.825Z"),n(f,"class","chevron svelte-19hb89a"),n(f,"width","12"),n(f,"height","12"),n(f,"viewBox","0 0 12 12"),n(s,"class","picker-btn svelte-19hb89a"),n(e,"class","time-picker svelte-19hb89a")},m(k,w){I(k,e,w),l(e,s),l(s,i),l(i,a),l(s,r),l(s,c),l(c,u),l(s,h),l(s,f),l(f,p),l(e,m),_&&_.m(e,null),g||(v=[V(window,"click",t[6]),V(s,"click",He(t[5]))],g=!0)},p(k,[w]){w&4&&W(u,k[2]),k[1]?_?_.p(k,w):(_=$i(k),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},i:de,o:de,d(k){k&&N(e),_&&_.d(),g=!1,je(v)}}}function bc(t,e,s){let i,{value:a="15m"}=e;const r=Gt(),c=[{value:"5m",label:"Last 5 minutes"},{value:"15m",label:"Last 15 minutes"},{value:"30m",label:"Last 30 minutes"},{value:"1h",label:"Last 1 hour"},{value:"4h",label:"Last 4 hours"},{value:"12h",label:"Last 12 hours"},{value:"24h",label:"Last 24 hours"},{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"}];let u=!1;function h(g){s(0,a=g),s(1,u=!1),r("change",g)}function f(){s(1,u=!u)}function p(g){g.target.closest(".time-picker")||s(1,u=!1)}const m=g=>h(g.value);return t.$$set=g=>{"value"in g&&s(0,a=g.value)},t.$$.update=()=>{var g;t.$$.dirty&1&&s(2,i=((g=c.find(v=>v.value===a))==null?void 0:g.label)||a)},[a,u,i,c,h,f,p,m]}class kc extends Ye{constructor(e){super(),Ge(this,e,bc,mc,We,{value:0})}}function ea(t,e,s){const i=t.slice();return i[29]=e[s],i}function ta(t,e,s){const i=t.slice();return i[29]=e[s],i}function la(t,e,s){const i=t.slice();return i[29]=e[s],i}function sa(t){let e,s,i=fe(t[10]),a=[];for(let c=0;c<i.length;c+=1)a[c]=na(la(t,i,c));let r=t[10].length===0&&ia();return{c(){e=o("div");for(let c=0;c<a.length;c+=1)a[c].c();s=d(),r&&r.c(),n(e,"class","field-values svelte-4ctbet")},m(c,u){I(c,e,u);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);l(e,s),r&&r.m(e,null)},p(c,u){if(u[0]&25728){i=fe(c[10]);let h;for(h=0;h<i.length;h+=1){const f=la(c,i,h);a[h]?a[h].p(f,u):(a[h]=na(f),a[h].c(),a[h].m(e,s))}for(;h<a.length;h+=1)a[h].d(1);a.length=i.length}c[10].length===0?r||(r=ia(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(c){c&&N(e),Le(a,c),r&&r.d()}}}function na(t){let e,s,i,a,r,c=t[29].value+"",u,h,f,p,m,g,v=It(t[29].count)+"",_,k,w,y=t[14](t[29].count).toFixed(0)+"",b,T,z,q,S,L;function H(){return t[19](t[29])}function B(){return t[20](t[29])}return{c(){e=o("div"),s=o("button"),i=o("span"),a=d(),r=o("span"),u=O(c),h=d(),f=o("div"),p=o("div"),m=d(),g=o("span"),_=O(v),k=d(),w=o("span"),b=O(y),T=O("%"),z=d(),q=o("button"),q.innerHTML='<svg width="10" height="10" viewBox="0 0 10 10"><path stroke="currentColor" stroke-width="1.5" d="M2 2l6 6M8 2L2 8"></path></svg>',n(i,"class","value-dot svelte-4ctbet"),he(i,"background",De(t[29].value)),n(r,"class","value-name svelte-4ctbet"),n(p,"class","value-bar svelte-4ctbet"),he(p,"width",t[29].count/t[7]*100+"%"),he(p,"background",De(t[29].value)+"40"),n(f,"class","value-bar-container svelte-4ctbet"),n(g,"class","value-count svelte-4ctbet"),n(w,"class","value-percent svelte-4ctbet"),n(s,"class","field-value svelte-4ctbet"),n(q,"class","exclude-btn svelte-4ctbet"),n(q,"title","Exclude"),n(e,"class","field-value-row svelte-4ctbet")},m(E,j){I(E,e,j),l(e,s),l(s,i),l(s,a),l(s,r),l(r,u),l(s,h),l(s,f),l(f,p),l(s,m),l(s,g),l(g,_),l(s,k),l(s,w),l(w,b),l(w,T),l(e,z),l(e,q),S||(L=[V(s,"click",H),V(q,"click",He(B))],S=!0)},p(E,j){t=E,j[0]&1024&&he(i,"background",De(t[29].value)),j[0]&1024&&c!==(c=t[29].value+"")&&W(u,c),j[0]&1152&&he(p,"width",t[29].count/t[7]*100+"%"),j[0]&1024&&he(p,"background",De(t[29].value)+"40"),j[0]&1024&&v!==(v=It(t[29].count)+"")&&W(_,v),j[0]&1024&&y!==(y=t[14](t[29].count).toFixed(0)+"")&&W(b,y)},d(E){E&&N(e),S=!1,je(L)}}}function ia(t){let e;return{c(){e=o("div"),e.textContent="No data",n(e,"class","empty svelte-4ctbet")},m(s,i){I(s,e,i)},d(s){s&&N(e)}}}function aa(t){let e,s,i=fe(t[9]),a=[];for(let c=0;c<i.length;c+=1)a[c]=oa(ta(t,i,c));let r=t[9].length===0&&ca();return{c(){e=o("div");for(let c=0;c<a.length;c+=1)a[c].c();s=d(),r&&r.c(),n(e,"class","field-values svelte-4ctbet")},m(c,u){I(c,e,u);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);l(e,s),r&&r.m(e,null)},p(c,u){if(u[0]&25152){i=fe(c[9]);let h;for(h=0;h<i.length;h+=1){const f=ta(c,i,h);a[h]?a[h].p(f,u):(a[h]=oa(f),a[h].c(),a[h].m(e,s))}for(;h<a.length;h+=1)a[h].d(1);a.length=i.length}c[9].length===0?r||(r=ca(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(c){c&&N(e),Le(a,c),r&&r.d()}}}function oa(t){let e,s,i,a,r,c=t[29].value+"",u,h,f,p,m,g,v=It(t[29].count)+"",_,k,w,y=t[14](t[29].count).toFixed(0)+"",b,T,z,q,S,L;function H(){return t[22](t[29])}function B(){return t[23](t[29])}return{c(){e=o("div"),s=o("button"),i=o("span"),a=d(),r=o("span"),u=O(c),h=d(),f=o("div"),p=o("div"),m=d(),g=o("span"),_=O(v),k=d(),w=o("span"),b=O(y),T=O("%"),z=d(),q=o("button"),q.innerHTML='<svg width="10" height="10" viewBox="0 0 10 10"><path stroke="currentColor" stroke-width="1.5" d="M2 2l6 6M8 2L2 8"></path></svg>',n(i,"class","value-dot svelte-4ctbet"),he(i,"background","#58a6ff"),n(r,"class","value-name svelte-4ctbet"),n(p,"class","value-bar svelte-4ctbet"),he(p,"width",t[29].count/t[6]*100+"%"),he(p,"background","#58a6ff40"),n(f,"class","value-bar-container svelte-4ctbet"),n(g,"class","value-count svelte-4ctbet"),n(w,"class","value-percent svelte-4ctbet"),n(s,"class","field-value svelte-4ctbet"),n(q,"class","exclude-btn svelte-4ctbet"),n(q,"title","Exclude"),n(e,"class","field-value-row svelte-4ctbet")},m(E,j){I(E,e,j),l(e,s),l(s,i),l(s,a),l(s,r),l(r,u),l(s,h),l(s,f),l(f,p),l(s,m),l(s,g),l(g,_),l(s,k),l(s,w),l(w,b),l(w,T),l(e,z),l(e,q),S||(L=[V(s,"click",H),V(q,"click",He(B))],S=!0)},p(E,j){t=E,j[0]&512&&c!==(c=t[29].value+"")&&W(u,c),j[0]&576&&he(p,"width",t[29].count/t[6]*100+"%"),j[0]&512&&v!==(v=It(t[29].count)+"")&&W(_,v),j[0]&512&&y!==(y=t[14](t[29].count).toFixed(0)+"")&&W(b,y)},d(E){E&&N(e),S=!1,je(L)}}}function ca(t){let e;return{c(){e=o("div"),e.textContent="No data",n(e,"class","empty svelte-4ctbet")},m(s,i){I(s,e,i)},d(s){s&&N(e)}}}function ra(t){let e,s,i=fe(t[8]),a=[];for(let c=0;c<i.length;c+=1)a[c]=ha(ea(t,i,c));let r=t[8].length===0&&ua();return{c(){e=o("div");for(let c=0;c<a.length;c+=1)a[c].c();s=d(),r&&r.c(),n(e,"class","field-values svelte-4ctbet")},m(c,u){I(c,e,u);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);l(e,s),r&&r.m(e,null)},p(c,u){if(u[0]&24864){i=fe(c[8]);let h;for(h=0;h<i.length;h+=1){const f=ea(c,i,h);a[h]?a[h].p(f,u):(a[h]=ha(f),a[h].c(),a[h].m(e,s))}for(;h<a.length;h+=1)a[h].d(1);a.length=i.length}c[8].length===0?r||(r=ua(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(c){c&&N(e),Le(a,c),r&&r.d()}}}function ha(t){let e,s,i,a,r,c=t[29].value+"",u,h,f,p,m,g,v=It(t[29].count)+"",_,k,w,y=t[14](t[29].count).toFixed(0)+"",b,T,z,q,S,L;function H(){return t[25](t[29])}function B(){return t[26](t[29])}return{c(){e=o("div"),s=o("button"),i=o("span"),a=d(),r=o("span"),u=O(c),h=d(),f=o("div"),p=o("div"),m=d(),g=o("span"),_=O(v),k=d(),w=o("span"),b=O(y),T=O("%"),z=d(),q=o("button"),q.innerHTML='<svg width="10" height="10" viewBox="0 0 10 10"><path stroke="currentColor" stroke-width="1.5" d="M2 2l6 6M8 2L2 8"></path></svg>',n(i,"class","value-dot svelte-4ctbet"),he(i,"background","#a371f7"),n(r,"class","value-name svelte-4ctbet"),n(p,"class","value-bar svelte-4ctbet"),he(p,"width",t[29].count/t[5]*100+"%"),he(p,"background","#a371f740"),n(f,"class","value-bar-container svelte-4ctbet"),n(g,"class","value-count svelte-4ctbet"),n(w,"class","value-percent svelte-4ctbet"),n(s,"class","field-value svelte-4ctbet"),n(q,"class","exclude-btn svelte-4ctbet"),n(q,"title","Exclude"),n(e,"class","field-value-row svelte-4ctbet")},m(E,j){I(E,e,j),l(e,s),l(s,i),l(s,a),l(s,r),l(r,u),l(s,h),l(s,f),l(f,p),l(s,m),l(s,g),l(g,_),l(s,k),l(s,w),l(w,b),l(w,T),l(e,z),l(e,q),S||(L=[V(s,"click",H),V(q,"click",He(B))],S=!0)},p(E,j){t=E,j[0]&256&&c!==(c=t[29].value+"")&&W(u,c),j[0]&288&&he(p,"width",t[29].count/t[5]*100+"%"),j[0]&256&&v!==(v=It(t[29].count)+"")&&W(_,v),j[0]&256&&y!==(y=t[14](t[29].count).toFixed(0)+"")&&W(b,y)},d(E){E&&N(e),S=!1,je(L)}}}function ua(t){let e;return{c(){e=o("div"),e.textContent="No data",n(e,"class","empty svelte-4ctbet")},m(s,i){I(s,e,i)},d(s){s&&N(e)}}}function wc(t){let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k,w,y,b,T,z,q,S,L,H=t[3].length+"",B,E,j,A,R,C,D,M,F,U,P,J=t[2].length+"",G,X,Z,Q,Y,x,ae,ce,K,ne,$,_e=t[1].length+"",ye,ue,ve,pe,le=t[4].level&&sa(t),ie=t[4].service&&aa(t),te=t[4].host&&ra(t);return{c(){e=o("div"),s=o("div"),i=o("h3"),i.textContent="Fields",a=d(),r=o("div"),c=o("button"),c.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M2 4l4 4 4-4"></path></svg>',u=d(),h=o("button"),h.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M2 8l4-4 4 4"></path></svg>',f=d(),p=o("div"),m=se("svg"),g=se("path"),v=d(),_=o("input"),k=d(),w=o("div"),y=o("button"),b=se("svg"),T=se("path"),z=d(),q=o("span"),q.textContent="level",S=d(),L=o("span"),B=O(H),E=d(),le&&le.c(),j=d(),A=o("div"),R=o("button"),C=se("svg"),D=se("path"),M=d(),F=o("span"),F.textContent="service",U=d(),P=o("span"),G=O(J),X=d(),ie&&ie.c(),Z=d(),Q=o("div"),Y=o("button"),x=se("svg"),ae=se("path"),ce=d(),K=o("span"),K.textContent="host",ne=d(),$=o("span"),ye=O(_e),ue=d(),te&&te.c(),n(i,"class","svelte-4ctbet"),n(c,"class","action-btn svelte-4ctbet"),n(c,"title","Expand all"),n(h,"class","action-btn svelte-4ctbet"),n(h,"title","Collapse all"),n(r,"class","header-actions svelte-4ctbet"),n(s,"class","fields-header svelte-4ctbet"),n(g,"fill","currentColor"),n(g,"d","M8.5 5.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-.5 3.2a4 4 0 1 1 .7-.7l2.1 2.1a.5.5 0 0 1-.7.7L8 8.7Z"),n(m,"width","12"),n(m,"height","12"),n(m,"viewBox","0 0 12 12"),n(m,"class","svelte-4ctbet"),n(_,"type","text"),n(_,"placeholder","Filter fields..."),n(_,"class","svelte-4ctbet"),n(p,"class","field-search svelte-4ctbet"),n(T,"fill","currentColor"),n(T,"d","M4.7 10a.5.5 0 0 1-.354-.854L7.293 6 4.346 3.054a.5.5 0 0 1 .708-.708l3.3 3.3a.5.5 0 0 1 0 .708l-3.3 3.3A.5.5 0 0 1 4.7 10Z"),n(b,"class","chevron svelte-4ctbet"),n(b,"width","12"),n(b,"height","12"),n(b,"viewBox","0 0 12 12"),ee(b,"expanded",t[4].level),n(q,"class","section-name svelte-4ctbet"),n(L,"class","section-count svelte-4ctbet"),n(y,"class","section-header svelte-4ctbet"),n(w,"class","field-section svelte-4ctbet"),n(D,"fill","currentColor"),n(D,"d","M4.7 10a.5.5 0 0 1-.354-.854L7.293 6 4.346 3.054a.5.5 0 0 1 .708-.708l3.3 3.3a.5.5 0 0 1 0 .708l-3.3 3.3A.5.5 0 0 1 4.7 10Z"),n(C,"class","chevron svelte-4ctbet"),n(C,"width","12"),n(C,"height","12"),n(C,"viewBox","0 0 12 12"),ee(C,"expanded",t[4].service),n(F,"class","section-name svelte-4ctbet"),n(P,"class","section-count svelte-4ctbet"),n(R,"class","section-header svelte-4ctbet"),n(A,"class","field-section svelte-4ctbet"),n(ae,"fill","currentColor"),n(ae,"d","M4.7 10a.5.5 0 0 1-.354-.854L7.293 6 4.346 3.054a.5.5 0 0 1 .708-.708l3.3 3.3a.5.5 0 0 1 0 .708l-3.3 3.3A.5.5 0 0 1 4.7 10Z"),n(x,"class","chevron svelte-4ctbet"),n(x,"width","12"),n(x,"height","12"),n(x,"viewBox","0 0 12 12"),ee(x,"expanded",t[4].host),n(K,"class","section-name svelte-4ctbet"),n($,"class","section-count svelte-4ctbet"),n(Y,"class","section-header svelte-4ctbet"),n(Q,"class","field-section svelte-4ctbet"),n(e,"class","fields-sidebar svelte-4ctbet")},m(oe,ge){I(oe,e,ge),l(e,s),l(s,i),l(s,a),l(s,r),l(r,c),l(r,u),l(r,h),l(e,f),l(e,p),l(p,m),l(m,g),l(p,v),l(p,_),me(_,t[0]),l(e,k),l(e,w),l(w,y),l(y,b),l(b,T),l(y,z),l(y,q),l(y,S),l(y,L),l(L,B),l(w,E),le&&le.m(w,null),l(e,j),l(e,A),l(A,R),l(R,C),l(C,D),l(R,M),l(R,F),l(R,U),l(R,P),l(P,G),l(A,X),ie&&ie.m(A,null),l(e,Z),l(e,Q),l(Q,Y),l(Y,x),l(x,ae),l(Y,ce),l(Y,K),l(Y,ne),l(Y,$),l($,ye),l(Q,ue),te&&te.m(Q,null),ve||(pe=[V(c,"click",t[15]),V(h,"click",t[16]),V(_,"input",t[17]),V(y,"click",t[18]),V(R,"click",t[21]),V(Y,"click",t[24])],ve=!0)},p(oe,ge){ge[0]&1&&_.value!==oe[0]&&me(_,oe[0]),ge[0]&16&&ee(b,"expanded",oe[4].level),ge[0]&8&&H!==(H=oe[3].length+"")&&W(B,H),oe[4].level?le?le.p(oe,ge):(le=sa(oe),le.c(),le.m(w,null)):le&&(le.d(1),le=null),ge[0]&16&&ee(C,"expanded",oe[4].service),ge[0]&4&&J!==(J=oe[2].length+"")&&W(G,J),oe[4].service?ie?ie.p(oe,ge):(ie=aa(oe),ie.c(),ie.m(A,null)):ie&&(ie.d(1),ie=null),ge[0]&16&&ee(x,"expanded",oe[4].host),ge[0]&2&&_e!==(_e=oe[1].length+"")&&W(ye,_e),oe[4].host?te?te.p(oe,ge):(te=ra(oe),te.c(),te.m(Q,null)):te&&(te.d(1),te=null)},i:de,o:de,d(oe){oe&&N(e),le&&le.d(),ie&&ie.d(),te&&te.d(),ve=!1,je(pe)}}}function It(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t}function yc(t,e,s){let i,a,r,c,u,h,f,p,m,g;Oe(t,Hs,M=>s(1,f=M)),Oe(t,Ts,M=>s(2,p=M)),Oe(t,Ls,M=>s(3,m=M)),Oe(t,Ss,M=>s(27,g=M));const v=Gt();let _={level:!0,service:!0,host:!0},k="";function w(M){s(4,_[M]=!_[M],_)}function y(M){s(4,_={level:M,service:M,host:M})}function b(M,F,U=!1){v("filter",{field:M,value:`${U?"NOT ":""}${M}:${F}`})}function T(M){return Math.min(100,M/(g||1)*100)}const z=()=>y(!0),q=()=>y(!1);function S(){k=this.value,s(0,k)}const L=()=>w("level"),H=M=>b("level",M.value),B=M=>b("level",M.value,!0),E=()=>w("service"),j=M=>b("service",M.value),A=M=>b("service",M.value,!0),R=()=>w("host"),C=M=>b("host",M.value),D=M=>b("host",M.value,!0);return t.$$.update=()=>{t.$$.dirty[0]&9&&s(10,i=m.filter(M=>!k||M.value.toLowerCase().includes(k.toLowerCase()))),t.$$.dirty[0]&5&&s(9,a=p.filter(M=>!k||M.value.toLowerCase().includes(k.toLowerCase()))),t.$$.dirty[0]&3&&s(8,r=f.filter(M=>!k||M.value.toLowerCase().includes(k.toLowerCase()))),t.$$.dirty[0]&8&&s(7,c=Math.max(...m.map(M=>M.count),1)),t.$$.dirty[0]&4&&s(6,u=Math.max(...p.map(M=>M.count),1)),t.$$.dirty[0]&2&&s(5,h=Math.max(...f.map(M=>M.count),1))},[k,f,p,m,_,h,u,c,r,a,i,w,y,b,T,z,q,S,L,H,B,E,j,A,R,C,D]}class zc extends Ye{constructor(e){super(),Ge(this,e,yc,wc,We,{},null,[-1,-1])}}function fa(t,e,s){const i=t.slice();return i[27]=e[s],i[29]=s,i}function da(t,e,s){const i=t.slice();return i[30]=e[s][0],i[31]=e[s][1],i}function va(t,e,s){const i=t.slice();return i[34]=e[s],i}function pa(t,e,s){const i=t.slice();return i[34]=e[s],i}function ga(t){let e,s,i,a,r,c,u,h,f=fe(t[1]),p=[];for(let m=0;m<f.length;m+=1)p[m]=_a(pa(t,f,m));return{c(){e=o("div"),s=o("div"),i=o("span"),i.textContent="Show/Hide Columns",a=d(),r=o("button"),r.textContent="Reset",c=d();for(let m=0;m<p.length;m+=1)p[m].c();n(r,"class","reset-btn svelte-1agpyzi"),n(s,"class","column-menu-header svelte-1agpyzi"),n(e,"class","column-menu svelte-1agpyzi")},m(m,g){I(m,e,g),l(e,s),l(s,i),l(s,a),l(s,r),l(e,c);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(e,null);u||(h=V(r,"click",t[10]),u=!0)},p(m,g){if(g[0]&258){f=fe(m[1]);let v;for(v=0;v<f.length;v+=1){const _=pa(m,f,v);p[v]?p[v].p(_,g):(p[v]=_a(_),p[v].c(),p[v].m(e,null))}for(;v<p.length;v+=1)p[v].d(1);p.length=f.length}},d(m){m&&N(e),Le(p,m),u=!1,h()}}}function _a(t){let e,s,i,a,r,c=t[34].label+"",u,h,f,p;function m(){return t[12](t[34])}return{c(){e=o("label"),s=o("input"),a=d(),r=o("span"),u=O(c),h=d(),n(s,"type","checkbox"),s.checked=i=t[34].visible,n(s,"class","svelte-1agpyzi"),n(e,"class","column-option svelte-1agpyzi")},m(g,v){I(g,e,v),l(e,s),l(e,a),l(e,r),l(r,u),l(e,h),f||(p=V(s,"change",m),f=!0)},p(g,v){t=g,v[0]&2&&i!==(i=t[34].visible)&&(s.checked=i),v[0]&2&&c!==(c=t[34].label+"")&&W(u,c)},d(g){g&&N(e),f=!1,p()}}}function Cc(t){let e,s,i,a,r,c=[],u=new Map,h=fe(t[2]),f=[];for(let g=0;g<h.length;g+=1)f[g]=ba(va(t,h,g));let p=fe(t[0]);const m=g=>g[27].id||g[29];for(let g=0;g<p.length;g+=1){let v=fa(t,p,g),_=m(v);u.set(_,c[g]=La(_,v))}return{c(){e=o("table"),s=o("thead"),i=o("tr");for(let g=0;g<f.length;g+=1)f[g].c();a=d(),r=o("tbody");for(let g=0;g<c.length;g+=1)c[g].c();n(s,"class","svelte-1agpyzi"),n(e,"class","log-table svelte-1agpyzi"),ee(e,"resizing",t[5]!==null)},m(g,v){I(g,e,v),l(e,s),l(s,i);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(i,null);l(e,a),l(e,r);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(r,null)},p(g,v){if(v[0]&516){h=fe(g[2]);let _;for(_=0;_<h.length;_+=1){const k=va(g,h,_);f[_]?f[_].p(k,v):(f[_]=ba(k),f[_].c(),f[_].m(i,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=h.length}v[0]&203&&(p=fe(g[0]),c=sc(c,v,m,1,g,p,u,r,lc,La,null,fa)),v[0]&32&&ee(e,"resizing",g[5]!==null)},d(g){g&&N(e),Le(f,g);for(let v=0;v<c.length;v+=1)c[v].d()}}}function Mc(t){let e;return{c(){e=o("div"),e.innerHTML='<svg width="48" height="48" viewBox="0 0 48 48" class="svelte-1agpyzi"><path fill="currentColor" opacity="0.3" d="M24 4C12.954 4 4 12.954 4 24s8.954 20 20 20 20-8.954 20-20S35.046 4 24 4Zm0 36c-8.837 0-16-7.163-16-16S15.163 8 24 8s16 7.163 16 16-7.163 16-16 16Z"></path><path fill="currentColor" d="M24 14a2 2 0 0 1 2 2v8a2 2 0 0 1-4 0v-8a2 2 0 0 1 2-2Zm0 16a2 2 0 1 1 0 4 2 2 0 0 1 0-4Z"></path></svg> <p class="svelte-1agpyzi">No logs found</p> <span class="svelte-1agpyzi">Try adjusting your search or time range</span>',n(e,"class","empty-state svelte-1agpyzi")},m(s,i){I(s,e,i)},p:de,d(s){s&&N(e)}}}function ma(t){let e,s,i;function a(...r){return t[13](t[34],...r)}return{c(){e=o("div"),n(e,"class","resize-handle svelte-1agpyzi"),n(e,"role","separator"),n(e,"aria-orientation","vertical"),n(e,"tabindex","-1")},m(r,c){I(r,e,c),s||(i=V(e,"mousedown",a),s=!0)},p(r,c){t=r},d(r){r&&N(e),s=!1,i()}}}function ba(t){let e,s=t[34].label+"",i,a,r,c,u=t[34].id!=="message"&&ma(t);return{c(){e=o("th"),i=O(s),a=d(),u&&u.c(),r=d(),n(e,"style",c=t[34].width?`width: ${t[34].width}px`:""),n(e,"class","svelte-1agpyzi")},m(h,f){I(h,e,f),l(e,i),l(e,a),u&&u.m(e,null),l(e,r)},p(h,f){f[0]&4&&s!==(s=h[34].label+"")&&W(i,s),h[34].id!=="message"?u?u.p(h,f):(u=ma(h),u.c(),u.m(e,r)):u&&(u.d(1),u=null),f[0]&4&&c!==(c=h[34].width?`width: ${h[34].width}px`:"")&&n(e,"style",c)},d(h){h&&N(e),u&&u.d()}}}function ka(t){let e,s,i=Fi(t[27].timestamp)+"",a,r;return{c(){e=o("td"),s=o("span"),a=O(i),n(s,"class","timestamp svelte-1agpyzi"),n(s,"title",r=Pi(t[27].timestamp)),he(e,"width",t[1].find(Aa).width+"px"),n(e,"class","svelte-1agpyzi")},m(c,u){I(c,e,u),l(e,s),l(s,a)},p(c,u){u[0]&1&&i!==(i=Fi(c[27].timestamp)+"")&&W(a,i),u[0]&1&&r!==(r=Pi(c[27].timestamp))&&n(s,"title",r),u[0]&2&&he(e,"width",c[1].find(Aa).width+"px")},d(c){c&&N(e)}}}function wa(t){let e,s,i=t[27].level+"",a;return{c(){e=o("td"),s=o("span"),a=O(i),n(s,"class","level-badge svelte-1agpyzi"),he(s,"background",De(t[27].level)+"20"),he(s,"color",De(t[27].level)),he(e,"width",t[1].find(Ea).width+"px"),n(e,"class","svelte-1agpyzi")},m(r,c){I(r,e,c),l(e,s),l(s,a)},p(r,c){c[0]&1&&i!==(i=r[27].level+"")&&W(a,i),c[0]&1&&he(s,"background",De(r[27].level)+"20"),c[0]&1&&he(s,"color",De(r[27].level)),c[0]&2&&he(e,"width",r[1].find(Ea).width+"px")},d(r){r&&N(e)}}}function ya(t){let e,s,i=t[27].service+"",a;return{c(){e=o("td"),s=o("span"),a=O(i),n(s,"class","service svelte-1agpyzi"),he(e,"width",t[1].find(Oa).width+"px"),n(e,"class","svelte-1agpyzi")},m(r,c){I(r,e,c),l(e,s),l(s,a)},p(r,c){c[0]&1&&i!==(i=r[27].service+"")&&W(a,i),c[0]&2&&he(e,"width",r[1].find(Oa).width+"px")},d(r){r&&N(e)}}}function za(t){let e,s,i=t[27].host+"",a;return{c(){e=o("td"),s=o("span"),a=O(i),n(s,"class","host svelte-1agpyzi"),he(e,"width",t[1].find(Na).width+"px"),n(e,"class","svelte-1agpyzi")},m(r,c){I(r,e,c),l(e,s),l(s,a)},p(r,c){c[0]&1&&i!==(i=r[27].host+"")&&W(a,i),c[0]&2&&he(e,"width",r[1].find(Na).width+"px")},d(r){r&&N(e)}}}function Ca(t){let e,s,i=t[27].message+"",a;return{c(){e=o("td"),s=o("span"),a=O(i),n(s,"class","message svelte-1agpyzi"),n(e,"class","svelte-1agpyzi")},m(r,c){I(r,e,c),l(e,s),l(s,a)},p(r,c){c[0]&1&&i!==(i=r[27].message+"")&&W(a,i)},d(r){r&&N(e)}}}function Ma(t){let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k,w,y=t[27].timestamp+"",b,T,z,q,S,L,H,B=t[27].level+"",E,j,A,R,C,D,M=t[27].service+"",F,U,P,J,G,X,Z=t[27].host+"",Q,Y,x,ae,ce,K,ne=t[27].message+"",$,_e,ye=t[27].meta&&Object.keys(t[27].meta).length>0,ue,ve,pe,le,ie,te=t[27].raw+"",oe,ge,ke,Re;function Be(){return t[15](t[27])}function Se(){return t[16](t[27])}function Ce(){return t[17](t[27])}function Ee(){return t[18](t[27])}function Ie(){return t[19](t[27])}function ot(){return t[20](t[27])}let re=ye&&ja(t);return{c(){e=o("tr"),s=o("td"),i=o("div"),a=o("div"),r=o("h4"),r.textContent="Log Details",c=d(),u=o("div"),h=o("button"),h.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1agpyzi"><path fill="currentColor" d="M4 2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H4Zm5 7H4V3h5v6Z"></path><path fill="currentColor" d="M2 4v6a2 2 0 0 0 2 2h5v-1H4a1 1 0 0 1-1-1V4H2Z"></path></svg>
                        Copy Raw`,f=d(),p=o("button"),p.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1agpyzi"><path fill="currentColor" d="M3 2a1 1 0 0 0-1 1v2a1 1 0 0 1-1 1 1 1 0 0 1 1 1v2a1 1 0 0 0 1 1M9 2a1 1 0 0 1 1 1v2a1 1 0 0 0 1 1 1 1 0 0 0-1 1v2a1 1 0 0 1-1 1"></path></svg>
                        Copy JSON`,m=d(),g=o("div"),v=o("button"),_=o("span"),_.textContent="timestamp",k=d(),w=o("span"),b=O(y),T=d(),z=o("button"),q=o("span"),q.textContent="level",S=d(),L=o("span"),H=o("span"),E=O(B),j=d(),A=o("button"),R=o("span"),R.textContent="service",C=d(),D=o("span"),F=O(M),U=d(),P=o("button"),J=o("span"),J.textContent="host",G=d(),X=o("span"),Q=O(Z),Y=d(),x=o("div"),ae=o("span"),ae.textContent="message",ce=d(),K=o("span"),$=O(ne),_e=d(),re&&re.c(),ue=d(),ve=o("div"),pe=o("h5"),pe.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1agpyzi"><path fill="currentColor" d="M1 2h10a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm0 1v6h10V3H1Zm1 1h2v1H2V4Zm3 0h5v1H5V4Zm-3 2h1v1H2V6Zm2 0h4v1H4V6Z"></path></svg>
                      Raw Log`,le=d(),ie=o("pre"),oe=O(te),ge=d(),n(r,"class","svelte-1agpyzi"),n(h,"class","action-btn svelte-1agpyzi"),n(h,"title","Copy raw log"),n(p,"class","action-btn svelte-1agpyzi"),n(p,"title","Copy as JSON"),n(u,"class","detail-actions svelte-1agpyzi"),n(a,"class","detail-header svelte-1agpyzi"),n(_,"class","field-name svelte-1agpyzi"),n(w,"class","field-value mono svelte-1agpyzi"),n(v,"class","detail-field clickable svelte-1agpyzi"),n(v,"title","Click to copy"),n(q,"class","field-name svelte-1agpyzi"),n(H,"class","level-badge-sm svelte-1agpyzi"),he(H,"background",De(t[27].level)+"20"),he(H,"color",De(t[27].level)),n(L,"class","field-value svelte-1agpyzi"),n(z,"class","detail-field clickable svelte-1agpyzi"),n(z,"title","Click to copy"),n(R,"class","field-name svelte-1agpyzi"),n(D,"class","field-value highlight-blue svelte-1agpyzi"),n(A,"class","detail-field clickable svelte-1agpyzi"),n(A,"title","Click to copy"),n(J,"class","field-name svelte-1agpyzi"),n(X,"class","field-value highlight-purple svelte-1agpyzi"),n(P,"class","detail-field clickable svelte-1agpyzi"),n(P,"title","Click to copy"),n(g,"class","detail-grid svelte-1agpyzi"),n(ae,"class","field-name svelte-1agpyzi"),n(K,"class","field-value mono svelte-1agpyzi"),n(x,"class","detail-field full-width svelte-1agpyzi"),n(pe,"class","svelte-1agpyzi"),n(ie,"class","raw-log svelte-1agpyzi"),n(ve,"class","detail-section svelte-1agpyzi"),n(i,"class","log-detail svelte-1agpyzi"),n(s,"colspan",t[6]),n(s,"class","svelte-1agpyzi"),n(e,"class","detail-row svelte-1agpyzi")},m(Me,Te){I(Me,e,Te),l(e,s),l(s,i),l(i,a),l(a,r),l(a,c),l(a,u),l(u,h),l(u,f),l(u,p),l(i,m),l(i,g),l(g,v),l(v,_),l(v,k),l(v,w),l(w,b),l(g,T),l(g,z),l(z,q),l(z,S),l(z,L),l(L,H),l(H,E),l(g,j),l(g,A),l(A,R),l(A,C),l(A,D),l(D,F),l(g,U),l(g,P),l(P,J),l(P,G),l(P,X),l(X,Q),l(i,Y),l(i,x),l(x,ae),l(x,ce),l(x,K),l(K,$),l(i,_e),re&&re.m(i,null),l(i,ue),l(i,ve),l(ve,pe),l(ve,le),l(ve,ie),l(ie,oe),l(e,ge),ke||(Re=[V(h,"click",He(Be)),V(p,"click",He(Se)),V(v,"click",He(Ce)),V(z,"click",He(Ee)),V(A,"click",He(Ie)),V(P,"click",He(ot))],ke=!0)},p(Me,Te){t=Me,Te[0]&1&&y!==(y=t[27].timestamp+"")&&W(b,y),Te[0]&1&&B!==(B=t[27].level+"")&&W(E,B),Te[0]&1&&he(H,"background",De(t[27].level)+"20"),Te[0]&1&&he(H,"color",De(t[27].level)),Te[0]&1&&M!==(M=t[27].service+"")&&W(F,M),Te[0]&1&&Z!==(Z=t[27].host+"")&&W(Q,Z),Te[0]&1&&ne!==(ne=t[27].message+"")&&W($,ne),Te[0]&1&&(ye=t[27].meta&&Object.keys(t[27].meta).length>0),ye?re?re.p(t,Te):(re=ja(t),re.c(),re.m(i,ue)):re&&(re.d(1),re=null),Te[0]&1&&te!==(te=t[27].raw+"")&&W(oe,te),Te[0]&64&&n(s,"colspan",t[6])},d(Me){Me&&N(e),re&&re.d(),ke=!1,je(Re)}}}function ja(t){let e,s,i,a,r=fe(Object.entries(t[27].meta)),c=[];for(let u=0;u<r.length;u+=1)c[u]=Sa(da(t,r,u));return{c(){e=o("div"),s=o("h5"),s.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1agpyzi"><path fill="currentColor" d="M2 3h8v1H2V3Zm0 2h8v1H2V5Zm0 2h6v1H2V7Zm0 2h4v1H2V9Z"></path></svg>
                        Meta Fields`,i=d(),a=o("div");for(let u=0;u<c.length;u+=1)c[u].c();n(s,"class","svelte-1agpyzi"),n(a,"class","meta-grid svelte-1agpyzi"),n(e,"class","detail-section svelte-1agpyzi")},m(u,h){I(u,e,h),l(e,s),l(e,i),l(e,a);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(a,null)},p(u,h){if(h[0]&1){r=fe(Object.entries(u[27].meta));let f;for(f=0;f<r.length;f+=1){const p=da(u,r,f);c[f]?c[f].p(p,h):(c[f]=Sa(p),c[f].c(),c[f].m(a,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=r.length}},d(u){u&&N(e),Le(c,u)}}}function Sa(t){let e,s,i=t[30]+"",a,r,c,u=(typeof t[31]=="object"?JSON.stringify(t[31]):t[31])+"",h,f,p,m;function g(){return t[21](t[31])}return{c(){e=o("button"),s=o("span"),a=O(i),r=d(),c=o("span"),h=O(u),f=d(),n(s,"class","meta-key svelte-1agpyzi"),n(c,"class","meta-value svelte-1agpyzi"),n(e,"class","meta-field svelte-1agpyzi"),n(e,"title","Click to copy")},m(v,_){I(v,e,_),l(e,s),l(s,a),l(e,r),l(e,c),l(c,h),l(e,f),p||(m=V(e,"click",He(g)),p=!0)},p(v,_){t=v,_[0]&1&&i!==(i=t[30]+"")&&W(a,i),_[0]&1&&u!==(u=(typeof t[31]=="object"?JSON.stringify(t[31]):t[31])+"")&&W(h,u)},d(v){v&&N(e),p=!1,m()}}}function La(t,e){var L,H,B,E,j,A;let s,i=(L=e[1].find(qa))==null?void 0:L.visible,a,r=(H=e[1].find(Ba))==null?void 0:H.visible,c,u=(B=e[1].find(Ra))==null?void 0:B.visible,h,f=(E=e[1].find(Ha))==null?void 0:E.visible,p,m=(j=e[1].find(Ta))==null?void 0:j.visible,g,v,_,k,w=i&&ka(e),y=r&&wa(e),b=u&&ya(e),T=f&&za(e),z=m&&Ca(e);function q(){return e[14](e[27])}let S=((A=e[3])==null?void 0:A.id)===e[27].id&&Ma(e);return{key:t,first:null,c(){var R;s=o("tr"),w&&w.c(),a=d(),y&&y.c(),c=d(),b&&b.c(),h=d(),T&&T.c(),p=d(),z&&z.c(),g=d(),S&&S.c(),v=Xt(),n(s,"class","log-row svelte-1agpyzi"),ee(s,"selected",((R=e[3])==null?void 0:R.id)===e[27].id),this.first=s},m(R,C){I(R,s,C),w&&w.m(s,null),l(s,a),y&&y.m(s,null),l(s,c),b&&b.m(s,null),l(s,h),T&&T.m(s,null),l(s,p),z&&z.m(s,null),I(R,g,C),S&&S.m(R,C),I(R,v,C),_||(k=V(s,"click",q),_=!0)},p(R,C){var D,M,F,U,P,J,G;e=R,C[0]&2&&(i=(D=e[1].find(qa))==null?void 0:D.visible),i?w?w.p(e,C):(w=ka(e),w.c(),w.m(s,a)):w&&(w.d(1),w=null),C[0]&2&&(r=(M=e[1].find(Ba))==null?void 0:M.visible),r?y?y.p(e,C):(y=wa(e),y.c(),y.m(s,c)):y&&(y.d(1),y=null),C[0]&2&&(u=(F=e[1].find(Ra))==null?void 0:F.visible),u?b?b.p(e,C):(b=ya(e),b.c(),b.m(s,h)):b&&(b.d(1),b=null),C[0]&2&&(f=(U=e[1].find(Ha))==null?void 0:U.visible),f?T?T.p(e,C):(T=za(e),T.c(),T.m(s,p)):T&&(T.d(1),T=null),C[0]&2&&(m=(P=e[1].find(Ta))==null?void 0:P.visible),m?z?z.p(e,C):(z=Ca(e),z.c(),z.m(s,null)):z&&(z.d(1),z=null),C[0]&9&&ee(s,"selected",((J=e[3])==null?void 0:J.id)===e[27].id),((G=e[3])==null?void 0:G.id)===e[27].id?S?S.p(e,C):(S=Ma(e),S.c(),S.m(v.parentNode,v)):S&&(S.d(1),S=null)},d(R){R&&(N(s),N(g),N(v)),w&&w.d(),y&&y.d(),b&&b.d(),T&&T.d(),z&&z.d(),S&&S.d(R),_=!1,k()}}}function jc(t){let e,s,i,a,r,c,u,h=t[0].length+"",f,p,m,g,v,_=t[4]&&ga(t);function k(b,T){return b[0].length===0?Mc:Cc}let w=k(t),y=w(t);return{c(){e=o("div"),s=o("div"),i=o("div"),a=o("button"),a.innerHTML=`<svg width="14" height="14" viewBox="0 0 14 14"><path fill="currentColor" d="M1 2h12v2H1V2Zm0 4h12v2H1V6Zm0 4h8v2H1v-2Z"></path></svg>
        Columns`,r=d(),_&&_.c(),c=d(),u=o("span"),f=O(h),p=O(" logs"),m=d(),y.c(),n(a,"class","toolbar-btn svelte-1agpyzi"),n(a,"title","Configure columns"),n(i,"class","column-menu-container svelte-1agpyzi"),n(u,"class","toolbar-info svelte-1agpyzi"),n(s,"class","table-toolbar svelte-1agpyzi"),n(e,"class","log-table-container svelte-1agpyzi")},m(b,T){I(b,e,T),l(e,s),l(s,i),l(i,a),l(i,r),_&&_.m(i,null),l(s,c),l(s,u),l(u,f),l(u,p),l(e,m),y.m(e,null),g||(v=V(a,"click",t[11]),g=!0)},p(b,T){b[4]?_?_.p(b,T):(_=ga(b),_.c(),_.m(i,null)):_&&(_.d(1),_=null),T[0]&1&&h!==(h=b[0].length+"")&&W(f,h),w===(w=k(b))&&y?y.p(b,T):(y.d(1),y=w(b),y&&(y.c(),y.m(e,null)))},i:de,o:de,d(b){b&&N(e),_&&_.d(),y.d(),g=!1,v()}}}function ct(t){navigator.clipboard.writeText(t)}const Ta=t=>t.id==="message",Ha=t=>t.id==="host",Ra=t=>t.id==="service",Ba=t=>t.id==="level",qa=t=>t.id==="time",Aa=t=>t.id==="time",Ea=t=>t.id==="level",Oa=t=>t.id==="service",Na=t=>t.id==="host";function Sc(t,e,s){let i,a,{logs:r=[]}=e,c=null,u=!1,h=[{id:"time",label:"Time",visible:!0,width:90,minWidth:60},{id:"level",label:"Level",visible:!0,width:100,minWidth:60},{id:"service",label:"Service",visible:!0,width:150,minWidth:80},{id:"host",label:"Host",visible:!1,width:120,minWidth:80},{id:"message",label:"Message",visible:!0,width:null,minWidth:200}],f=null,p=0,m=0;at(()=>{const C=localStorage.getItem("purl_column_config");if(C)try{const D=JSON.parse(C);s(1,h=h.map(M=>({...M,...D.find(F=>F.id===M.id)})))}catch{}});function g(){localStorage.setItem("purl_column_config",JSON.stringify(h.map(C=>({id:C.id,visible:C.visible,width:C.width}))))}function v(C){s(3,c=(c==null?void 0:c.id)===C.id?null:C)}function _(C){const D=h.find(M=>M.id===C);D&&(D.visible=!D.visible,s(1,h),g())}function k(C,D){C.preventDefault();const M=h.find(F=>F.id===D);!M||M.id==="message"||(s(5,f=D),p=C.clientX,m=M.width,document.addEventListener("mousemove",w),document.addEventListener("mouseup",y))}function w(C){if(!f)return;const D=h.find(F=>F.id===f);if(!D)return;const M=C.clientX-p;D.width=Math.max(D.minWidth,m+M),s(1,h)}function y(){f&&g(),s(5,f=null),document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",y)}function b(){s(1,h=[{id:"time",label:"Time",visible:!0,width:90,minWidth:60},{id:"level",label:"Level",visible:!0,width:100,minWidth:60},{id:"service",label:"Service",visible:!0,width:150,minWidth:80},{id:"host",label:"Host",visible:!1,width:120,minWidth:80},{id:"message",label:"Message",visible:!0,width:null,minWidth:200}]),g()}const T=()=>s(4,u=!u),z=C=>_(C.id),q=(C,D)=>k(D,C.id),S=C=>v(C),L=C=>ct(C.raw),H=C=>ct(JSON.stringify(C,null,2)),B=C=>ct(C.timestamp),E=C=>ct(C.level),j=C=>ct(C.service),A=C=>ct(C.host),R=C=>ct(String(C));return t.$$set=C=>{"logs"in C&&s(0,r=C.logs)},t.$$.update=()=>{t.$$.dirty[0]&2&&s(2,i=h.filter(C=>C.visible)),t.$$.dirty[0]&4&&s(6,a=i.length)},[r,h,i,c,u,f,a,v,_,k,b,T,z,q,S,L,H,B,E,j,A,R]}class Lc extends Ye{constructor(e){super(),Ge(this,e,Sc,jc,We,{logs:0},null,[-1,-1])}}function Ia(t){let e,s,i,a,r=xe(t[5])+"",c,u,h;return{c(){e=o("div"),s=d(),i=o("div"),a=o("span"),c=O(r),u=d(),h=o("span"),h.textContent="Errors",n(e,"class","stat-divider svelte-1cnat85"),n(a,"class","stat-value svelte-1cnat85"),n(h,"class","stat-label svelte-1cnat85"),n(i,"class","stat error svelte-1cnat85")},m(f,p){I(f,e,p),I(f,s,p),I(f,i,p),l(i,a),l(a,c),l(i,u),l(i,h)},p(f,p){p&32&&r!==(r=xe(f[5])+"")&&W(c,r)},d(f){f&&(N(e),N(s),N(i))}}}function Da(t){let e,s,i,a,r=xe(t[4])+"",c,u,h;return{c(){e=o("div"),s=d(),i=o("div"),a=o("span"),c=O(r),u=d(),h=o("span"),h.textContent="Warnings",n(e,"class","stat-divider svelte-1cnat85"),n(a,"class","stat-value svelte-1cnat85"),n(h,"class","stat-label svelte-1cnat85"),n(i,"class","stat warning svelte-1cnat85")},m(f,p){I(f,e,p),I(f,s,p),I(f,i,p),l(i,a),l(a,c),l(i,u),l(i,h)},p(f,p){p&16&&r!==(r=xe(f[4])+"")&&W(c,r)},d(f){f&&(N(e),N(s),N(i))}}}function Fa(t){let e,s,i=Wa(t[3].data.time)+"",a,r,c,u,h,f,p,m,g,v=t[3].data.count.toLocaleString()+"",_,k,w,y,b=t[3].data.errors&&Pa(t),T=t[3].data.warnings&&Va(t),z=t[3].data.info&&Za(t);return{c(){e=o("div"),s=o("div"),a=O(i),r=d(),c=o("div"),u=o("div"),h=o("span"),f=d(),p=o("span"),p.textContent="Total",m=d(),g=o("span"),_=O(v),k=d(),b&&b.c(),w=d(),T&&T.c(),y=d(),z&&z.c(),n(s,"class","tooltip-time svelte-1cnat85"),n(h,"class","tooltip-dot total svelte-1cnat85"),n(g,"class","tooltip-value svelte-1cnat85"),n(u,"class","tooltip-row svelte-1cnat85"),n(c,"class","tooltip-stats svelte-1cnat85"),n(e,"class","tooltip svelte-1cnat85"),he(e,"left",t[3].x+"px"),he(e,"top",t[3].y+"px")},m(q,S){I(q,e,S),l(e,s),l(s,a),l(e,r),l(e,c),l(c,u),l(u,h),l(u,f),l(u,p),l(u,m),l(u,g),l(g,_),l(c,k),b&&b.m(c,null),l(c,w),T&&T.m(c,null),l(c,y),z&&z.m(c,null)},p(q,S){S&8&&i!==(i=Wa(q[3].data.time)+"")&&W(a,i),S&8&&v!==(v=q[3].data.count.toLocaleString()+"")&&W(_,v),q[3].data.errors?b?b.p(q,S):(b=Pa(q),b.c(),b.m(c,w)):b&&(b.d(1),b=null),q[3].data.warnings?T?T.p(q,S):(T=Va(q),T.c(),T.m(c,y)):T&&(T.d(1),T=null),q[3].data.info?z?z.p(q,S):(z=Za(q),z.c(),z.m(c,null)):z&&(z.d(1),z=null),S&8&&he(e,"left",q[3].x+"px"),S&8&&he(e,"top",q[3].y+"px")},d(q){q&&N(e),b&&b.d(),T&&T.d(),z&&z.d()}}}function Pa(t){let e,s,i,a,r,c,u=t[3].data.errors.toLocaleString()+"",h;return{c(){e=o("div"),s=o("span"),i=d(),a=o("span"),a.textContent="Errors",r=d(),c=o("span"),h=O(u),n(s,"class","tooltip-dot error svelte-1cnat85"),n(c,"class","tooltip-value svelte-1cnat85"),n(e,"class","tooltip-row svelte-1cnat85")},m(f,p){I(f,e,p),l(e,s),l(e,i),l(e,a),l(e,r),l(e,c),l(c,h)},p(f,p){p&8&&u!==(u=f[3].data.errors.toLocaleString()+"")&&W(h,u)},d(f){f&&N(e)}}}function Va(t){let e,s,i,a,r,c,u=t[3].data.warnings.toLocaleString()+"",h;return{c(){e=o("div"),s=o("span"),i=d(),a=o("span"),a.textContent="Warnings",r=d(),c=o("span"),h=O(u),n(s,"class","tooltip-dot warning svelte-1cnat85"),n(c,"class","tooltip-value svelte-1cnat85"),n(e,"class","tooltip-row svelte-1cnat85")},m(f,p){I(f,e,p),l(e,s),l(e,i),l(e,a),l(e,r),l(e,c),l(c,h)},p(f,p){p&8&&u!==(u=f[3].data.warnings.toLocaleString()+"")&&W(h,u)},d(f){f&&N(e)}}}function Za(t){let e,s,i,a,r,c,u=t[3].data.info.toLocaleString()+"",h;return{c(){e=o("div"),s=o("span"),i=d(),a=o("span"),a.textContent="Info",r=d(),c=o("span"),h=O(u),n(s,"class","tooltip-dot info svelte-1cnat85"),n(c,"class","tooltip-value svelte-1cnat85"),n(e,"class","tooltip-row svelte-1cnat85")},m(f,p){I(f,e,p),l(e,s),l(e,i),l(e,a),l(e,r),l(e,c),l(c,h)},p(f,p){p&8&&u!==(u=f[3].data.info.toLocaleString()+"")&&W(h,u)},d(f){f&&N(e)}}}function Tc(t){let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k=xe(t[1])+"",w,y,b,T,z,q,S,L,H=xe(t[6])+"",B,E,j,A,R,C,D,M,F,U,P,J,G,X=t[5]>0&&Ia(t),Z=t[4]>0&&Da(t),Q=t[3].show&&t[3].data&&Fa(t);return{c(){e=o("div"),s=o("div"),i=o("div"),a=se("svg"),r=se("path"),c=d(),u=o("span"),u.textContent="Log Volume Over Time",h=d(),f=o("span"),p=O(t[7]),m=d(),g=o("div"),v=o("div"),_=o("span"),w=O(k),y=d(),b=o("span"),b.textContent="Total",T=d(),z=o("div"),q=d(),S=o("div"),L=o("span"),B=O(H),E=d(),j=o("span"),j.textContent="Avg/bucket",A=d(),X&&X.c(),R=d(),Z&&Z.c(),C=d(),D=o("div"),M=o("canvas"),F=d(),Q&&Q.c(),U=d(),P=o("div"),P.innerHTML=`<div class="legend-item svelte-1cnat85"><span class="legend-dot info svelte-1cnat85"></span> <span>Info/Debug</span></div> <div class="legend-item svelte-1cnat85"><span class="legend-dot warning svelte-1cnat85"></span> <span>Warning</span></div> <div class="legend-item svelte-1cnat85"><span class="legend-dot error svelte-1cnat85"></span> <span>Error</span></div> <div class="legend-hint svelte-1cnat85"><svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1cnat85"><path fill="currentColor" d="M1 4h10v1H1V4Zm2-2h6v1H3V2Zm-2 4h10v1H1V6Z"></path></svg>
      Drag to zoom</div>`,n(r,"fill","currentColor"),n(r,"d","M1 14h14v1H1v-1Zm1-3h2v3H2v-3Zm3-2h2v5H5V9Zm3-3h2v8H8V6Zm3-2h2v10h-2V4Zm3-3h1v13h-1V1Z"),n(a,"width","16"),n(a,"height","16"),n(a,"viewBox","0 0 16 16"),n(a,"class","svelte-1cnat85"),n(u,"class","histogram-title svelte-1cnat85"),n(f,"class","time-range-badge svelte-1cnat85"),n(i,"class","header-left svelte-1cnat85"),n(_,"class","stat-value svelte-1cnat85"),n(b,"class","stat-label svelte-1cnat85"),n(v,"class","stat svelte-1cnat85"),n(z,"class","stat-divider svelte-1cnat85"),n(L,"class","stat-value avg svelte-1cnat85"),n(j,"class","stat-label svelte-1cnat85"),n(S,"class","stat svelte-1cnat85"),n(g,"class","header-stats svelte-1cnat85"),n(s,"class","histogram-header svelte-1cnat85"),n(M,"class","svelte-1cnat85"),n(D,"class","chart-wrapper svelte-1cnat85"),n(P,"class","legend svelte-1cnat85"),n(e,"class","histogram-container svelte-1cnat85")},m(Y,x){I(Y,e,x),l(e,s),l(s,i),l(i,a),l(a,r),l(i,c),l(i,u),l(i,h),l(i,f),l(f,p),l(s,m),l(s,g),l(g,v),l(v,_),l(_,w),l(v,y),l(v,b),l(g,T),l(g,z),l(g,q),l(g,S),l(S,L),l(L,B),l(S,E),l(S,j),l(g,A),X&&X.m(g,null),l(g,R),Z&&Z.m(g,null),l(e,C),l(e,D),l(D,M),t[13](M),l(D,F),Q&&Q.m(D,null),l(e,U),l(e,P),t[14](e),J||(G=[V(M,"mousemove",t[8]),V(M,"mouseleave",t[9]),V(M,"mousedown",t[10]),V(M,"mouseup",t[11])],J=!0)},p(Y,[x]){x&128&&W(p,Y[7]),x&2&&k!==(k=xe(Y[1])+"")&&W(w,k),x&64&&H!==(H=xe(Y[6])+"")&&W(B,H),Y[5]>0?X?X.p(Y,x):(X=Ia(Y),X.c(),X.m(g,R)):X&&(X.d(1),X=null),Y[4]>0?Z?Z.p(Y,x):(Z=Da(Y),Z.c(),Z.m(g,null)):Z&&(Z.d(1),Z=null),Y[3].show&&Y[3].data?Q?Q.p(Y,x):(Q=Fa(Y),Q.c(),Q.m(D,null)):Q&&(Q.d(1),Q=null)},i:de,o:de,d(Y){Y&&N(e),X&&X.d(),Z&&Z.d(),t[13](null),Q&&Q.d(),t[14](null),J=!1,je(G)}}}function xe(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString()}function Hc(t){return t?new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}):""}function Wa(t){return t?new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):""}function Rc(t,e,s){let i,a,r,c,u,h,f;Oe(t,Wo,j=>s(12,h=j)),Oe(t,ht,j=>s(7,f=j));const p=Gt();let m,g,v={show:!1,x:0,y:0,data:null},_=-1,k=!1,w=null,y=null,b=null;function T(){const j=g==null?void 0:g.getBoundingClientRect();if(!j)return null;const A=j.width,R=100,C={left:50,right:20,top:10,bottom:30},D=A-C.left-C.right,M=R-C.top-C.bottom,F=Math.max(3,D/h.length-2);return{width:A,height:R,padding:C,chartWidth:D,chartHeight:M,barWidth:F,gap:2}}function z(){const j=m.getContext("2d"),A=T();if(!A)return;const{width:R,height:C,padding:D,chartHeight:M,barWidth:F,gap:U}=A;if(s(0,m.width=R*window.devicePixelRatio,m),s(0,m.height=C*window.devicePixelRatio,m),s(0,m.style.width=R+"px",m),s(0,m.style.height=C+"px",m),j.scale(window.devicePixelRatio,window.devicePixelRatio),j.clearRect(0,0,R,C),h.length===0)return;j.strokeStyle="#21262d",j.lineWidth=1;const P=4;for(let X=0;X<=P;X++){const Z=D.top+M/P*X;j.beginPath(),j.moveTo(D.left,Z),j.lineTo(R-D.right,Z),j.stroke();const Q=Math.round(a-a/P*X);j.fillStyle="#6e7681",j.font="10px SFMono-Regular, Consolas, monospace",j.textAlign="right",j.fillText(xe(Q),D.left-8,Z+3)}h.forEach((X,Z)=>{const Q=D.left+Z*(F+U),Y=X.count/a*M,x=X.errors?X.errors/X.count*Y:0,ae=X.warnings?X.warnings/X.count*Y:0,ce=Y-x-ae;let K=C-D.bottom;ce>0&&(j.fillStyle=_===Z?"#4ade80":"#3fb950",j.fillRect(Q,K-ce,F,ce),K-=ce),ae>0&&(j.fillStyle=_===Z?"#fbbf24":"#d29922",j.fillRect(Q,K-ae,F,ae),K-=ae),x>0&&(j.fillStyle=_===Z?"#f87171":"#f85149",j.fillRect(Q,K-x,F,x)),_===Z&&(j.strokeStyle="#58a6ff",j.lineWidth=2,j.strokeRect(Q-1,C-D.bottom-Y-1,F+2,Y+2))}),b&&(j.fillStyle="rgba(88, 166, 255, 0.2)",j.strokeStyle="#58a6ff",j.lineWidth=1,j.fillRect(b.x,D.top,b.width,M),j.strokeRect(b.x,D.top,b.width,M));const J=Math.min(6,h.length),G=Math.floor(h.length/J);j.fillStyle="#6e7681",j.font="10px SFMono-Regular, Consolas, monospace",j.textAlign="center";for(let X=0;X<h.length;X+=G){const Z=D.left+X*(F+U)+F/2,Q=Hc(h[X].time);j.fillText(Q,Z,C-8)}j.strokeStyle="#30363d",j.lineWidth=1,j.beginPath(),j.moveTo(D.left,C-D.bottom),j.lineTo(R-D.right,C-D.bottom),j.stroke()}function q(j){const A=T();if(!A)return;const R=m.getBoundingClientRect(),C=j.clientX-R.left,{padding:D,barWidth:M,gap:F}=A,U=Math.floor((C-D.left)/(M+F));if(U>=0&&U<h.length&&C>=D.left){_=U;const P=h[U];if(s(3,v={show:!0,x:j.clientX-R.left,y:j.clientY-R.top-10,data:P}),k&&w!==null){y=U;const J=D.left+Math.min(w,y)*(M+F),G=D.left+(Math.max(w,y)+1)*(M+F)-F;b={x:J,width:G-J},z()}}else _=-1,s(3,v.show=!1,v);z()}function S(){_=-1,s(3,v.show=!1,v),k||(b=null),z()}function L(j){const A=T();if(!A)return;const R=m.getBoundingClientRect(),C=j.clientX-R.left,{padding:D,barWidth:M,gap:F}=A,U=Math.floor((C-D.left)/(M+F));U>=0&&U<h.length&&(k=!0,w=U,y=U)}function H(){var j,A;if(k&&w!==null&&y!==null&&w!==y){const R=Math.min(w,y),C=Math.max(w,y),D=(j=h[R])==null?void 0:j.time,M=(A=h[C])==null?void 0:A.time;D&&M&&p("zoom",{start:D,end:M})}k=!1,w=null,y=null,b=null,z()}at(()=>{const j=new ResizeObserver(()=>{h.length>0&&z()});return j.observe(g),()=>j.disconnect()});function B(j){ut[j?"unshift":"push"](()=>{m=j,s(0,m)})}function E(j){ut[j?"unshift":"push"](()=>{g=j,s(2,g)})}return t.$$.update=()=>{t.$$.dirty&4096&&s(1,i=h.reduce((j,A)=>j+A.count,0)),t.$$.dirty&4096&&(a=Math.max(...h.map(j=>j.count),1)),t.$$.dirty&4098&&s(6,r=h.length>0?Math.round(i/h.length):0),t.$$.dirty&4096&&s(5,c=h.reduce((j,A)=>j+(A.errors||0),0)),t.$$.dirty&4096&&s(4,u=h.reduce((j,A)=>j+(A.warnings||0),0)),t.$$.dirty&4097&&h.length>0&&m&&z()},[m,i,g,v,u,c,r,f,q,S,L,H,h,B,E]}class Bc extends Ye{constructor(e){super(),Ge(this,e,Rc,Tc,We,{})}}function Ua(t,e,s){const i=t.slice();return i[22]=e[s],i}function qc(t){let e,s=fe(t[0]),i=[];for(let a=0;a<s.length;a+=1)i[a]=Ja(Ua(t,s,a));return{c(){e=o("ul");for(let a=0;a<i.length;a+=1)i[a].c();n(e,"class","svelte-1octqfx")},m(a,r){I(a,e,r);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(a,r){if(r&193){s=fe(a[0]);let c;for(c=0;c<s.length;c+=1){const u=Ua(a,s,c);i[c]?i[c].p(u,r):(i[c]=Ja(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(a){a&&N(e),Le(i,a)}}}function Ac(t){let e;return{c(){e=o("p"),e.textContent="No saved searches",n(e,"class","empty svelte-1octqfx")},m(s,i){I(s,e,i)},p:de,d(s){s&&N(e)}}}function Ja(t){let e,s,i,a=t[22].name+"",r,c,u,h=t[22].query+"",f,p,m,g,v,_;function k(){return t[12](t[22])}function w(){return t[13](t[22])}return{c(){e=o("li"),s=o("button"),i=o("span"),r=O(a),c=d(),u=o("span"),f=O(h),p=d(),m=o("button"),m.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M9.5 3L3 9.5M3 3l6.5 6.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',g=d(),n(i,"class","name svelte-1octqfx"),n(u,"class","query svelte-1octqfx"),n(s,"class","search-item svelte-1octqfx"),n(m,"class","btn-delete svelte-1octqfx"),n(e,"class","svelte-1octqfx")},m(y,b){I(y,e,b),l(e,s),l(s,i),l(i,r),l(s,c),l(s,u),l(u,f),l(e,p),l(e,m),l(e,g),v||(_=[V(s,"click",k),V(m,"click",He(w))],v=!0)},p(y,b){t=y,b&1&&a!==(a=t[22].name+"")&&W(r,a),b&1&&h!==(h=t[22].query+"")&&W(f,h)},d(y){y&&N(e),v=!1,je(_)}}}function Qa(t){let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k,w,y,b,T,z,q,S,L,H,B,E,j;return{c(){e=o("div"),s=o("div"),i=o("h3"),i.textContent="Save Search",a=d(),r=o("label"),c=O(`Name
        `),u=o("input"),h=d(),f=o("label"),p=O(`Query
        `),m=o("input"),g=d(),v=o("label"),_=O(`Time Range
        `),k=o("select"),w=o("option"),w.textContent="5 minutes",y=o("option"),y.textContent="15 minutes",b=o("option"),b.textContent="1 hour",T=o("option"),T.textContent="24 hours",z=o("option"),z.textContent="7 days",q=d(),S=o("div"),L=o("button"),L.textContent="Cancel",H=d(),B=o("button"),B.textContent="Save",n(i,"class","svelte-1octqfx"),n(u,"type","text"),n(u,"placeholder","Error logs"),n(u,"class","svelte-1octqfx"),n(r,"class","svelte-1octqfx"),n(m,"type","text"),n(m,"placeholder","level:ERROR"),n(m,"class","svelte-1octqfx"),n(f,"class","svelte-1octqfx"),w.__value="5m",me(w,w.__value),y.__value="15m",me(y,y.__value),b.__value="1h",me(b,b.__value),T.__value="24h",me(T,T.__value),z.__value="7d",me(z,z.__value),n(k,"class","svelte-1octqfx"),t[4]===void 0&&Ze(()=>t[16].call(k)),n(v,"class","svelte-1octqfx"),n(L,"class","btn svelte-1octqfx"),n(B,"class","btn primary svelte-1octqfx"),n(S,"class","actions svelte-1octqfx"),n(s,"class","modal svelte-1octqfx"),n(s,"role","document"),n(e,"class","modal-overlay svelte-1octqfx"),n(e,"role","dialog"),n(e,"aria-modal","true")},m(A,R){I(A,e,R),l(e,s),l(s,i),l(s,a),l(s,r),l(r,c),l(r,u),me(u,t[2]),l(s,h),l(s,f),l(f,p),l(f,m),me(m,t[3]),l(s,g),l(s,v),l(v,_),l(v,k),l(k,w),l(k,y),l(k,b),l(k,T),l(k,z),qe(k,t[4],!0),l(s,q),l(s,S),l(S,L),l(S,H),l(S,B),E||(j=[V(u,"input",t[14]),V(m,"input",t[15]),V(k,"change",t[16]),V(L,"click",t[17]),V(B,"click",t[5]),V(s,"click",He(t[9])),V(s,"keydown",He(t[10])),V(e,"click",t[18]),V(e,"keydown",t[19])],E=!0)},p(A,R){R&4&&u.value!==A[2]&&me(u,A[2]),R&8&&m.value!==A[3]&&me(m,A[3]),R&16&&qe(k,A[4])},d(A){A&&N(e),E=!1,je(j)}}}function Ec(t){let e,s,i,a,r,c,u,h,f,p;function m(k,w){return k[0].length===0?Ac:qc}let g=m(t),v=g(t),_=t[1]&&Qa(t);return{c(){e=o("div"),s=o("div"),i=o("h3"),i.textContent="Saved Searches",a=d(),r=o("button"),r.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14"><path fill="currentColor" d="M7 1v12M1 7h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>',c=d(),v.c(),u=d(),_&&_.c(),h=Xt(),n(i,"class","svelte-1octqfx"),n(r,"class","btn-icon svelte-1octqfx"),n(r,"title","Save current search"),n(s,"class","header svelte-1octqfx"),n(e,"class","saved-searches svelte-1octqfx")},m(k,w){I(k,e,w),l(e,s),l(s,i),l(s,a),l(s,r),l(e,c),v.m(e,null),I(k,u,w),_&&_.m(k,w),I(k,h,w),f||(p=V(r,"click",t[11]),f=!0)},p(k,[w]){g===(g=m(k))&&v?v.p(k,w):(v.d(1),v=g(k),v&&(v.c(),v.m(e,null))),k[1]?_?_.p(k,w):(_=Qa(k),_.c(),_.m(h.parentNode,h)):_&&(_.d(1),_=null)},i:de,o:de,d(k){k&&(N(e),N(u),N(h)),v.d(),_&&_.d(k),f=!1,p()}}}const ks="/api";function Oc(t,e,s){const i=Gt();let a=[],r=!1,c="",u="",h="15m";at(f);async function f(){try{const E=await(await fetch(`${ks}/saved-searches`)).json();s(0,a=E.searches||[])}catch(B){console.error("Failed to load saved searches:",B)}}async function p(){if(!(!c||!u))try{await fetch(`${ks}/saved-searches`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,query:u,time_range:h})}),s(1,r=!1),s(2,c=""),s(3,u=""),await f()}catch(B){console.error("Failed to save search:",B)}}async function m(B){try{await fetch(`${ks}/saved-searches/${B}`,{method:"DELETE"}),await f()}catch(E){console.error("Failed to delete search:",E)}}function g(B){i("apply",{query:B.query,timeRange:B.time_range})}function v(B,E){s(3,u=B),s(4,h=E),s(1,r=!0)}function _(B){Gl.call(this,t,B)}function k(B){Gl.call(this,t,B)}const w=()=>s(1,r=!0),y=B=>g(B),b=B=>m(B.id);function T(){c=this.value,s(2,c)}function z(){u=this.value,s(3,u)}function q(){h=it(this),s(4,h)}return[a,r,c,u,h,p,m,g,v,_,k,w,y,b,T,z,q,()=>s(1,r=!1),()=>s(1,r=!1),B=>B.key==="Escape"&&s(1,r=!1)]}class Nc extends Ye{constructor(e){super(),Ge(this,e,Oc,Ec,We,{openSaveModal:8})}get openSaveModal(){return this.$$.ctx[8]}}function Ka(t,e,s){const i=t.slice();return i[26]=e[s],i}function Ic(t){let e,s=fe(t[0]),i=[];for(let a=0;a<s.length;a+=1)i[a]=Xa(Ka(t,s,a));return{c(){e=o("ul");for(let a=0;a<i.length;a+=1)i[a].c();n(e,"class","svelte-ib4i4r")},m(a,r){I(a,e,r);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(a,r){if(r&209){s=fe(a[0]);let c;for(c=0;c<s.length;c+=1){const u=Ka(a,s,c);i[c]?i[c].p(u,r):(i[c]=Xa(u),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(a){a&&N(e),Le(i,a)}}}function Dc(t){let e,s,i,a,r;return{c(){e=o("p"),e.textContent="No alerts configured",s=d(),i=o("button"),i.textContent="Enable notifications",n(e,"class","empty svelte-ib4i4r"),n(i,"class","btn-small svelte-ib4i4r")},m(c,u){I(c,e,u),I(c,s,u),I(c,i,u),a||(r=V(i,"click",Wc),a=!0)},p:de,d(c){c&&(N(e),N(s),N(i)),a=!1,r()}}}function Fc(t){let e,s;return{c(){e=se("svg"),s=se("circle"),n(s,"cx","7"),n(s,"cy","7"),n(s,"r","5"),n(s,"fill","none"),n(s,"stroke","#6e7681"),n(s,"stroke-width","1.5"),n(e,"width","14"),n(e,"height","14"),n(e,"viewBox","0 0 14 14")},m(i,a){I(i,e,a),l(e,s)},d(i){i&&N(e)}}}function Pc(t){let e,s;return{c(){e=se("svg"),s=se("circle"),n(s,"cx","7"),n(s,"cy","7"),n(s,"r","5"),n(s,"fill","#3fb950"),n(e,"width","14"),n(e,"height","14"),n(e,"viewBox","0 0 14 14")},m(i,a){I(i,e,a),l(e,s)},d(i){i&&N(e)}}}function Xa(t){let e,s,i,a=t[26].name+"",r,c,u,h=(t[26].query||"All logs")+"",f,p,m=t[26].threshold+"",g,v,_=t[26].window_minutes+"",k,w,y,b,T,z,q,S,L,H;function B(){return t[11](t[26])}function E(D,M){return D[26].enabled?Pc:Fc}let j=E(t),A=j(t);function R(){return t[12](t[26])}function C(){return t[13](t[26])}return{c(){e=o("li"),s=o("button"),i=o("span"),r=O(a),c=d(),u=o("span"),f=O(h),p=O(" >= "),g=O(m),v=O(" in "),k=O(_),w=O("m"),y=d(),b=o("button"),A.c(),z=d(),q=o("button"),q.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M9.5 3L3 9.5M3 3l6.5 6.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',S=d(),n(i,"class","name svelte-ib4i4r"),n(u,"class","details svelte-ib4i4r"),n(s,"class","alert-info svelte-ib4i4r"),n(b,"class","btn-toggle svelte-ib4i4r"),n(b,"title",T=t[26].enabled?"Disable":"Enable"),n(q,"class","btn-delete svelte-ib4i4r"),n(e,"class","svelte-ib4i4r"),ee(e,"disabled",!t[26].enabled)},m(D,M){I(D,e,M),l(e,s),l(s,i),l(i,r),l(s,c),l(s,u),l(u,f),l(u,p),l(u,g),l(u,v),l(u,k),l(u,w),l(e,y),l(e,b),A.m(b,null),l(e,z),l(e,q),l(e,S),L||(H=[V(s,"click",B),V(b,"click",He(R)),V(q,"click",He(C))],L=!0)},p(D,M){t=D,M&1&&a!==(a=t[26].name+"")&&W(r,a),M&1&&h!==(h=(t[26].query||"All logs")+"")&&W(f,h),M&1&&m!==(m=t[26].threshold+"")&&W(g,m),M&1&&_!==(_=t[26].window_minutes+"")&&W(k,_),j!==(j=E(t))&&(A.d(1),A=j(t),A&&(A.c(),A.m(b,null))),M&1&&T!==(T=t[26].enabled?"Disable":"Enable")&&n(b,"title",T),M&1&&ee(e,"disabled",!t[26].enabled)},d(D){D&&N(e),A.d(),L=!1,je(H)}}}function Ga(t){let e,s,i,a=t[2]?"Edit Alert":"Create Alert",r,c,u,h,f,p,m,g,v,_,k,w,y,b,T,z,q,S,L,H,B,E,j,A,R,C,D,M,F,U,P,J,G,X=t[3].notify_type!=="browser"&&Ya(t);return{c(){e=o("div"),s=o("div"),i=o("h3"),r=O(a),c=d(),u=o("label"),h=O(`Name
        `),f=o("input"),p=d(),m=o("label"),g=O(`Query (optional)
        `),v=o("input"),_=d(),k=o("div"),w=o("label"),y=O(`Threshold
          `),b=o("input"),T=d(),z=o("label"),q=O(`Window (minutes)
          `),S=o("input"),L=d(),H=o("label"),B=O(`Notification Type
        `),E=o("select"),j=o("option"),j.textContent="Browser",A=o("option"),A.textContent="Webhook",R=o("option"),R.textContent="Slack",C=d(),X&&X.c(),D=d(),M=o("div"),F=o("button"),F.textContent="Cancel",U=d(),P=o("button"),P.textContent="Save",n(i,"class","svelte-ib4i4r"),n(f,"type","text"),n(f,"placeholder","High error rate"),n(f,"class","svelte-ib4i4r"),n(u,"class","svelte-ib4i4r"),n(v,"type","text"),n(v,"placeholder","level:ERROR"),n(v,"class","svelte-ib4i4r"),n(m,"class","svelte-ib4i4r"),n(b,"type","number"),n(b,"min","1"),n(b,"class","svelte-ib4i4r"),n(w,"class","svelte-ib4i4r"),n(S,"type","number"),n(S,"min","1"),n(S,"class","svelte-ib4i4r"),n(z,"class","svelte-ib4i4r"),n(k,"class","row svelte-ib4i4r"),j.__value="browser",me(j,j.__value),A.__value="webhook",me(A,A.__value),R.__value="slack",me(R,R.__value),n(E,"class","svelte-ib4i4r"),t[3].notify_type===void 0&&Ze(()=>t[18].call(E)),n(H,"class","svelte-ib4i4r"),n(F,"class","btn svelte-ib4i4r"),n(P,"class","btn primary svelte-ib4i4r"),n(M,"class","actions svelte-ib4i4r"),n(s,"class","modal svelte-ib4i4r"),n(s,"role","document"),n(e,"class","modal-overlay svelte-ib4i4r"),n(e,"role","dialog"),n(e,"aria-modal","true")},m(Z,Q){I(Z,e,Q),l(e,s),l(s,i),l(i,r),l(s,c),l(s,u),l(u,h),l(u,f),me(f,t[3].name),l(s,p),l(s,m),l(m,g),l(m,v),me(v,t[3].query),l(s,_),l(s,k),l(k,w),l(w,y),l(w,b),me(b,t[3].threshold),l(k,T),l(k,z),l(z,q),l(z,S),me(S,t[3].window_minutes),l(s,L),l(s,H),l(H,B),l(H,E),l(E,j),l(E,A),l(E,R),qe(E,t[3].notify_type,!0),l(s,C),X&&X.m(s,null),l(s,D),l(s,M),l(M,F),l(M,U),l(M,P),J||(G=[V(f,"input",t[14]),V(v,"input",t[15]),V(b,"input",t[16]),V(S,"input",t[17]),V(E,"change",t[18]),V(F,"click",t[20]),V(P,"click",t[5]),V(s,"click",He(t[8])),V(s,"keydown",He(t[9])),V(e,"click",t[21]),V(e,"keydown",t[22])],J=!0)},p(Z,Q){Q&4&&a!==(a=Z[2]?"Edit Alert":"Create Alert")&&W(r,a),Q&8&&f.value!==Z[3].name&&me(f,Z[3].name),Q&8&&v.value!==Z[3].query&&me(v,Z[3].query),Q&8&&Xl(b.value)!==Z[3].threshold&&me(b,Z[3].threshold),Q&8&&Xl(S.value)!==Z[3].window_minutes&&me(S,Z[3].window_minutes),Q&8&&qe(E,Z[3].notify_type),Z[3].notify_type!=="browser"?X?X.p(Z,Q):(X=Ya(Z),X.c(),X.m(s,D)):X&&(X.d(1),X=null)},d(Z){Z&&N(e),X&&X.d(),J=!1,je(G)}}}function Ya(t){let e,s=t[3].notify_type==="slack"?"Slack Webhook URL":"Webhook URL",i,a,r,c,u;return{c(){e=o("label"),i=O(s),a=d(),r=o("input"),n(r,"type","url"),n(r,"placeholder","https://..."),n(r,"class","svelte-ib4i4r"),n(e,"class","svelte-ib4i4r")},m(h,f){I(h,e,f),l(e,i),l(e,a),l(e,r),me(r,t[3].notify_target),c||(u=V(r,"input",t[19]),c=!0)},p(h,f){f&8&&s!==(s=h[3].notify_type==="slack"?"Slack Webhook URL":"Webhook URL")&&W(i,s),f&8&&r.value!==h[3].notify_target&&me(r,h[3].notify_target)},d(h){h&&N(e),c=!1,u()}}}function Vc(t){let e,s,i,a,r,c,u,h,f,p;function m(k,w){return k[0].length===0?Dc:Ic}let g=m(t),v=g(t),_=t[1]&&Ga(t);return{c(){e=o("div"),s=o("div"),i=o("h3"),i.textContent="Alerts",a=d(),r=o("button"),r.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14"><path fill="currentColor" d="M7 1v12M1 7h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>',c=d(),v.c(),u=d(),_&&_.c(),h=Xt(),n(i,"class","svelte-ib4i4r"),n(r,"class","btn-icon svelte-ib4i4r"),n(r,"title","Create alert"),n(s,"class","header svelte-ib4i4r"),n(e,"class","alerts-panel svelte-ib4i4r")},m(k,w){I(k,e,w),l(e,s),l(s,i),l(s,a),l(s,r),l(e,c),v.m(e,null),I(k,u,w),_&&_.m(k,w),I(k,h,w),f||(p=V(r,"click",t[10]),f=!0)},p(k,[w]){g===(g=m(k))&&v?v.p(k,w):(v.d(1),v=g(k),v&&(v.c(),v.m(e,null))),k[1]?_?_.p(k,w):(_=Ga(k),_.c(),_.m(h.parentNode,h)):_&&(_.d(1),_=null)},i:de,o:de,d(k){k&&(N(e),N(u),N(h)),v.d(),_&&_.d(k),f=!1,p()}}}const Et="/api";function Zc(t){"Notification"in window&&Notification.permission==="granted"&&new Notification(`Alert: ${t.name}`,{body:`${t.count} logs matched "${t.query}"`,icon:"/favicon.ico"})}function Wc(){"Notification"in window&&Notification.requestPermission()}function Uc(t,e,s){let i=[],a=!1,r=null,c={name:"",query:"",threshold:10,window_minutes:5,notify_type:"webhook",notify_target:""},u;at(()=>{h(),u=setInterval(f,6e4)}),Vo(()=>{u&&clearInterval(u)});async function h(){try{const C=await(await fetch(`${Et}/alerts`)).json();s(0,i=C.alerts||[])}catch(R){console.error("Failed to load alerts:",R)}}async function f(){try{const C=await(await fetch(`${Et}/alerts/check`,{method:"POST"})).json();if(C.triggered&&C.triggered.length>0){for(const D of C.triggered)Zc(D);await h()}}catch(R){console.error("Alert check failed:",R)}}function p(R=null){R?(s(2,r=R),s(3,c={name:R.name,query:R.query,threshold:R.threshold,window_minutes:R.window_minutes,notify_type:R.notify_type,notify_target:R.notify_target})):(s(2,r=null),s(3,c={name:"",query:"",threshold:10,window_minutes:5,notify_type:"webhook",notify_target:""})),s(1,a=!0)}async function m(){if(c.name)try{r?await fetch(`${Et}/alerts/${r.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}):await fetch(`${Et}/alerts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),s(1,a=!1),await h()}catch(R){console.error("Failed to save alert:",R)}}async function g(R){try{await fetch(`${Et}/alerts/${R.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:R.enabled?0:1})}),await h()}catch(C){console.error("Failed to toggle alert:",C)}}async function v(R){if(confirm("Delete this alert?"))try{await fetch(`${Et}/alerts/${R}`,{method:"DELETE"}),await h()}catch(C){console.error("Failed to delete alert:",C)}}function _(R){Gl.call(this,t,R)}function k(R){Gl.call(this,t,R)}const w=()=>p(),y=R=>p(R),b=R=>g(R),T=R=>v(R.id);function z(){c.name=this.value,s(3,c)}function q(){c.query=this.value,s(3,c)}function S(){c.threshold=Xl(this.value),s(3,c)}function L(){c.window_minutes=Xl(this.value),s(3,c)}function H(){c.notify_type=it(this),s(3,c)}function B(){c.notify_target=this.value,s(3,c)}return[i,a,r,c,p,m,g,v,_,k,w,y,b,T,z,q,S,L,H,B,()=>s(1,a=!1),()=>s(1,a=!1),R=>R.key==="Escape"&&s(1,a=!1)]}class Jc extends Ye{constructor(e){super(),Ge(this,e,Uc,Vc,We,{})}}function $a(t,e,s){const i=t.slice();return i[20]=e[s],i}function xa(t,e,s){const i=t.slice();return i[23]=e[s],i}function eo(t,e,s){const i=t.slice();return i[23]=e[s],i}function to(t,e,s){const i=t.slice();return i[28]=e[s][0],i[29]=e[s][1],i}function lo(t){let e,s,i,a,r,c,u;return{c(){e=o("div"),s=se("svg"),i=se("circle"),a=se("line"),r=se("line"),c=d(),u=O(t[5]),n(i,"cx","12"),n(i,"cy","12"),n(i,"r","10"),n(a,"x1","12"),n(a,"y1","8"),n(a,"x2","12"),n(a,"y2","12"),n(r,"x1","12"),n(r,"y1","16"),n(r,"x2","12.01"),n(r,"y2","16"),n(s,"width","16"),n(s,"height","16"),n(s,"viewBox","0 0 24 24"),n(s,"fill","none"),n(s,"stroke","currentColor"),n(s,"stroke-width","2"),n(e,"class","error-banner svelte-1hlec6h")},m(h,f){I(h,e,f),l(e,s),l(s,i),l(s,a),l(s,r),l(e,c),l(e,u)},p(h,f){f[0]&32&&W(u,h[5])},d(h){h&&N(e)}}}function Qc(t){var C,D;let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k,w,y=(((D=(C=t[0])==null?void 0:C.cache)==null?void 0:D.hit_rate)||"0%")+"",b,T,z,q,S,L,H,B,E=t[6]==="overview"&&so(t),j=t[6]==="performance"&&no(t),A=t[6]==="storage"&&ao(t),R=t[6]==="queries"&&ro(t);return{c(){e=o("div"),s=o("div"),s.innerHTML='<span class="health-dot svelte-1hlec6h"></span> <span>System</span>',i=d(),a=o("div"),r=o("span"),c=d(),u=o("span"),h=O("Error Rate: "),f=O(t[10]),p=O("%"),m=d(),g=o("div"),v=o("span"),_=d(),k=o("span"),w=O("Cache: "),b=O(y),T=d(),z=o("div"),z.innerHTML='<span class="health-dot svelte-1hlec6h"></span> <span>ClickHouse: Connected</span>',q=d(),E&&E.c(),S=d(),j&&j.c(),L=d(),A&&A.c(),H=d(),R&&R.c(),B=Xt(),n(s,"class","health-item svelte-1hlec6h"),ee(s,"healthy",t[12]()==="healthy"),ee(s,"warning",t[12]()==="warning"),n(r,"class","health-dot svelte-1hlec6h"),n(a,"class","health-item svelte-1hlec6h"),ee(a,"healthy",t[10]<1),ee(a,"warning",t[10]>=1&&t[10]<5),ee(a,"critical",t[10]>=5),n(v,"class","health-dot svelte-1hlec6h"),n(g,"class","health-item svelte-1hlec6h"),ee(g,"healthy",t[9]>50),ee(g,"warning",t[9]<=50&&t[9]>20),ee(g,"critical",t[9]<=20),n(z,"class","health-item healthy svelte-1hlec6h"),n(e,"class","health-bar svelte-1hlec6h")},m(M,F){I(M,e,F),l(e,s),l(e,i),l(e,a),l(a,r),l(a,c),l(a,u),l(u,h),l(u,f),l(u,p),l(e,m),l(e,g),l(g,v),l(g,_),l(g,k),l(k,w),l(k,b),l(e,T),l(e,z),I(M,q,F),E&&E.m(M,F),I(M,S,F),j&&j.m(M,F),I(M,L,F),A&&A.m(M,F),I(M,H,F),R&&R.m(M,F),I(M,B,F)},p(M,F){var U,P;F[0]&1024&&W(f,M[10]),F[0]&1024&&ee(a,"healthy",M[10]<1),F[0]&1024&&ee(a,"warning",M[10]>=1&&M[10]<5),F[0]&1024&&ee(a,"critical",M[10]>=5),F[0]&1&&y!==(y=(((P=(U=M[0])==null?void 0:U.cache)==null?void 0:P.hit_rate)||"0%")+"")&&W(b,y),F[0]&512&&ee(g,"healthy",M[9]>50),F[0]&512&&ee(g,"warning",M[9]<=50&&M[9]>20),F[0]&512&&ee(g,"critical",M[9]<=20),M[6]==="overview"?E?E.p(M,F):(E=so(M),E.c(),E.m(S.parentNode,S)):E&&(E.d(1),E=null),M[6]==="performance"?j?j.p(M,F):(j=no(M),j.c(),j.m(L.parentNode,L)):j&&(j.d(1),j=null),M[6]==="storage"?A?A.p(M,F):(A=ao(M),A.c(),A.m(H.parentNode,H)):A&&(A.d(1),A=null),M[6]==="queries"?R?R.p(M,F):(R=ro(M),R.c(),R.m(B.parentNode,B)):R&&(R.d(1),R=null)},d(M){M&&(N(e),N(q),N(S),N(L),N(H),N(B)),E&&E.d(M),j&&j.d(M),A&&A.d(M),R&&R.d(M)}}}function Kc(t){let e;return{c(){e=o("div"),e.innerHTML='<div class="loading-spinner svelte-1hlec6h"></div> <span>Loading analytics...</span>',n(e,"class","loading-container svelte-1hlec6h")},m(s,i){I(s,e,i)},p:de,d(s){s&&N(e)}}}function so(t){var mn,bn,kn,wn,yn,zn,Cn,Mn,jn,Sn,Ln,Tn,Hn,Rn,Bn,qn,An,En,On,Nn,In,Dn,Fn,Pn,Vn,Zn,Wn,Un,Jn,Qn,Kn,Xn,Gn,Yn,$n,xn;let e,s,i,a,r,c,u=ze((mn=t[1])==null?void 0:mn.total_logs)+"",h,f,p,m,g,v,_,k,w,y,b=ze(((kn=(bn=t[0])==null?void 0:bn.ingestion)==null?void 0:kn.total)||0)+"",T,z,q,S,L,H,B,E=(((wn=t[1])==null?void 0:wn.db_size_mb)||0)+"",j,A,R,C,D,M,F,U,P,J,G,X,Z=(((zn=(yn=t[0])==null?void 0:yn.server)==null?void 0:zn.uptime_human)||"-")+"",Q,Y,x,ae,ce,K,ne,$,_e,ye=ze(((Mn=(Cn=t[0])==null?void 0:Cn.requests)==null?void 0:Mn.total)||0)+"",ue,ve,pe,le,ie,te,oe=(((Sn=(jn=t[0])==null?void 0:jn.requests)==null?void 0:Sn.errors)||0)+"",ge,ke,Re,Be,Se,Ce,Ee,Ie,ot,re,Me=ze((Tn=(Ln=t[0])==null?void 0:Ln.clickhouse)==null?void 0:Tn.queries_total)+"",Te,Dt,Ft,et,tt,Yt,Rs,$t,xt=(((Rn=(Hn=t[0])==null?void 0:Hn.clickhouse)==null?void 0:Rn.avg_query_time)||"0s")+"",xl,Bs,el,Pt,qs,lt,tl,As,ll,sl=(((qn=(Bn=t[0])==null?void 0:Bn.cache)==null?void 0:qn.hit_rate)||"0%")+"",es,Es,nl,Pe,Os,st,il,Ns,Vt,ts,Is,Ds,al,Ve,Fs,ft,ol,Ps,Je,dt,cl,rl=ze((En=(An=t[0])==null?void 0:An.ingestion)==null?void 0:En.total)+"",ls,Vs,hl,Zs,vt,ul,fl=Fe((Nn=(On=t[0])==null?void 0:On.clickhouse)==null?void 0:Nn.bytes_inserted)+"",ss,Ws,dl,Us,pt,vl,pl=(((Dn=(In=t[0])==null?void 0:In.clickhouse)==null?void 0:Dn.buffer_size)||0)+"",ns,Js,gl,Qs,gt,_l,ml=ze((Pn=(Fn=t[0])==null?void 0:Fn.clickhouse)==null?void 0:Pn.inserts_total)+"",is,Ks,bl,Xs,_t,mt,kl,Gs,bt,wl,kt,wt,yl,Zt,Ys,yt,zl,Cl=(((Vn=t[1])==null?void 0:Vn.db_size_mb)||0)+"",as,$s,Ml,xs,Qe,zt,os,en,jl,Sl=ze((Zn=t[1])==null?void 0:Zn.total_rows)+"",cs,tn,Ct,rs,ln,Ll,Tl=(((Un=(Wn=t[1])==null?void 0:Wn.oldest_log)==null?void 0:Un.split(" ")[0])||"-")+"",hs,sn,Mt,us,nn,Hl,Rl=(((Qn=(Jn=t[1])==null?void 0:Jn.newest_log)==null?void 0:Qn.split(" ")[0])||"-")+"",fs,an,Bl,on,jt,ql,cn,nt,St,Al,rn,Lt,El,hn,Ol,Nl=(((Xn=(Kn=t[0])==null?void 0:Kn.cache)==null?void 0:Xn.hit_rate)||"0%")+"",ds,un,Tt,Il,fn,Ht,Dl,dn,Fl,Pl=(((Yn=(Gn=t[0])==null?void 0:Gn.cache)==null?void 0:Yn.entries)||0)+"",vs,vn,Rt,Vl,pn,Bt,Zl,gn,Wt,Wl=(((xn=($n=t[0])==null?void 0:$n.cache)==null?void 0:xn.ttl_seconds)||60)+"",ps,_n;return{c(){e=o("section"),s=o("div"),i=o("div"),i.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"></path><path d="M14 2v6h6M16 13H8M16 17H8M10 9H8"></path></svg>',a=d(),r=o("div"),c=o("span"),h=O(u),f=d(),p=o("span"),p.textContent="Total Logs",m=d(),g=o("div"),v=se("svg"),_=se("polyline"),k=d(),w=o("span"),y=O("+"),T=O(b),z=d(),q=o("div"),S=o("div"),S.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="8" rx="2"></rect><rect x="2" y="14" width="20" height="8" rx="2"></rect></svg>',L=d(),H=o("div"),B=o("span"),j=O(E),A=O(" MB"),R=d(),C=o("span"),C.textContent="Database Size",D=d(),M=o("div"),M.innerHTML='<div class="sparkline-bar svelte-1hlec6h" style="height: 40%"></div> <div class="sparkline-bar svelte-1hlec6h" style="height: 55%"></div> <div class="sparkline-bar svelte-1hlec6h" style="height: 45%"></div> <div class="sparkline-bar svelte-1hlec6h" style="height: 70%"></div> <div class="sparkline-bar svelte-1hlec6h" style="height: 60%"></div> <div class="sparkline-bar svelte-1hlec6h" style="height: 80%"></div> <div class="sparkline-bar svelte-1hlec6h" style="height: 75%"></div>',F=d(),U=o("div"),P=o("div"),P.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12,6 12,12 16,14"></polyline></svg>',J=d(),G=o("div"),X=o("span"),Q=O(Z),Y=d(),x=o("span"),x.textContent="Uptime",ae=d(),ce=o("div"),K=o("div"),K.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"></path></svg>',ne=d(),$=o("div"),_e=o("span"),ue=O(ye),ve=d(),pe=o("span"),pe.textContent="Total Requests",le=d(),ie=o("div"),te=o("span"),ge=O(oe),ke=O(" errors"),Re=d(),Be=o("div"),Se=o("div"),Ce=o("section"),Ee=o("div"),Ie=o("h3"),Ie.textContent="Query Performance",ot=d(),re=o("span"),Te=O(Me),Dt=O(" queries"),Ft=d(),et=o("div"),tt=o("div"),Yt=o("div"),Yt.textContent="Avg Response",Rs=d(),$t=o("div"),xl=O(xt),Bs=d(),el=o("div"),Pt=o("div"),qs=d(),lt=o("div"),tl=o("div"),tl.textContent="Cache Hit Rate",As=d(),ll=o("div"),es=O(sl),Es=d(),nl=o("div"),Pe=o("div"),Os=d(),st=o("div"),il=o("div"),il.textContent="Error Rate",Ns=d(),Vt=o("div"),ts=O(t[10]),Is=O("%"),Ds=d(),al=o("div"),Ve=o("div"),Fs=d(),ft=o("section"),ol=o("div"),ol.innerHTML='<h3 class="svelte-1hlec6h">Data Ingestion</h3> <span class="card-badge live svelte-1hlec6h">Live</span>',Ps=d(),Je=o("div"),dt=o("div"),cl=o("span"),ls=O(rl),Vs=d(),hl=o("span"),hl.textContent="Logs Ingested",Zs=d(),vt=o("div"),ul=o("span"),ss=O(fl),Ws=d(),dl=o("span"),dl.textContent="Data Written",Us=d(),pt=o("div"),vl=o("span"),ns=O(pl),Js=d(),gl=o("span"),gl.textContent="Buffer Queue",Qs=d(),gt=o("div"),_l=o("span"),is=O(ml),Ks=d(),bl=o("span"),bl.textContent="Insert Ops",Xs=d(),_t=o("div"),mt=o("section"),kl=o("div"),kl.innerHTML='<h3 class="svelte-1hlec6h">Storage Overview</h3>',Gs=d(),bt=o("div"),wl=o("div"),kt=o("div"),wt=se("svg"),yl=se("path"),Zt=se("path"),Ys=d(),yt=o("div"),zl=o("span"),as=O(Cl),$s=d(),Ml=o("span"),Ml.textContent="MB",xs=d(),Qe=o("div"),zt=o("div"),os=o("span"),os.textContent="Total Rows",en=d(),jl=o("span"),cs=O(Sl),tn=d(),Ct=o("div"),rs=o("span"),rs.textContent="Oldest Log",ln=d(),Ll=o("span"),hs=O(Tl),sn=d(),Mt=o("div"),us=o("span"),us.textContent="Newest Log",nn=d(),Hl=o("span"),fs=O(Rl),an=d(),Bl=o("div"),Bl.innerHTML='<span>Retention</span> <span class="mono svelte-1hlec6h">30 days</span>',on=d(),jt=o("section"),ql=o("div"),ql.innerHTML='<h3 class="svelte-1hlec6h">Cache Statistics</h3>',cn=d(),nt=o("div"),St=o("div"),Al=o("div"),Al.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>',rn=d(),Lt=o("div"),El=o("span"),El.textContent="Hit Rate",hn=d(),Ol=o("span"),ds=O(Nl),un=d(),Tt=o("div"),Il=o("div"),Il.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"></rect><path d="M3 9h18M9 21V9"></path></svg>',fn=d(),Ht=o("div"),Dl=o("span"),Dl.textContent="Entries",dn=d(),Fl=o("span"),vs=O(Pl),vn=d(),Rt=o("div"),Vl=o("div"),Vl.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12,6 12,12 16,14"></polyline></svg>',pn=d(),Bt=o("div"),Zl=o("span"),Zl.textContent="TTL",gn=d(),Wt=o("span"),ps=O(Wl),_n=O("s"),n(i,"class","metric-icon svelte-1hlec6h"),n(c,"class","metric-value svelte-1hlec6h"),n(p,"class","metric-label svelte-1hlec6h"),n(r,"class","metric-content svelte-1hlec6h"),n(_,"points","23 6 13.5 15.5 8.5 10.5 1 18"),n(v,"width","12"),n(v,"height","12"),n(v,"viewBox","0 0 24 24"),n(v,"fill","none"),n(v,"stroke","currentColor"),n(v,"stroke-width","2"),n(g,"class","metric-trend up svelte-1hlec6h"),n(s,"class","metric-card primary svelte-1hlec6h"),n(S,"class","metric-icon green svelte-1hlec6h"),n(B,"class","metric-value svelte-1hlec6h"),n(C,"class","metric-label svelte-1hlec6h"),n(H,"class","metric-content svelte-1hlec6h"),n(M,"class","metric-sparkline svelte-1hlec6h"),n(q,"class","metric-card svelte-1hlec6h"),n(P,"class","metric-icon purple svelte-1hlec6h"),n(X,"class","metric-value svelte-1hlec6h"),n(x,"class","metric-label svelte-1hlec6h"),n(G,"class","metric-content svelte-1hlec6h"),n(U,"class","metric-card svelte-1hlec6h"),n(K,"class","metric-icon orange svelte-1hlec6h"),n(_e,"class","metric-value svelte-1hlec6h"),n(pe,"class","metric-label svelte-1hlec6h"),n($,"class","metric-content svelte-1hlec6h"),n(te,"class","error-count svelte-1hlec6h"),n(ie,"class","metric-sub svelte-1hlec6h"),n(ce,"class","metric-card svelte-1hlec6h"),n(e,"class","metrics-overview svelte-1hlec6h"),n(Ie,"class","svelte-1hlec6h"),n(re,"class","card-badge svelte-1hlec6h"),n(Ee,"class","card-header svelte-1hlec6h"),n(Yt,"class","perf-label svelte-1hlec6h"),n($t,"class","perf-value svelte-1hlec6h"),n(Pt,"class","perf-fill good svelte-1hlec6h"),he(Pt,"width",Math.min(t[8]*100,100)+"%"),n(el,"class","perf-bar svelte-1hlec6h"),n(tt,"class","perf-item svelte-1hlec6h"),n(tl,"class","perf-label svelte-1hlec6h"),n(ll,"class","perf-value svelte-1hlec6h"),n(Pe,"class","perf-fill svelte-1hlec6h"),he(Pe,"width",t[9]+"%"),ee(Pe,"good",t[9]>70),ee(Pe,"warning",t[9]<=70&&t[9]>30),ee(Pe,"bad",t[9]<=30),n(nl,"class","perf-bar svelte-1hlec6h"),n(lt,"class","perf-item svelte-1hlec6h"),n(il,"class","perf-label svelte-1hlec6h"),n(Vt,"class","perf-value svelte-1hlec6h"),n(Ve,"class","perf-fill svelte-1hlec6h"),he(Ve,"width",Math.min(t[10]*10,100)+"%"),ee(Ve,"good",t[10]<1),ee(Ve,"warning",t[10]>=1&&t[10]<5),ee(Ve,"bad",t[10]>=5),n(al,"class","perf-bar svelte-1hlec6h"),n(st,"class","perf-item svelte-1hlec6h"),n(et,"class","perf-grid svelte-1hlec6h"),n(Ce,"class","card svelte-1hlec6h"),n(ol,"class","card-header svelte-1hlec6h"),n(cl,"class","stat-value svelte-1hlec6h"),n(hl,"class","stat-label svelte-1hlec6h"),n(dt,"class","stat-item svelte-1hlec6h"),n(ul,"class","stat-value svelte-1hlec6h"),n(dl,"class","stat-label svelte-1hlec6h"),n(vt,"class","stat-item svelte-1hlec6h"),n(vl,"class","stat-value svelte-1hlec6h"),n(gl,"class","stat-label svelte-1hlec6h"),n(pt,"class","stat-item svelte-1hlec6h"),n(_l,"class","stat-value svelte-1hlec6h"),n(bl,"class","stat-label svelte-1hlec6h"),n(gt,"class","stat-item svelte-1hlec6h"),n(Je,"class","stats-grid svelte-1hlec6h"),n(ft,"class","card svelte-1hlec6h"),n(Se,"class","column svelte-1hlec6h"),n(kl,"class","card-header svelte-1hlec6h"),n(yl,"class","ring-bg svelte-1hlec6h"),n(yl,"d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"),n(Zt,"class","ring-fill svelte-1hlec6h"),n(Zt,"stroke-dasharray","75, 100"),n(Zt,"d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"),n(wt,"viewBox","0 0 36 36"),n(wt,"class","svelte-1hlec6h"),n(zl,"class","ring-value svelte-1hlec6h"),n(Ml,"class","ring-unit svelte-1hlec6h"),n(yt,"class","ring-text svelte-1hlec6h"),n(kt,"class","storage-ring svelte-1hlec6h"),n(wl,"class","storage-visual svelte-1hlec6h"),n(jl,"class","mono svelte-1hlec6h"),n(zt,"class","storage-row svelte-1hlec6h"),n(Ll,"class","mono small svelte-1hlec6h"),n(Ct,"class","storage-row svelte-1hlec6h"),n(Hl,"class","mono small svelte-1hlec6h"),n(Mt,"class","storage-row svelte-1hlec6h"),n(Bl,"class","storage-row svelte-1hlec6h"),n(Qe,"class","storage-details svelte-1hlec6h"),n(bt,"class","storage-info svelte-1hlec6h"),n(mt,"class","card svelte-1hlec6h"),n(ql,"class","card-header svelte-1hlec6h"),n(Al,"class","cache-icon hit svelte-1hlec6h"),n(El,"class","cache-label svelte-1hlec6h"),n(Ol,"class","cache-value svelte-1hlec6h"),n(Lt,"class","cache-info svelte-1hlec6h"),n(St,"class","cache-item svelte-1hlec6h"),n(Il,"class","cache-icon svelte-1hlec6h"),n(Dl,"class","cache-label svelte-1hlec6h"),n(Fl,"class","cache-value svelte-1hlec6h"),n(Ht,"class","cache-info svelte-1hlec6h"),n(Tt,"class","cache-item svelte-1hlec6h"),n(Vl,"class","cache-icon svelte-1hlec6h"),n(Zl,"class","cache-label svelte-1hlec6h"),n(Wt,"class","cache-value svelte-1hlec6h"),n(Bt,"class","cache-info svelte-1hlec6h"),n(Rt,"class","cache-item svelte-1hlec6h"),n(nt,"class","cache-stats svelte-1hlec6h"),n(jt,"class","card compact svelte-1hlec6h"),n(_t,"class","column svelte-1hlec6h"),n(Be,"class","two-column svelte-1hlec6h")},m(be,we){I(be,e,we),l(e,s),l(s,i),l(s,a),l(s,r),l(r,c),l(c,h),l(r,f),l(r,p),l(s,m),l(s,g),l(g,v),l(v,_),l(g,k),l(g,w),l(w,y),l(w,T),l(e,z),l(e,q),l(q,S),l(q,L),l(q,H),l(H,B),l(B,j),l(B,A),l(H,R),l(H,C),l(q,D),l(q,M),l(e,F),l(e,U),l(U,P),l(U,J),l(U,G),l(G,X),l(X,Q),l(G,Y),l(G,x),l(e,ae),l(e,ce),l(ce,K),l(ce,ne),l(ce,$),l($,_e),l(_e,ue),l($,ve),l($,pe),l(ce,le),l(ce,ie),l(ie,te),l(te,ge),l(te,ke),I(be,Re,we),I(be,Be,we),l(Be,Se),l(Se,Ce),l(Ce,Ee),l(Ee,Ie),l(Ee,ot),l(Ee,re),l(re,Te),l(re,Dt),l(Ce,Ft),l(Ce,et),l(et,tt),l(tt,Yt),l(tt,Rs),l(tt,$t),l($t,xl),l(tt,Bs),l(tt,el),l(el,Pt),l(et,qs),l(et,lt),l(lt,tl),l(lt,As),l(lt,ll),l(ll,es),l(lt,Es),l(lt,nl),l(nl,Pe),l(et,Os),l(et,st),l(st,il),l(st,Ns),l(st,Vt),l(Vt,ts),l(Vt,Is),l(st,Ds),l(st,al),l(al,Ve),l(Se,Fs),l(Se,ft),l(ft,ol),l(ft,Ps),l(ft,Je),l(Je,dt),l(dt,cl),l(cl,ls),l(dt,Vs),l(dt,hl),l(Je,Zs),l(Je,vt),l(vt,ul),l(ul,ss),l(vt,Ws),l(vt,dl),l(Je,Us),l(Je,pt),l(pt,vl),l(vl,ns),l(pt,Js),l(pt,gl),l(Je,Qs),l(Je,gt),l(gt,_l),l(_l,is),l(gt,Ks),l(gt,bl),l(Be,Xs),l(Be,_t),l(_t,mt),l(mt,kl),l(mt,Gs),l(mt,bt),l(bt,wl),l(wl,kt),l(kt,wt),l(wt,yl),l(wt,Zt),l(kt,Ys),l(kt,yt),l(yt,zl),l(zl,as),l(yt,$s),l(yt,Ml),l(bt,xs),l(bt,Qe),l(Qe,zt),l(zt,os),l(zt,en),l(zt,jl),l(jl,cs),l(Qe,tn),l(Qe,Ct),l(Ct,rs),l(Ct,ln),l(Ct,Ll),l(Ll,hs),l(Qe,sn),l(Qe,Mt),l(Mt,us),l(Mt,nn),l(Mt,Hl),l(Hl,fs),l(Qe,an),l(Qe,Bl),l(_t,on),l(_t,jt),l(jt,ql),l(jt,cn),l(jt,nt),l(nt,St),l(St,Al),l(St,rn),l(St,Lt),l(Lt,El),l(Lt,hn),l(Lt,Ol),l(Ol,ds),l(nt,un),l(nt,Tt),l(Tt,Il),l(Tt,fn),l(Tt,Ht),l(Ht,Dl),l(Ht,dn),l(Ht,Fl),l(Fl,vs),l(nt,vn),l(nt,Rt),l(Rt,Vl),l(Rt,pn),l(Rt,Bt),l(Bt,Zl),l(Bt,gn),l(Bt,Wt),l(Wt,ps),l(Wt,_n)},p(be,we){var ei,ti,li,si,ni,ii,ai,oi,ci,ri,hi,ui,fi,di,vi,pi,gi,_i,mi,bi,ki,wi,yi,zi,Ci,Mi,ji,Si,Li,Ti,Hi,Ri,Bi,qi,Ai,Ei;we[0]&2&&u!==(u=ze((ei=be[1])==null?void 0:ei.total_logs)+"")&&W(h,u),we[0]&1&&b!==(b=ze(((li=(ti=be[0])==null?void 0:ti.ingestion)==null?void 0:li.total)||0)+"")&&W(T,b),we[0]&2&&E!==(E=(((si=be[1])==null?void 0:si.db_size_mb)||0)+"")&&W(j,E),we[0]&1&&Z!==(Z=(((ii=(ni=be[0])==null?void 0:ni.server)==null?void 0:ii.uptime_human)||"-")+"")&&W(Q,Z),we[0]&1&&ye!==(ye=ze(((oi=(ai=be[0])==null?void 0:ai.requests)==null?void 0:oi.total)||0)+"")&&W(ue,ye),we[0]&1&&oe!==(oe=(((ri=(ci=be[0])==null?void 0:ci.requests)==null?void 0:ri.errors)||0)+"")&&W(ge,oe),we[0]&1&&Me!==(Me=ze((ui=(hi=be[0])==null?void 0:hi.clickhouse)==null?void 0:ui.queries_total)+"")&&W(Te,Me),we[0]&1&&xt!==(xt=(((di=(fi=be[0])==null?void 0:fi.clickhouse)==null?void 0:di.avg_query_time)||"0s")+"")&&W(xl,xt),we[0]&256&&he(Pt,"width",Math.min(be[8]*100,100)+"%"),we[0]&1&&sl!==(sl=(((pi=(vi=be[0])==null?void 0:vi.cache)==null?void 0:pi.hit_rate)||"0%")+"")&&W(es,sl),we[0]&512&&he(Pe,"width",be[9]+"%"),we[0]&512&&ee(Pe,"good",be[9]>70),we[0]&512&&ee(Pe,"warning",be[9]<=70&&be[9]>30),we[0]&512&&ee(Pe,"bad",be[9]<=30),we[0]&1024&&W(ts,be[10]),we[0]&1024&&he(Ve,"width",Math.min(be[10]*10,100)+"%"),we[0]&1024&&ee(Ve,"good",be[10]<1),we[0]&1024&&ee(Ve,"warning",be[10]>=1&&be[10]<5),we[0]&1024&&ee(Ve,"bad",be[10]>=5),we[0]&1&&rl!==(rl=ze((_i=(gi=be[0])==null?void 0:gi.ingestion)==null?void 0:_i.total)+"")&&W(ls,rl),we[0]&1&&fl!==(fl=Fe((bi=(mi=be[0])==null?void 0:mi.clickhouse)==null?void 0:bi.bytes_inserted)+"")&&W(ss,fl),we[0]&1&&pl!==(pl=(((wi=(ki=be[0])==null?void 0:ki.clickhouse)==null?void 0:wi.buffer_size)||0)+"")&&W(ns,pl),we[0]&1&&ml!==(ml=ze((zi=(yi=be[0])==null?void 0:yi.clickhouse)==null?void 0:zi.inserts_total)+"")&&W(is,ml),we[0]&2&&Cl!==(Cl=(((Ci=be[1])==null?void 0:Ci.db_size_mb)||0)+"")&&W(as,Cl),we[0]&2&&Sl!==(Sl=ze((Mi=be[1])==null?void 0:Mi.total_rows)+"")&&W(cs,Sl),we[0]&2&&Tl!==(Tl=(((Si=(ji=be[1])==null?void 0:ji.oldest_log)==null?void 0:Si.split(" ")[0])||"-")+"")&&W(hs,Tl),we[0]&2&&Rl!==(Rl=(((Ti=(Li=be[1])==null?void 0:Li.newest_log)==null?void 0:Ti.split(" ")[0])||"-")+"")&&W(fs,Rl),we[0]&1&&Nl!==(Nl=(((Ri=(Hi=be[0])==null?void 0:Hi.cache)==null?void 0:Ri.hit_rate)||"0%")+"")&&W(ds,Nl),we[0]&1&&Pl!==(Pl=(((qi=(Bi=be[0])==null?void 0:Bi.cache)==null?void 0:qi.entries)||0)+"")&&W(vs,Pl),we[0]&1&&Wl!==(Wl=(((Ei=(Ai=be[0])==null?void 0:Ai.cache)==null?void 0:Ei.ttl_seconds)||60)+"")&&W(ps,Wl)},d(be){be&&(N(e),N(Re),N(Be))}}}function no(t){var $,_e,ye,ue,ve,pe,le,ie;let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k,w=(((_e=($=t[0])==null?void 0:$.requests)==null?void 0:_e.avg_duration)||"0")+"",y,b,T,z,q,S,L,H=Yl((((ue=(ye=t[0])==null?void 0:ye.clickhouse)==null?void 0:ue.queries_total)||0)*t[8]*1e3)+"",B,E,j,A,R,C,D,M,F=ze(((pe=(ve=t[0])==null?void 0:ve.requests)==null?void 0:pe.total)||0)+"",U,P,J,G,X,Z,Q=Fe(((ie=(le=t[0])==null?void 0:le.clickhouse)==null?void 0:ie.bytes_inserted)||0)+"",Y,x,ae;function ce(te,oe){var ge,ke;return(ke=(ge=te[0])==null?void 0:ge.requests)!=null&&ke.by_path?Gc:Xc}let K=ce(t),ne=K(t);return{c(){e=o("div"),s=o("section"),i=o("div"),i.innerHTML='<h3 class="svelte-1hlec6h">Request Breakdown by Endpoint</h3>',a=d(),r=o("div"),ne.c(),c=d(),u=o("div"),h=o("section"),f=o("div"),f.innerHTML='<h3 class="svelte-1hlec6h">Response Times</h3>',p=d(),m=o("div"),g=o("div"),v=o("span"),v.textContent="Average",_=d(),k=o("span"),y=O(w),b=O("s"),T=d(),z=o("div"),q=o("span"),q.textContent="Total Query Time",S=d(),L=o("span"),B=O(H),E=d(),j=o("section"),A=o("div"),A.innerHTML='<h3 class="svelte-1hlec6h">Throughput</h3>',R=d(),C=o("div"),D=o("div"),M=o("span"),U=O(F),P=d(),J=o("span"),J.textContent="Total Requests",G=d(),X=o("div"),Z=o("span"),Y=O(Q),x=d(),ae=o("span"),ae.textContent="Data Processed",n(i,"class","card-header svelte-1hlec6h"),n(r,"class","endpoint-list svelte-1hlec6h"),n(s,"class","card full-width svelte-1hlec6h"),n(f,"class","card-header svelte-1hlec6h"),n(v,"class","time-label svelte-1hlec6h"),n(k,"class","time-value svelte-1hlec6h"),n(g,"class","time-metric svelte-1hlec6h"),n(q,"class","time-label svelte-1hlec6h"),n(L,"class","time-value svelte-1hlec6h"),n(z,"class","time-metric svelte-1hlec6h"),n(m,"class","response-times svelte-1hlec6h"),n(h,"class","card svelte-1hlec6h"),n(A,"class","card-header svelte-1hlec6h"),n(M,"class","throughput-value svelte-1hlec6h"),n(J,"class","throughput-label svelte-1hlec6h"),n(D,"class","throughput-item svelte-1hlec6h"),n(Z,"class","throughput-value svelte-1hlec6h"),n(ae,"class","throughput-label svelte-1hlec6h"),n(X,"class","throughput-item svelte-1hlec6h"),n(C,"class","throughput-stats svelte-1hlec6h"),n(j,"class","card svelte-1hlec6h"),n(u,"class","two-column svelte-1hlec6h"),n(e,"class","perf-section svelte-1hlec6h")},m(te,oe){I(te,e,oe),l(e,s),l(s,i),l(s,a),l(s,r),ne.m(r,null),l(e,c),l(e,u),l(u,h),l(h,f),l(h,p),l(h,m),l(m,g),l(g,v),l(g,_),l(g,k),l(k,y),l(k,b),l(m,T),l(m,z),l(z,q),l(z,S),l(z,L),l(L,B),l(u,E),l(u,j),l(j,A),l(j,R),l(j,C),l(C,D),l(D,M),l(M,U),l(D,P),l(D,J),l(C,G),l(C,X),l(X,Z),l(Z,Y),l(X,x),l(X,ae)},p(te,oe){var ge,ke,Re,Be,Se,Ce,Ee,Ie;K===(K=ce(te))&&ne?ne.p(te,oe):(ne.d(1),ne=K(te),ne&&(ne.c(),ne.m(r,null))),oe[0]&1&&w!==(w=(((ke=(ge=te[0])==null?void 0:ge.requests)==null?void 0:ke.avg_duration)||"0")+"")&&W(y,w),oe[0]&257&&H!==(H=Yl((((Be=(Re=te[0])==null?void 0:Re.clickhouse)==null?void 0:Be.queries_total)||0)*te[8]*1e3)+"")&&W(B,H),oe[0]&1&&F!==(F=ze(((Ce=(Se=te[0])==null?void 0:Se.requests)==null?void 0:Ce.total)||0)+"")&&W(U,F),oe[0]&1&&Q!==(Q=Fe(((Ie=(Ee=te[0])==null?void 0:Ee.clickhouse)==null?void 0:Ie.bytes_inserted)||0)+"")&&W(Y,Q)},d(te){te&&N(e),ne.d()}}}function Xc(t){let e;return{c(){e=o("div"),e.textContent="No request data available",n(e,"class","no-data svelte-1hlec6h")},m(s,i){I(s,e,i)},p:de,d(s){s&&N(e)}}}function Gc(t){let e,s=fe(Object.entries(t[0].requests.by_path).sort(uo).slice(0,10)),i=[];for(let a=0;a<s.length;a+=1)i[a]=io(to(t,s,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=Xt()},m(a,r){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(a,r);I(a,e,r)},p(a,r){if(r[0]&1){s=fe(Object.entries(a[0].requests.by_path).sort(uo).slice(0,10));let c;for(c=0;c<s.length;c+=1){const u=to(a,s,c);i[c]?i[c].p(u,r):(i[c]=io(u),i[c].c(),i[c].m(e.parentNode,e))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(a){a&&N(e),Le(i,a)}}}function io(t){let e,s,i=t[28]+"",a,r,c,u,h,f,p=ze(t[29])+"",m,g;return{c(){e=o("div"),s=o("code"),a=O(i),r=d(),c=o("div"),u=o("div"),h=d(),f=o("span"),m=O(p),g=d(),n(s,"class","endpoint-path svelte-1hlec6h"),n(u,"class","endpoint-bar svelte-1hlec6h"),he(u,"width",Math.min(t[29]/Math.max(...Object.values(t[0].requests.by_path))*100,100)+"%"),n(c,"class","endpoint-bar-container svelte-1hlec6h"),n(f,"class","endpoint-count svelte-1hlec6h"),n(e,"class","endpoint-row svelte-1hlec6h")},m(v,_){I(v,e,_),l(e,s),l(s,a),l(e,r),l(e,c),l(c,u),l(e,h),l(e,f),l(f,m),l(e,g)},p(v,_){_[0]&1&&i!==(i=v[28]+"")&&W(a,i),_[0]&1&&he(u,"width",Math.min(v[29]/Math.max(...Object.values(v[0].requests.by_path))*100,100)+"%"),_[0]&1&&p!==(p=ze(v[29])+"")&&W(m,p)},d(v){v&&N(e)}}}function ao(t){let e,s,i,a,r,c=t[3].length+"",u,h,f,p,m,g,v,_,k,w,y;function b(L,H){return L[3].length>0?$c:Yc}let T=b(t),z=T(t),q=fe(t[3].slice(0,5)),S=[];for(let L=0;L<q.length;L+=1)S[L]=co(xa(t,q,L));return{c(){e=o("section"),s=o("div"),i=o("h3"),i.textContent="Table Statistics",a=d(),r=o("span"),u=O(c),h=O(" tables"),f=d(),z.c(),p=d(),m=o("div"),g=o("section"),v=o("div"),v.innerHTML='<h3 class="svelte-1hlec6h">Partition Distribution</h3>',_=d(),k=o("div");for(let L=0;L<S.length;L+=1)S[L].c();w=d(),y=o("section"),y.innerHTML='<div class="card-header svelte-1hlec6h"><h3 class="svelte-1hlec6h">Data Retention</h3></div> <div class="retention-info svelte-1hlec6h"><div class="retention-item svelte-1hlec6h"><span class="retention-label svelte-1hlec6h">Policy</span> <span class="retention-value svelte-1hlec6h">30 days TTL</span></div> <div class="retention-item svelte-1hlec6h"><span class="retention-label svelte-1hlec6h">Auto Cleanup</span> <span class="retention-value enabled svelte-1hlec6h">Enabled</span></div> <div class="retention-item svelte-1hlec6h"><span class="retention-label svelte-1hlec6h">Compression</span> <span class="retention-value svelte-1hlec6h">ZSTD Level 3</span></div></div>',n(i,"class","svelte-1hlec6h"),n(r,"class","card-badge svelte-1hlec6h"),n(s,"class","card-header svelte-1hlec6h"),n(e,"class","card full-width svelte-1hlec6h"),n(v,"class","card-header svelte-1hlec6h"),n(k,"class","partition-list svelte-1hlec6h"),n(g,"class","card svelte-1hlec6h"),n(y,"class","card svelte-1hlec6h"),n(m,"class","two-column svelte-1hlec6h")},m(L,H){I(L,e,H),l(e,s),l(s,i),l(s,a),l(s,r),l(r,u),l(r,h),l(e,f),z.m(e,null),I(L,p,H),I(L,m,H),l(m,g),l(g,v),l(g,_),l(g,k);for(let B=0;B<S.length;B+=1)S[B]&&S[B].m(k,null);l(m,w),l(m,y)},p(L,H){if(H[0]&8&&c!==(c=L[3].length+"")&&W(u,c),T===(T=b(L))&&z?z.p(L,H):(z.d(1),z=T(L),z&&(z.c(),z.m(e,null))),H[0]&8){q=fe(L[3].slice(0,5));let B;for(B=0;B<q.length;B+=1){const E=xa(L,q,B);S[B]?S[B].p(E,H):(S[B]=co(E),S[B].c(),S[B].m(k,null))}for(;B<S.length;B+=1)S[B].d(1);S.length=q.length}},d(L){L&&(N(e),N(p),N(m)),z.d(),Le(S,L)}}}function Yc(t){let e;return{c(){e=o("div"),e.textContent="No table statistics available",n(e,"class","no-data svelte-1hlec6h")},m(s,i){I(s,e,i)},p:de,d(s){s&&N(e)}}}function $c(t){let e,s,i,a,r,c=fe(t[3]),u=[];for(let h=0;h<c.length;h+=1)u[h]=oo(eo(t,c,h));return{c(){e=o("div"),s=o("table"),i=o("thead"),i.innerHTML='<tr class="svelte-1hlec6h"><th class="svelte-1hlec6h">Table Name</th> <th class="right svelte-1hlec6h">Rows</th> <th class="right svelte-1hlec6h">Size</th> <th class="right svelte-1hlec6h">Partitions</th> <th class="right svelte-1hlec6h">Avg Row</th> <th class="svelte-1hlec6h">Compression</th></tr>',a=d(),r=o("tbody");for(let h=0;h<u.length;h+=1)u[h].c();n(s,"class","data-table svelte-1hlec6h"),n(e,"class","table-container svelte-1hlec6h")},m(h,f){I(h,e,f),l(e,s),l(s,i),l(s,a),l(s,r);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(r,null)},p(h,f){if(f[0]&8){c=fe(h[3]);let p;for(p=0;p<c.length;p+=1){const m=eo(h,c,p);u[p]?u[p].p(m,f):(u[p]=oo(m),u[p].c(),u[p].m(r,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=c.length}},d(h){h&&N(e),Le(u,h)}}}function oo(t){let e,s,i,a=t[23].table+"",r,c,u,h=ze(t[23].rows)+"",f,p,m,g=Fe(t[23].bytes)+"",v,_,k,w=(t[23].partitions||"-")+"",y,b,T,z=(t[23].rows>0?Fe(t[23].bytes/t[23].rows):"-")+"",q,S,L,H;return{c(){e=o("tr"),s=o("td"),i=o("code"),r=O(a),c=d(),u=o("td"),f=O(h),p=d(),m=o("td"),v=O(g),_=d(),k=o("td"),y=O(w),b=d(),T=o("td"),q=O(z),S=d(),L=o("td"),L.innerHTML='<div class="compression-bar svelte-1hlec6h"><div class="compression-fill svelte-1hlec6h" style="width: 65%"></div> <span>ZSTD</span></div>',H=d(),n(i,"class","table-name svelte-1hlec6h"),n(s,"class","svelte-1hlec6h"),n(u,"class","right mono svelte-1hlec6h"),n(m,"class","right mono svelte-1hlec6h"),n(k,"class","right mono svelte-1hlec6h"),n(T,"class","right mono svelte-1hlec6h"),n(L,"class","svelte-1hlec6h"),n(e,"class","svelte-1hlec6h")},m(B,E){I(B,e,E),l(e,s),l(s,i),l(i,r),l(e,c),l(e,u),l(u,f),l(e,p),l(e,m),l(m,v),l(e,_),l(e,k),l(k,y),l(e,b),l(e,T),l(T,q),l(e,S),l(e,L),l(e,H)},p(B,E){E[0]&8&&a!==(a=B[23].table+"")&&W(r,a),E[0]&8&&h!==(h=ze(B[23].rows)+"")&&W(f,h),E[0]&8&&g!==(g=Fe(B[23].bytes)+"")&&W(v,g),E[0]&8&&w!==(w=(B[23].partitions||"-")+"")&&W(y,w),E[0]&8&&z!==(z=(B[23].rows>0?Fe(B[23].bytes/B[23].rows):"-")+"")&&W(q,z)},d(B){B&&N(e)}}}function co(t){let e,s,i=t[23].table+"",a,r,c,u,h,f,p=Fe(t[23].bytes)+"",m,g;return{c(){e=o("div"),s=o("span"),a=O(i),r=d(),c=o("div"),u=o("div"),h=d(),f=o("span"),m=O(p),g=d(),n(s,"class","partition-name svelte-1hlec6h"),n(u,"class","partition-bar svelte-1hlec6h"),he(u,"width",t[23].bytes/Math.max(...t[3].map(fo))*100+"%"),n(c,"class","partition-bar-container svelte-1hlec6h"),n(f,"class","partition-size svelte-1hlec6h"),n(e,"class","partition-item svelte-1hlec6h")},m(v,_){I(v,e,_),l(e,s),l(s,a),l(e,r),l(e,c),l(c,u),l(e,h),l(e,f),l(f,m),l(e,g)},p(v,_){_[0]&8&&i!==(i=v[23].table+"")&&W(a,i),_[0]&8&&he(u,"width",v[23].bytes/Math.max(...v[3].map(fo))*100+"%"),_[0]&8&&p!==(p=Fe(v[23].bytes)+"")&&W(m,p)},d(v){v&&N(e)}}}function ro(t){var x,ae,ce,K,ne,$,_e,ye;let e,s,i,a,r,c,u,h,f,p,m,g,v,_=ze((ae=(x=t[0])==null?void 0:x.clickhouse)==null?void 0:ae.queries_total)+"",k,w,y,b,T,z,q=ze((K=(ce=t[0])==null?void 0:ce.clickhouse)==null?void 0:K.queries_cached)+"",S,L,H,B,E,j,A=ze(($=(ne=t[0])==null?void 0:ne.clickhouse)==null?void 0:$.errors_total)+"",R,C,D,M,F,U,P=(((ye=(_e=t[0])==null?void 0:_e.clickhouse)==null?void 0:ye.avg_query_time)||"0s")+"",J,G,X;function Z(ue,ve){return ue[2].length>0?er:xc}let Q=Z(t),Y=Q(t);return{c(){e=o("section"),s=o("div"),s.innerHTML='<h3 class="svelte-1hlec6h">Slow Queries</h3> <span class="card-badge warning svelte-1hlec6h">&gt;100ms</span>',i=d(),Y.c(),a=d(),r=o("div"),c=o("section"),u=o("div"),u.innerHTML='<h3 class="svelte-1hlec6h">Query Statistics</h3>',h=d(),f=o("div"),p=o("div"),m=o("span"),m.textContent="Total Queries",g=d(),v=o("span"),k=O(_),w=d(),y=o("div"),b=o("span"),b.textContent="Cached Queries",T=d(),z=o("span"),S=O(q),L=d(),H=o("div"),B=o("span"),B.textContent="Failed Queries",E=d(),j=o("span"),R=O(A),C=d(),D=o("div"),M=o("span"),M.textContent="Avg Execution",F=d(),U=o("span"),J=O(P),G=d(),X=o("section"),X.innerHTML='<div class="card-header svelte-1hlec6h"><h3 class="svelte-1hlec6h">Query Optimization Tips</h3></div> <div class="tips-list svelte-1hlec6h"><div class="tip-item svelte-1hlec6h"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1hlec6h"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4M12 8h.01"></path></svg> <span>Use time filters to reduce scanned data</span></div> <div class="tip-item svelte-1hlec6h"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1hlec6h"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4M12 8h.01"></path></svg> <span>Leverage indexed columns (level, service)</span></div> <div class="tip-item svelte-1hlec6h"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1hlec6h"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4M12 8h.01"></path></svg> <span>Limit result sets with LIMIT clause</span></div></div>',n(s,"class","card-header svelte-1hlec6h"),n(e,"class","card full-width svelte-1hlec6h"),n(u,"class","card-header svelte-1hlec6h"),n(v,"class","mono svelte-1hlec6h"),n(p,"class","summary-row svelte-1hlec6h"),n(z,"class","mono svelte-1hlec6h"),n(y,"class","summary-row svelte-1hlec6h"),n(j,"class","mono error svelte-1hlec6h"),n(H,"class","summary-row svelte-1hlec6h"),n(U,"class","mono svelte-1hlec6h"),n(D,"class","summary-row svelte-1hlec6h"),n(f,"class","query-summary svelte-1hlec6h"),n(c,"class","card svelte-1hlec6h"),n(X,"class","card svelte-1hlec6h"),n(r,"class","two-column svelte-1hlec6h")},m(ue,ve){I(ue,e,ve),l(e,s),l(e,i),Y.m(e,null),I(ue,a,ve),I(ue,r,ve),l(r,c),l(c,u),l(c,h),l(c,f),l(f,p),l(p,m),l(p,g),l(p,v),l(v,k),l(f,w),l(f,y),l(y,b),l(y,T),l(y,z),l(z,S),l(f,L),l(f,H),l(H,B),l(H,E),l(H,j),l(j,R),l(f,C),l(f,D),l(D,M),l(D,F),l(D,U),l(U,J),l(r,G),l(r,X)},p(ue,ve){var pe,le,ie,te,oe,ge,ke,Re;Q===(Q=Z(ue))&&Y?Y.p(ue,ve):(Y.d(1),Y=Q(ue),Y&&(Y.c(),Y.m(e,null))),ve[0]&1&&_!==(_=ze((le=(pe=ue[0])==null?void 0:pe.clickhouse)==null?void 0:le.queries_total)+"")&&W(k,_),ve[0]&1&&q!==(q=ze((te=(ie=ue[0])==null?void 0:ie.clickhouse)==null?void 0:te.queries_cached)+"")&&W(S,q),ve[0]&1&&A!==(A=ze((ge=(oe=ue[0])==null?void 0:oe.clickhouse)==null?void 0:ge.errors_total)+"")&&W(R,A),ve[0]&1&&P!==(P=(((Re=(ke=ue[0])==null?void 0:ke.clickhouse)==null?void 0:Re.avg_query_time)||"0s")+"")&&W(J,P)},d(ue){ue&&(N(e),N(a),N(r)),Y.d()}}}function xc(t){let e;return{c(){e=o("div"),e.innerHTML='<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2M9 9h.01M15 9h.01"></path></svg> <p class="svelte-1hlec6h">No slow queries detected</p> <span class="svelte-1hlec6h">Queries taking more than 100ms will appear here</span>',n(e,"class","no-data svelte-1hlec6h")},m(s,i){I(s,e,i)},p:de,d(s){s&&N(e)}}}function er(t){let e,s,i,a,r,c=fe(t[2]),u=[];for(let h=0;h<c.length;h+=1)u[h]=ho($a(t,c,h));return{c(){e=o("div"),s=o("table"),i=o("thead"),i.innerHTML='<tr class="svelte-1hlec6h"><th class="svelte-1hlec6h">Query</th> <th class="right svelte-1hlec6h">Duration</th> <th class="right svelte-1hlec6h">Rows Read</th> <th class="right svelte-1hlec6h">Memory</th> <th class="svelte-1hlec6h">Time</th></tr>',a=d(),r=o("tbody");for(let h=0;h<u.length;h+=1)u[h].c();n(s,"class","data-table queries-table svelte-1hlec6h"),n(e,"class","table-container svelte-1hlec6h")},m(h,f){I(h,e,f),l(e,s),l(s,i),l(s,a),l(s,r);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(r,null)},p(h,f){if(f[0]&4){c=fe(h[2]);let p;for(p=0;p<c.length;p+=1){const m=$a(h,c,p);u[p]?u[p].p(m,f):(u[p]=ho(m),u[p].c(),u[p].m(r,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=c.length}},d(h){h&&N(e),Le(u,h)}}}function ho(t){var D,M,F;let e,s,i,a,r=((D=t[20].query)==null?void 0:D.substring(0,80))+"",c,u,h,f,p,m,g,v=Yl(t[20].duration_ms)+"",_,k,w,y=ze(t[20].read_rows)+"",b,T,z,q=Fe(t[20].memory_usage)+"",S,L,H,B=(((F=(M=t[20].event_time)==null?void 0:M.split("T")[1])==null?void 0:F.split("Z")[0])||"-")+"",E,j,A,R;function C(){return t[18](t[20])}return{c(){e=o("tr"),s=o("td"),i=o("div"),a=o("code"),c=O(r),u=O("..."),h=d(),f=o("button"),f.innerHTML='<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"></rect><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"></path></svg>',p=d(),m=o("td"),g=o("span"),_=O(v),k=d(),w=o("td"),b=O(y),T=d(),z=o("td"),S=O(q),L=d(),H=o("td"),E=O(B),j=d(),n(a,"class","query-text svelte-1hlec6h"),n(f,"class","copy-btn svelte-1hlec6h"),n(i,"class","query-cell svelte-1hlec6h"),n(s,"class","svelte-1hlec6h"),n(g,"class","duration-badge svelte-1hlec6h"),ee(g,"slow",t[20].duration_ms>500),ee(g,"very-slow",t[20].duration_ms>1e3),n(m,"class","right svelte-1hlec6h"),n(w,"class","right mono svelte-1hlec6h"),n(z,"class","right mono svelte-1hlec6h"),n(H,"class","mono small svelte-1hlec6h"),n(e,"class","svelte-1hlec6h")},m(U,P){I(U,e,P),l(e,s),l(s,i),l(i,a),l(a,c),l(a,u),l(i,h),l(i,f),l(e,p),l(e,m),l(m,g),l(g,_),l(e,k),l(e,w),l(w,b),l(e,T),l(e,z),l(z,S),l(e,L),l(e,H),l(H,E),l(e,j),A||(R=V(f,"click",C),A=!0)},p(U,P){var J,G,X;t=U,P[0]&4&&r!==(r=((J=t[20].query)==null?void 0:J.substring(0,80))+"")&&W(c,r),P[0]&4&&v!==(v=Yl(t[20].duration_ms)+"")&&W(_,v),P[0]&4&&ee(g,"slow",t[20].duration_ms>500),P[0]&4&&ee(g,"very-slow",t[20].duration_ms>1e3),P[0]&4&&y!==(y=ze(t[20].read_rows)+"")&&W(b,y),P[0]&4&&q!==(q=Fe(t[20].memory_usage)+"")&&W(S,q),P[0]&4&&B!==(B=(((X=(G=t[20].event_time)==null?void 0:G.split("T")[1])==null?void 0:X.split("Z")[0])||"-")+"")&&W(E,B)},d(U){U&&N(e),A=!1,R()}}}function tr(t){let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k,w,y,b,T,z,q,S,L,H,B,E,j,A,R,C,D=t[5]&&lo(t);function M(P,J){return P[4]&&!P[1]?Kc:Qc}let F=M(t),U=F(t);return{c(){e=o("div"),s=o("header"),i=o("div"),a=o("h1"),a.innerHTML=`<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3v18h18"></path><path d="M18 9l-5-6-4 8-3-2"></path></svg>
        Analytics Dashboard`,r=d(),c=o("div"),u=o("button"),u.textContent="Overview",h=d(),f=o("button"),f.textContent="Performance",p=d(),m=o("button"),m.textContent="Storage",g=d(),v=o("button"),v.textContent="Queries",_=d(),k=o("div"),w=o("select"),y=o("option"),y.textContent="Last 15 min",b=o("option"),b.textContent="Last 1 hour",T=o("option"),T.textContent="Last 6 hours",z=o("option"),z.textContent="Last 24 hours",q=o("option"),q.textContent="Last 7 days",S=d(),L=o("button"),H=se("svg"),B=se("path"),E=se("path"),j=d(),D&&D.c(),A=d(),U.c(),n(a,"class","svelte-1hlec6h"),n(u,"class","svelte-1hlec6h"),ee(u,"active",t[6]==="overview"),n(f,"class","svelte-1hlec6h"),ee(f,"active",t[6]==="performance"),n(m,"class","svelte-1hlec6h"),ee(m,"active",t[6]==="storage"),n(v,"class","svelte-1hlec6h"),ee(v,"active",t[6]==="queries"),n(c,"class","header-tabs svelte-1hlec6h"),n(i,"class","header-left svelte-1hlec6h"),y.__value="15m",me(y,y.__value),b.__value="1h",me(b,b.__value),T.__value="6h",me(T,T.__value),z.__value="24h",me(z,z.__value),q.__value="7d",me(q,q.__value),n(w,"class","time-select svelte-1hlec6h"),t[7]===void 0&&Ze(()=>t[17].call(w)),n(B,"d","M23 4v6h-6M1 20v-6h6"),n(E,"d","M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"),n(H,"width","14"),n(H,"height","14"),n(H,"viewBox","0 0 24 24"),n(H,"fill","none"),n(H,"stroke","currentColor"),n(H,"stroke-width","2"),n(H,"class","svelte-1hlec6h"),ee(H,"spinning",t[4]),n(L,"class","refresh-btn svelte-1hlec6h"),L.disabled=t[4],n(k,"class","header-right svelte-1hlec6h"),n(s,"class","page-header svelte-1hlec6h"),n(e,"class","analytics-page svelte-1hlec6h")},m(P,J){I(P,e,J),l(e,s),l(s,i),l(i,a),l(i,r),l(i,c),l(c,u),l(c,h),l(c,f),l(c,p),l(c,m),l(c,g),l(c,v),l(s,_),l(s,k),l(k,w),l(w,y),l(w,b),l(w,T),l(w,z),l(w,q),qe(w,t[7],!0),l(k,S),l(k,L),l(L,H),l(H,B),l(H,E),l(e,j),D&&D.m(e,null),l(e,A),U.m(e,null),R||(C=[V(u,"click",t[13]),V(f,"click",t[14]),V(m,"click",t[15]),V(v,"click",t[16]),V(w,"change",t[17]),V(L,"click",t[11])],R=!0)},p(P,J){J[0]&64&&ee(u,"active",P[6]==="overview"),J[0]&64&&ee(f,"active",P[6]==="performance"),J[0]&64&&ee(m,"active",P[6]==="storage"),J[0]&64&&ee(v,"active",P[6]==="queries"),J[0]&128&&qe(w,P[7]),J[0]&16&&ee(H,"spinning",P[4]),J[0]&16&&(L.disabled=P[4]),P[5]?D?D.p(P,J):(D=lo(P),D.c(),D.m(e,A)):D&&(D.d(1),D=null),F===(F=M(P))&&U?U.p(P,J):(U.d(1),U=F(P),U&&(U.c(),U.m(e,null)))},i:de,o:de,d(P){P&&N(e),D&&D.d(),U.d(),R=!1,je(C)}}}const Jl="/api";function Fe(t){if(!t)return"0 B";const e=1024,s=["B","KB","MB","GB","TB"],i=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,i)).toFixed(2))+" "+s[i]}function ze(t){return t?t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toLocaleString():"0"}function Yl(t){return t?t<1e3?t.toFixed(0)+"ms":t<6e4?(t/1e3).toFixed(2)+"s":(t/6e4).toFixed(1)+"m":"0ms"}const uo=(t,e)=>e[1]-t[1],fo=t=>t.bytes;function lr(t,e,s){let i,a,r,c=null,u=null,h=[],f=[],p=!0,m=null,g,v="overview",_="1h";async function k(){try{const[L,H,B,E]=await Promise.all([fetch(`${Jl}/stats`),fetch(`${Jl}/metrics/json`),fetch(`${Jl}/analytics/queries`),fetch(`${Jl}/analytics/tables`)]);if(s(1,c=await L.json()),s(0,u=await H.json()),B.ok){const j=await B.json();s(2,h=j.queries||[])}if(E.ok){const j=await E.json();s(3,f=j.tables||[])}s(5,m=null)}catch(L){s(5,m=L.message)}finally{s(4,p=!1)}}at(()=>{k(),g=setInterval(k,1e4)}),Vo(()=>{g&&clearInterval(g)});function w(){var H;return(((H=u==null?void 0:u.server)==null?void 0:H.uptime_secs)||0)<300?"warning":"healthy"}const y=()=>s(6,v="overview"),b=()=>s(6,v="performance"),T=()=>s(6,v="storage"),z=()=>s(6,v="queries");function q(){_=it(this),s(7,_)}const S=L=>navigator.clipboard.writeText(L.query);return t.$$.update=()=>{var L,H,B,E;t.$$.dirty[0]&1&&s(10,i=((L=u==null?void 0:u.clickhouse)==null?void 0:L.queries_total)>0?((((H=u==null?void 0:u.clickhouse)==null?void 0:H.errors_total)||0)/u.clickhouse.queries_total*100).toFixed(2):0),t.$$.dirty[0]&1&&s(9,a=parseFloat(((B=u==null?void 0:u.cache)==null?void 0:B.hit_rate)||"0%")||0),t.$$.dirty[0]&1&&s(8,r=parseFloat(((E=u==null?void 0:u.clickhouse)==null?void 0:E.avg_query_time)||"0")||0)},[u,c,h,f,p,m,v,_,r,a,i,k,w,y,b,T,z,q,S]}class sr extends Ye{constructor(e){super(),Ge(this,e,lr,tr,We,{},null,[-1,-1])}}function vo(t,e,s){const i=t.slice();return i[36]=e[s],i}function po(t,e,s){const i=t.slice();return i[39]=e[s],i}function go(t,e,s){const i=t.slice();return i[39]=e[s],i}function _o(t,e,s){const i=t.slice();return i[39]=e[s],i}function mo(t,e,s){const i=t.slice();return i[39]=e[s],i}function bo(t,e,s){const i=t.slice();return i[48]=e[s],i}function ko(t){let e;return{c(){e=o("span"),e.textContent="Saved",n(e,"class","saved-badge svelte-3hzjxh")},m(s,i){I(s,e,i)},d(s){s&&N(e)}}}function nr(t){let e,s,i,a;return{c(){e=se("svg"),s=se("circle"),i=se("line"),a=se("line"),n(s,"cx","12"),n(s,"cy","12"),n(s,"r","10"),n(i,"x1","12"),n(i,"y1","16"),n(i,"x2","12"),n(i,"y2","12"),n(a,"x1","12"),n(a,"y1","8"),n(a,"x2","12.01"),n(a,"y2","8"),n(e,"width","16"),n(e,"height","16"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","2")},m(r,c){I(r,e,c),l(e,s),l(e,i),l(e,a)},d(r){r&&N(e)}}}function ir(t){let e,s,i,a;return{c(){e=se("svg"),s=se("ellipse"),i=se("path"),a=se("path"),n(s,"cx","12"),n(s,"cy","5"),n(s,"rx","9"),n(s,"ry","3"),n(i,"d","M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"),n(a,"d","M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"),n(e,"width","16"),n(e,"height","16"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","2")},m(r,c){I(r,e,c),l(e,s),l(e,i),l(e,a)},d(r){r&&N(e)}}}function ar(t){let e,s,i;return{c(){e=se("svg"),s=se("rect"),i=se("path"),n(s,"x","2"),n(s,"y","4"),n(s,"width","20"),n(s,"height","16"),n(s,"rx","2"),n(i,"d","M6 8h.01M10 8h.01M14 8h.01M18 8h.01M8 12h.01M12 12h.01M16 12h.01M7 16h10"),n(e,"width","16"),n(e,"height","16"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","2")},m(a,r){I(a,e,r),l(e,s),l(e,i)},d(a){a&&N(e)}}}function or(t){let e,s;return{c(){e=se("svg"),s=se("path"),n(s,"d","M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9M13.73 21a2 2 0 01-3.46 0"),n(e,"width","16"),n(e,"height","16"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","2")},m(i,a){I(i,e,a),l(e,s)},d(i){i&&N(e)}}}function cr(t){let e,s,i;return{c(){e=se("svg"),s=se("path"),i=se("path"),n(s,"d","M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"),n(i,"d","M14 2v6h6M16 13H8M16 17H8M10 9H8"),n(e,"width","16"),n(e,"height","16"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","2")},m(a,r){I(a,e,r),l(e,s),l(e,i)},d(a){a&&N(e)}}}function rr(t){let e,s,i,a;return{c(){e=se("svg"),s=se("rect"),i=se("line"),a=se("line"),n(s,"x","2"),n(s,"y","3"),n(s,"width","20"),n(s,"height","14"),n(s,"rx","2"),n(i,"x1","8"),n(i,"y1","21"),n(i,"x2","16"),n(i,"y2","21"),n(a,"x1","12"),n(a,"y1","17"),n(a,"x2","12"),n(a,"y2","21"),n(e,"width","16"),n(e,"height","16"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","2")},m(r,c){I(r,e,c),l(e,s),l(e,i),l(e,a)},d(r){r&&N(e)}}}function wo(t){let e,s,i,a,r,c;function u(m,g){if(m[48].icon==="monitor")return rr;if(m[48].icon==="file-text")return cr;if(m[48].icon==="bell")return or;if(m[48].icon==="keyboard")return ar;if(m[48].icon==="database")return ir;if(m[48].icon==="info")return nr}let h=u(t),f=h&&h(t);function p(){return t[16](t[48])}return{c(){e=o("button"),f&&f.c(),s=d(),i=o("span"),i.textContent=`${t[48].label}`,a=d(),n(e,"class","nav-item svelte-3hzjxh"),ee(e,"active",t[1]===t[48].id)},m(m,g){I(m,e,g),f&&f.m(e,null),l(e,s),l(e,i),l(e,a),r||(c=V(e,"click",p),r=!0)},p(m,g){t=m,g[0]&66&&ee(e,"active",t[1]===t[48].id)},d(m){m&&N(e),f&&f.d(),r=!1,c()}}}function yo(t){let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k,w,y,b,T,z,q,S,L,H,B,E,j,A,R,C,D,M,F,U,P,J,G,X,Z=fe(t[7]),Q=[];for(let K=0;K<Z.length;K+=1)Q[K]=zo(mo(t,Z,K));let Y=fe(t[8]),x=[];for(let K=0;K<Y.length;K+=1)x[K]=Co(_o(t,Y,K));let ae=fe(t[9]),ce=[];for(let K=0;K<ae.length;K+=1)ce[K]=Mo(go(t,ae,K));return{c(){e=o("section"),s=o("div"),s.innerHTML='<h3 class="svelte-3hzjxh">Display Settings</h3> <p class="svelte-3hzjxh">Customize the appearance of your dashboard</p>',i=d(),a=o("div"),r=o("div"),c=o("div"),c.innerHTML='<label for="time-range" class="svelte-3hzjxh">Default Time Range</label> <span class="setting-hint svelte-3hzjxh">Initial time range when loading</span>',u=d(),h=o("select");for(let K=0;K<Q.length;K+=1)Q[K].c();f=d(),p=o("div"),m=o("div"),m.innerHTML='<label for="auto-refresh" class="svelte-3hzjxh">Auto Refresh</label> <span class="setting-hint svelte-3hzjxh">Automatically refresh log data</span>',g=d(),v=o("select");for(let K=0;K<x.length;K+=1)x[K].c();_=d(),k=o("div"),w=o("div"),w.innerHTML='<label for="max-results" class="svelte-3hzjxh">Max Results</label> <span class="setting-hint svelte-3hzjxh">Maximum logs per query</span>',y=d(),b=o("select"),T=o("option"),T.textContent="100",z=o("option"),z.textContent="250",q=o("option"),q.textContent="500",S=o("option"),S.textContent="1,000",L=o("option"),L.textContent="2,000",H=d(),B=o("div"),E=o("div"),E.innerHTML='<label for="font-size" class="svelte-3hzjxh">Font Size</label> <span class="setting-hint svelte-3hzjxh">Log viewer text size</span>',j=d(),A=o("select");for(let K=0;K<ce.length;K+=1)ce[K].c();R=d(),C=o("div"),D=o("div"),D.innerHTML='<span class="setting-label svelte-3hzjxh">Compact Mode</span> <span class="setting-hint svelte-3hzjxh">Reduce padding for more logs</span>',M=d(),F=o("label"),U=o("input"),P=d(),J=o("span"),n(s,"class","section-header svelte-3hzjxh"),n(c,"class","setting-info svelte-3hzjxh"),n(h,"id","time-range"),n(h,"class","svelte-3hzjxh"),t[0].defaultTimeRange===void 0&&Ze(()=>t[17].call(h)),n(r,"class","setting-item svelte-3hzjxh"),n(m,"class","setting-info svelte-3hzjxh"),n(v,"id","auto-refresh"),n(v,"class","svelte-3hzjxh"),t[0].refreshInterval===void 0&&Ze(()=>t[18].call(v)),n(p,"class","setting-item svelte-3hzjxh"),n(w,"class","setting-info svelte-3hzjxh"),T.__value=100,me(T,T.__value),z.__value=250,me(z,z.__value),q.__value=500,me(q,q.__value),S.__value=1e3,me(S,S.__value),L.__value=2e3,me(L,L.__value),n(b,"id","max-results"),n(b,"class","svelte-3hzjxh"),t[0].maxResults===void 0&&Ze(()=>t[19].call(b)),n(k,"class","setting-item svelte-3hzjxh"),n(E,"class","setting-info svelte-3hzjxh"),n(A,"id","font-size"),n(A,"class","svelte-3hzjxh"),t[0].fontSize===void 0&&Ze(()=>t[20].call(A)),n(B,"class","setting-item svelte-3hzjxh"),n(D,"class","setting-info svelte-3hzjxh"),n(U,"type","checkbox"),n(U,"class","svelte-3hzjxh"),n(J,"class","toggle-slider svelte-3hzjxh"),n(F,"class","toggle svelte-3hzjxh"),n(C,"class","setting-item svelte-3hzjxh"),n(a,"class","settings-group svelte-3hzjxh"),n(e,"class","settings-section svelte-3hzjxh")},m(K,ne){I(K,e,ne),l(e,s),l(e,i),l(e,a),l(a,r),l(r,c),l(r,u),l(r,h);for(let $=0;$<Q.length;$+=1)Q[$]&&Q[$].m(h,null);qe(h,t[0].defaultTimeRange,!0),l(a,f),l(a,p),l(p,m),l(p,g),l(p,v);for(let $=0;$<x.length;$+=1)x[$]&&x[$].m(v,null);qe(v,t[0].refreshInterval,!0),l(a,_),l(a,k),l(k,w),l(k,y),l(k,b),l(b,T),l(b,z),l(b,q),l(b,S),l(b,L),qe(b,t[0].maxResults,!0),l(a,H),l(a,B),l(B,E),l(B,j),l(B,A);for(let $=0;$<ce.length;$+=1)ce[$]&&ce[$].m(A,null);qe(A,t[0].fontSize,!0),l(a,R),l(a,C),l(C,D),l(C,M),l(C,F),l(F,U),U.checked=t[0].compactMode,l(F,P),l(F,J),G||(X=[V(h,"change",t[17]),V(h,"change",t[12]),V(v,"change",t[18]),V(v,"change",t[12]),V(b,"change",t[19]),V(b,"change",t[12]),V(A,"change",t[20]),V(A,"change",t[12]),V(U,"change",t[21]),V(U,"change",t[12])],G=!0)},p(K,ne){if(ne[0]&128){Z=fe(K[7]);let $;for($=0;$<Z.length;$+=1){const _e=mo(K,Z,$);Q[$]?Q[$].p(_e,ne):(Q[$]=zo(_e),Q[$].c(),Q[$].m(h,null))}for(;$<Q.length;$+=1)Q[$].d(1);Q.length=Z.length}if(ne[0]&129&&qe(h,K[0].defaultTimeRange),ne[0]&256){Y=fe(K[8]);let $;for($=0;$<Y.length;$+=1){const _e=_o(K,Y,$);x[$]?x[$].p(_e,ne):(x[$]=Co(_e),x[$].c(),x[$].m(v,null))}for(;$<x.length;$+=1)x[$].d(1);x.length=Y.length}if(ne[0]&129&&qe(v,K[0].refreshInterval),ne[0]&129&&qe(b,K[0].maxResults),ne[0]&512){ae=fe(K[9]);let $;for($=0;$<ae.length;$+=1){const _e=go(K,ae,$);ce[$]?ce[$].p(_e,ne):(ce[$]=Mo(_e),ce[$].c(),ce[$].m(A,null))}for(;$<ce.length;$+=1)ce[$].d(1);ce.length=ae.length}ne[0]&129&&qe(A,K[0].fontSize),ne[0]&129&&(U.checked=K[0].compactMode)},d(K){K&&N(e),Le(Q,K),Le(x,K),Le(ce,K),G=!1,je(X)}}}function zo(t){let e,s=t[39].label+"",i;return{c(){e=o("option"),i=O(s),e.__value=t[39].value,me(e,e.__value)},m(a,r){I(a,e,r),l(e,i)},p:de,d(a){a&&N(e)}}}function Co(t){let e,s=t[39].label+"",i;return{c(){e=o("option"),i=O(s),e.__value=t[39].value,me(e,e.__value)},m(a,r){I(a,e,r),l(e,i)},p:de,d(a){a&&N(e)}}}function Mo(t){let e,s=t[39].label+"",i;return{c(){e=o("option"),i=O(s),e.__value=t[39].value,me(e,e.__value)},m(a,r){I(a,e,r),l(e,i)},p:de,d(a){a&&N(e)}}}function jo(t){let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k,w,y,b,T,z,q,S,L,H,B,E,j,A,R,C,D,M,F,U,P,J,G,X,Z,Q,Y,x,ae,ce,K,ne,$,_e,ye,ue,ve=fe(t[10]),pe=[];for(let le=0;le<ve.length;le+=1)pe[le]=So(po(t,ve,le));return{c(){e=o("section"),s=o("div"),s.innerHTML='<h3 class="svelte-3hzjxh">Log Viewer Settings</h3> <p class="svelte-3hzjxh">Configure how logs are displayed and formatted</p>',i=d(),a=o("div"),r=o("div"),c=o("div"),c.innerHTML='<label for="timestamp-format" class="svelte-3hzjxh">Timestamp Format</label> <span class="setting-hint svelte-3hzjxh">How to display log timestamps</span>',u=d(),h=o("select");for(let le=0;le<pe.length;le+=1)pe[le].c();f=d(),p=o("div"),m=o("div"),m.innerHTML='<span class="setting-label svelte-3hzjxh">Show Host Column</span> <span class="setting-hint svelte-3hzjxh">Display hostname in log table</span>',g=d(),v=o("label"),_=o("input"),k=d(),w=o("span"),y=d(),b=o("div"),T=o("div"),T.innerHTML='<span class="setting-label svelte-3hzjxh">Show Raw Logs</span> <span class="setting-hint svelte-3hzjxh">Display raw log data column</span>',z=d(),q=o("label"),S=o("input"),L=d(),H=o("span"),B=d(),E=o("div"),j=o("div"),j.innerHTML='<span class="setting-label svelte-3hzjxh">Line Wrap</span> <span class="setting-hint svelte-3hzjxh">Wrap long log messages</span>',A=d(),R=o("label"),C=o("input"),D=d(),M=o("span"),F=d(),U=o("div"),P=o("div"),P.innerHTML='<span class="setting-label svelte-3hzjxh">Highlight Errors</span> <span class="setting-hint svelte-3hzjxh">Highlight error/critical logs</span>',J=d(),G=o("label"),X=o("input"),Z=d(),Q=o("span"),Y=d(),x=o("div"),ae=o("div"),ae.innerHTML='<span class="setting-label svelte-3hzjxh">Auto Scroll</span> <span class="setting-hint svelte-3hzjxh">Scroll to new logs in live mode</span>',ce=d(),K=o("label"),ne=o("input"),$=d(),_e=o("span"),n(s,"class","section-header svelte-3hzjxh"),n(c,"class","setting-info svelte-3hzjxh"),n(h,"id","timestamp-format"),n(h,"class","svelte-3hzjxh"),t[0].timestampFormat===void 0&&Ze(()=>t[22].call(h)),n(r,"class","setting-item svelte-3hzjxh"),n(m,"class","setting-info svelte-3hzjxh"),n(_,"type","checkbox"),n(_,"class","svelte-3hzjxh"),n(w,"class","toggle-slider svelte-3hzjxh"),n(v,"class","toggle svelte-3hzjxh"),n(p,"class","setting-item svelte-3hzjxh"),n(T,"class","setting-info svelte-3hzjxh"),n(S,"type","checkbox"),n(S,"class","svelte-3hzjxh"),n(H,"class","toggle-slider svelte-3hzjxh"),n(q,"class","toggle svelte-3hzjxh"),n(b,"class","setting-item svelte-3hzjxh"),n(j,"class","setting-info svelte-3hzjxh"),n(C,"type","checkbox"),n(C,"class","svelte-3hzjxh"),n(M,"class","toggle-slider svelte-3hzjxh"),n(R,"class","toggle svelte-3hzjxh"),n(E,"class","setting-item svelte-3hzjxh"),n(P,"class","setting-info svelte-3hzjxh"),n(X,"type","checkbox"),n(X,"class","svelte-3hzjxh"),n(Q,"class","toggle-slider svelte-3hzjxh"),n(G,"class","toggle svelte-3hzjxh"),n(U,"class","setting-item svelte-3hzjxh"),n(ae,"class","setting-info svelte-3hzjxh"),n(ne,"type","checkbox"),n(ne,"class","svelte-3hzjxh"),n(_e,"class","toggle-slider svelte-3hzjxh"),n(K,"class","toggle svelte-3hzjxh"),n(x,"class","setting-item svelte-3hzjxh"),n(a,"class","settings-group svelte-3hzjxh"),n(e,"class","settings-section svelte-3hzjxh")},m(le,ie){I(le,e,ie),l(e,s),l(e,i),l(e,a),l(a,r),l(r,c),l(r,u),l(r,h);for(let te=0;te<pe.length;te+=1)pe[te]&&pe[te].m(h,null);qe(h,t[0].timestampFormat,!0),l(a,f),l(a,p),l(p,m),l(p,g),l(p,v),l(v,_),_.checked=t[0].showHost,l(v,k),l(v,w),l(a,y),l(a,b),l(b,T),l(b,z),l(b,q),l(q,S),S.checked=t[0].showRaw,l(q,L),l(q,H),l(a,B),l(a,E),l(E,j),l(E,A),l(E,R),l(R,C),C.checked=t[0].lineWrap,l(R,D),l(R,M),l(a,F),l(a,U),l(U,P),l(U,J),l(U,G),l(G,X),X.checked=t[0].highlightErrors,l(G,Z),l(G,Q),l(a,Y),l(a,x),l(x,ae),l(x,ce),l(x,K),l(K,ne),ne.checked=t[0].autoScroll,l(K,$),l(K,_e),ye||(ue=[V(h,"change",t[22]),V(h,"change",t[12]),V(_,"change",t[23]),V(_,"change",t[12]),V(S,"change",t[24]),V(S,"change",t[12]),V(C,"change",t[25]),V(C,"change",t[12]),V(X,"change",t[26]),V(X,"change",t[12]),V(ne,"change",t[27]),V(ne,"change",t[12])],ye=!0)},p(le,ie){if(ie[0]&1024){ve=fe(le[10]);let te;for(te=0;te<ve.length;te+=1){const oe=po(le,ve,te);pe[te]?pe[te].p(oe,ie):(pe[te]=So(oe),pe[te].c(),pe[te].m(h,null))}for(;te<pe.length;te+=1)pe[te].d(1);pe.length=ve.length}ie[0]&129&&qe(h,le[0].timestampFormat),ie[0]&129&&(_.checked=le[0].showHost),ie[0]&129&&(S.checked=le[0].showRaw),ie[0]&129&&(C.checked=le[0].lineWrap),ie[0]&129&&(X.checked=le[0].highlightErrors),ie[0]&129&&(ne.checked=le[0].autoScroll)},d(le){le&&N(e),Le(pe,le),ye=!1,je(ue)}}}function So(t){let e,s=t[39].label+"",i;return{c(){e=o("option"),i=O(s),e.__value=t[39].value,me(e,e.__value)},m(a,r){I(a,e,r),l(e,i)},p:de,d(a){a&&N(e)}}}function Lo(t){var Ee,Ie,ot;let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k,w,y,b,T,z,q,S,L,H,B,E,j,A,R,C,D,M,F,U,P,J,G,X,Z,Q,Y,x,ae,ce,K,ne,$,_e,ye,ue;function ve(re,Me){return re[0].notifications.telegram.configured?ur:hr}let pe=ve(t),le=pe(t),ie=((Ee=t[3])==null?void 0:Ee.type)==="telegram"&&To(t);function te(re,Me){return re[0].notifications.slack.configured?dr:fr}let oe=te(t),ge=oe(t),ke=((Ie=t[3])==null?void 0:Ie.type)==="slack"&&Ho(t);function Re(re,Me){return re[0].notifications.webhook.configured?pr:vr}let Be=Re(t),Se=Be(t),Ce=((ot=t[3])==null?void 0:ot.type)==="webhook"&&Ro(t);return{c(){e=o("section"),s=o("div"),s.innerHTML='<h3 class="svelte-3hzjxh">Alert Notifications</h3> <p class="svelte-3hzjxh">Configure notification channels for alerts. Set environment variables on the server.</p>',i=d(),a=o("div"),r=o("div"),c=o("div"),c.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"></path></svg>',u=d(),h=o("div"),f=o("h4"),f.textContent="Telegram",p=d(),m=o("p"),m.textContent="Receive alerts via Telegram bot",g=d(),v=o("div"),v.innerHTML='<code class="svelte-3hzjxh">PURL_TELEGRAM_BOT_TOKEN</code> <code class="svelte-3hzjxh">PURL_TELEGRAM_CHAT_ID</code>',_=d(),le.c(),k=d(),ie&&ie.c(),w=d(),y=o("div"),b=o("div"),b.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"></path></svg>',T=d(),z=o("div"),q=o("h4"),q.textContent="Slack",S=d(),L=o("p"),L.textContent="Post alerts to Slack channel",H=d(),B=o("div"),B.innerHTML='<code class="svelte-3hzjxh">PURL_SLACK_WEBHOOK_URL</code>',E=d(),ge.c(),j=d(),ke&&ke.c(),A=d(),R=o("div"),C=o("div"),C.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"></path></svg>',D=d(),M=o("div"),F=o("h4"),F.textContent="Webhook",U=d(),P=o("p"),P.textContent="Send to custom HTTP endpoint",J=d(),G=o("div"),G.innerHTML='<code class="svelte-3hzjxh">PURL_ALERT_WEBHOOK_URL</code>',X=d(),Se.c(),Z=d(),Ce&&Ce.c(),Q=d(),Y=o("div"),x=o("div"),ae=o("div"),ae.innerHTML='<span class="setting-label svelte-3hzjxh">Sound Alerts</span> <span class="setting-hint svelte-3hzjxh">Play sound for new alerts</span>',ce=d(),K=o("label"),ne=o("input"),$=d(),_e=o("span"),n(s,"class","section-header svelte-3hzjxh"),n(c,"class","notification-icon telegram svelte-3hzjxh"),n(f,"class","svelte-3hzjxh"),n(m,"class","svelte-3hzjxh"),n(v,"class","env-vars svelte-3hzjxh"),n(h,"class","notification-content svelte-3hzjxh"),n(r,"class","notification-card svelte-3hzjxh"),ee(r,"configured",t[0].notifications.telegram.configured),n(b,"class","notification-icon slack svelte-3hzjxh"),n(q,"class","svelte-3hzjxh"),n(L,"class","svelte-3hzjxh"),n(B,"class","env-vars svelte-3hzjxh"),n(z,"class","notification-content svelte-3hzjxh"),n(y,"class","notification-card svelte-3hzjxh"),ee(y,"configured",t[0].notifications.slack.configured),n(C,"class","notification-icon webhook svelte-3hzjxh"),n(F,"class","svelte-3hzjxh"),n(P,"class","svelte-3hzjxh"),n(G,"class","env-vars svelte-3hzjxh"),n(M,"class","notification-content svelte-3hzjxh"),n(R,"class","notification-card svelte-3hzjxh"),ee(R,"configured",t[0].notifications.webhook.configured),n(a,"class","notification-grid svelte-3hzjxh"),n(ae,"class","setting-info svelte-3hzjxh"),n(ne,"type","checkbox"),n(ne,"class","svelte-3hzjxh"),n(_e,"class","toggle-slider svelte-3hzjxh"),n(K,"class","toggle svelte-3hzjxh"),n(x,"class","setting-item svelte-3hzjxh"),n(Y,"class","settings-group svelte-3hzjxh"),he(Y,"margin-top","20px"),n(e,"class","settings-section svelte-3hzjxh")},m(re,Me){I(re,e,Me),l(e,s),l(e,i),l(e,a),l(a,r),l(r,c),l(r,u),l(r,h),l(h,f),l(h,p),l(h,m),l(h,g),l(h,v),l(h,_),le.m(h,null),l(h,k),ie&&ie.m(h,null),l(a,w),l(a,y),l(y,b),l(y,T),l(y,z),l(z,q),l(z,S),l(z,L),l(z,H),l(z,B),l(z,E),ge.m(z,null),l(z,j),ke&&ke.m(z,null),l(a,A),l(a,R),l(R,C),l(R,D),l(R,M),l(M,F),l(M,U),l(M,P),l(M,J),l(M,G),l(M,X),Se.m(M,null),l(M,Z),Ce&&Ce.m(M,null),l(e,Q),l(e,Y),l(Y,x),l(x,ae),l(x,ce),l(x,K),l(K,ne),ne.checked=t[0].soundAlerts,l(K,$),l(K,_e),ye||(ue=[V(ne,"change",t[31]),V(ne,"change",t[12])],ye=!0)},p(re,Me){var Te,Dt,Ft;pe===(pe=ve(re))&&le?le.p(re,Me):(le.d(1),le=pe(re),le&&(le.c(),le.m(h,k))),((Te=re[3])==null?void 0:Te.type)==="telegram"?ie?ie.p(re,Me):(ie=To(re),ie.c(),ie.m(h,null)):ie&&(ie.d(1),ie=null),Me[0]&1&&ee(r,"configured",re[0].notifications.telegram.configured),oe===(oe=te(re))&&ge?ge.p(re,Me):(ge.d(1),ge=oe(re),ge&&(ge.c(),ge.m(z,j))),((Dt=re[3])==null?void 0:Dt.type)==="slack"?ke?ke.p(re,Me):(ke=Ho(re),ke.c(),ke.m(z,null)):ke&&(ke.d(1),ke=null),Me[0]&1&&ee(y,"configured",re[0].notifications.slack.configured),Be===(Be=Re(re))&&Se?Se.p(re,Me):(Se.d(1),Se=Be(re),Se&&(Se.c(),Se.m(M,Z))),((Ft=re[3])==null?void 0:Ft.type)==="webhook"?Ce?Ce.p(re,Me):(Ce=Ro(re),Ce.c(),Ce.m(M,null)):Ce&&(Ce.d(1),Ce=null),Me[0]&1&&ee(R,"configured",re[0].notifications.webhook.configured),Me[0]&129&&(ne.checked=re[0].soundAlerts)},d(re){re&&N(e),le.d(),ie&&ie.d(),ge.d(),ke&&ke.d(),Se.d(),Ce&&Ce.d(),ye=!1,je(ue)}}}function hr(t){let e;return{c(){e=o("div"),e.textContent="Not configured",n(e,"class","notification-status svelte-3hzjxh")},m(s,i){I(s,e,i)},p:de,d(s){s&&N(e)}}}function ur(t){let e,s,i,a=t[2]==="telegram"?"Sending...":"Send Test",r,c,u,h;return{c(){e=o("div"),e.innerHTML=`<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                  Configured`,s=d(),i=o("button"),r=O(a),n(e,"class","notification-status configured svelte-3hzjxh"),n(i,"class","test-btn svelte-3hzjxh"),i.disabled=c=t[2]==="telegram"},m(f,p){I(f,e,p),I(f,s,p),I(f,i,p),l(i,r),u||(h=V(i,"click",t[28]),u=!0)},p(f,p){p[0]&4&&a!==(a=f[2]==="telegram"?"Sending...":"Send Test")&&W(r,a),p[0]&4&&c!==(c=f[2]==="telegram")&&(i.disabled=c)},d(f){f&&(N(e),N(s),N(i)),u=!1,h()}}}function To(t){let e,s=t[3].message+"",i;return{c(){e=o("div"),i=O(s),n(e,"class","test-result svelte-3hzjxh"),ee(e,"success",t[3].success)},m(a,r){I(a,e,r),l(e,i)},p(a,r){r[0]&8&&s!==(s=a[3].message+"")&&W(i,s),r[0]&8&&ee(e,"success",a[3].success)},d(a){a&&N(e)}}}function fr(t){let e;return{c(){e=o("div"),e.textContent="Not configured",n(e,"class","notification-status svelte-3hzjxh")},m(s,i){I(s,e,i)},p:de,d(s){s&&N(e)}}}function dr(t){let e,s,i,a=t[2]==="slack"?"Sending...":"Send Test",r,c,u,h;return{c(){e=o("div"),e.innerHTML=`<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                  Configured`,s=d(),i=o("button"),r=O(a),n(e,"class","notification-status configured svelte-3hzjxh"),n(i,"class","test-btn svelte-3hzjxh"),i.disabled=c=t[2]==="slack"},m(f,p){I(f,e,p),I(f,s,p),I(f,i,p),l(i,r),u||(h=V(i,"click",t[29]),u=!0)},p(f,p){p[0]&4&&a!==(a=f[2]==="slack"?"Sending...":"Send Test")&&W(r,a),p[0]&4&&c!==(c=f[2]==="slack")&&(i.disabled=c)},d(f){f&&(N(e),N(s),N(i)),u=!1,h()}}}function Ho(t){let e,s=t[3].message+"",i;return{c(){e=o("div"),i=O(s),n(e,"class","test-result svelte-3hzjxh"),ee(e,"success",t[3].success)},m(a,r){I(a,e,r),l(e,i)},p(a,r){r[0]&8&&s!==(s=a[3].message+"")&&W(i,s),r[0]&8&&ee(e,"success",a[3].success)},d(a){a&&N(e)}}}function vr(t){let e;return{c(){e=o("div"),e.textContent="Not configured",n(e,"class","notification-status svelte-3hzjxh")},m(s,i){I(s,e,i)},p:de,d(s){s&&N(e)}}}function pr(t){let e,s,i,a=t[2]==="webhook"?"Sending...":"Send Test",r,c,u,h;return{c(){e=o("div"),e.innerHTML=`<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                  Configured`,s=d(),i=o("button"),r=O(a),n(e,"class","notification-status configured svelte-3hzjxh"),n(i,"class","test-btn svelte-3hzjxh"),i.disabled=c=t[2]==="webhook"},m(f,p){I(f,e,p),I(f,s,p),I(f,i,p),l(i,r),u||(h=V(i,"click",t[30]),u=!0)},p(f,p){p[0]&4&&a!==(a=f[2]==="webhook"?"Sending...":"Send Test")&&W(r,a),p[0]&4&&c!==(c=f[2]==="webhook")&&(i.disabled=c)},d(f){f&&(N(e),N(s),N(i)),u=!1,h()}}}function Ro(t){let e,s=t[3].message+"",i;return{c(){e=o("div"),i=O(s),n(e,"class","test-result svelte-3hzjxh"),ee(e,"success",t[3].success)},m(a,r){I(a,e,r),l(e,i)},p(a,r){r[0]&8&&s!==(s=a[3].message+"")&&W(i,s),r[0]&8&&ee(e,"success",a[3].success)},d(a){a&&N(e)}}}function Bo(t){let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k,w=fe(t[11]),y=[];for(let b=0;b<w.length;b+=1)y[b]=qo(vo(t,w,b));return{c(){e=o("section"),s=o("div"),s.innerHTML='<h3 class="svelte-3hzjxh">Keyboard Shortcuts</h3> <p class="svelte-3hzjxh">Quick access keys for common actions</p>',i=d(),a=o("div"),r=o("div"),c=o("div"),c.innerHTML='<span class="setting-label svelte-3hzjxh">Enable Keyboard Shortcuts</span> <span class="setting-hint svelte-3hzjxh">Use keyboard shortcuts globally</span>',u=d(),h=o("label"),f=o("input"),p=d(),m=o("span"),g=d(),v=o("div");for(let b=0;b<y.length;b+=1)y[b].c();n(s,"class","section-header svelte-3hzjxh"),n(c,"class","setting-info svelte-3hzjxh"),n(f,"type","checkbox"),n(f,"class","svelte-3hzjxh"),n(m,"class","toggle-slider svelte-3hzjxh"),n(h,"class","toggle svelte-3hzjxh"),n(r,"class","setting-item svelte-3hzjxh"),n(a,"class","settings-group svelte-3hzjxh"),n(v,"class","shortcuts-list svelte-3hzjxh"),n(e,"class","settings-section svelte-3hzjxh")},m(b,T){I(b,e,T),l(e,s),l(e,i),l(e,a),l(a,r),l(r,c),l(r,u),l(r,h),l(h,f),f.checked=t[0].keyboardShortcuts,l(h,p),l(h,m),l(e,g),l(e,v);for(let z=0;z<y.length;z+=1)y[z]&&y[z].m(v,null);_||(k=[V(f,"change",t[32]),V(f,"change",t[12])],_=!0)},p(b,T){if(T[0]&129&&(f.checked=b[0].keyboardShortcuts),T[0]&2048){w=fe(b[11]);let z;for(z=0;z<w.length;z+=1){const q=vo(b,w,z);y[z]?y[z].p(q,T):(y[z]=qo(q),y[z].c(),y[z].m(v,null))}for(;z<y.length;z+=1)y[z].d(1);y.length=w.length}},d(b){b&&N(e),Le(y,b),_=!1,je(k)}}}function qo(t){let e,s,i,a,r;return{c(){e=o("div"),s=o("kbd"),s.textContent=`${t[36].key}`,i=d(),a=o("span"),a.textContent=`${t[36].action}`,r=d(),n(s,"class","shortcut-key svelte-3hzjxh"),n(a,"class","shortcut-action svelte-3hzjxh"),n(e,"class","shortcut-item svelte-3hzjxh")},m(c,u){I(c,e,u),l(e,s),l(e,i),l(e,a),l(e,r)},p:de,d(c){c&&N(e)}}}function Ao(t){let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k,w,y,b,T,z,q,S,L,H,B,E,j,A,R,C,D,M,F,U,P,J,G,X,Z,Q,Y,x,ae,ce,K,ne,$,_e,ye,ue,ve,pe,le,ie,te,oe,ge;return{c(){e=o("section"),s=o("div"),s.innerHTML='<h3 class="svelte-3hzjxh">Data Management</h3> <p class="svelte-3hzjxh">Manage your application data and settings</p>',i=d(),a=o("div"),r=o("div"),c=o("div"),c.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"></path></svg>',u=d(),h=o("div"),f=o("h4"),f.textContent="Export Settings",p=d(),m=o("p"),m.textContent="Download all settings and preferences as JSON",g=d(),v=o("button"),v.textContent="Export",_=d(),k=o("div"),w=o("div"),w.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"></path></svg>',y=d(),b=o("div"),T=o("h4"),T.textContent="Import Settings",z=d(),q=o("p"),q.textContent="Restore settings from a backup file",S=d(),L=o("label"),H=O(`Import
                `),B=o("input"),E=d(),j=o("div"),A=o("div"),A.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path></svg>',R=d(),C=o("div"),D=o("h4"),D.textContent="Clear Cache",M=d(),F=o("p"),F.textContent="Remove temporary data and search history",U=d(),P=o("button"),P.textContent="Clear Cache",J=d(),G=o("div"),X=o("div"),X.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',Z=d(),Q=o("div"),Y=o("h4"),Y.textContent="Reset to Defaults",x=d(),ae=o("p"),ae.textContent="Restore all settings to factory defaults",ce=d(),K=o("button"),K.textContent="Reset",ne=d(),$=o("div"),_e=o("div"),_e.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6M10 11v6M14 11v6"></path></svg>',ye=d(),ue=o("div"),ve=o("h4"),ve.textContent="Clear All Data",pe=d(),le=o("p"),le.textContent="Delete all local data permanently",ie=d(),te=o("button"),te.textContent="Delete All",n(s,"class","section-header svelte-3hzjxh"),n(c,"class","data-icon svelte-3hzjxh"),n(f,"class","svelte-3hzjxh"),n(m,"class","svelte-3hzjxh"),n(v,"class","data-btn svelte-3hzjxh"),n(h,"class","data-content svelte-3hzjxh"),n(r,"class","data-card svelte-3hzjxh"),n(w,"class","data-icon svelte-3hzjxh"),n(T,"class","svelte-3hzjxh"),n(q,"class","svelte-3hzjxh"),n(B,"type","file"),n(B,"accept",".json"),B.hidden=!0,n(L,"class","data-btn svelte-3hzjxh"),n(b,"class","data-content svelte-3hzjxh"),n(k,"class","data-card svelte-3hzjxh"),n(A,"class","data-icon warning svelte-3hzjxh"),n(D,"class","svelte-3hzjxh"),n(F,"class","svelte-3hzjxh"),n(P,"class","data-btn warning svelte-3hzjxh"),n(C,"class","data-content svelte-3hzjxh"),n(j,"class","data-card svelte-3hzjxh"),n(X,"class","data-icon danger svelte-3hzjxh"),n(Y,"class","svelte-3hzjxh"),n(ae,"class","svelte-3hzjxh"),n(K,"class","data-btn danger svelte-3hzjxh"),n(Q,"class","data-content svelte-3hzjxh"),n(G,"class","data-card svelte-3hzjxh"),n(_e,"class","data-icon danger svelte-3hzjxh"),n(ve,"class","svelte-3hzjxh"),n(le,"class","svelte-3hzjxh"),n(te,"class","data-btn danger svelte-3hzjxh"),n(ue,"class","data-content svelte-3hzjxh"),n($,"class","data-card svelte-3hzjxh"),n(a,"class","data-actions svelte-3hzjxh"),n(e,"class","settings-section svelte-3hzjxh")},m(ke,Re){I(ke,e,Re),l(e,s),l(e,i),l(e,a),l(a,r),l(r,c),l(r,u),l(r,h),l(h,f),l(h,p),l(h,m),l(h,g),l(h,v),l(a,_),l(a,k),l(k,w),l(k,y),l(k,b),l(b,T),l(b,z),l(b,q),l(b,S),l(b,L),l(L,H),l(L,B),l(a,E),l(a,j),l(j,A),l(j,R),l(j,C),l(C,D),l(C,M),l(C,F),l(C,U),l(C,P),l(a,J),l(a,G),l(G,X),l(G,Z),l(G,Q),l(Q,Y),l(Q,x),l(Q,ae),l(Q,ce),l(Q,K),l(a,ne),l(a,$),l($,_e),l($,ye),l($,ue),l(ue,ve),l(ue,pe),l(ue,le),l(ue,ie),l(ue,te),oe||(ge=[V(v,"click",t[14]),V(B,"change",t[15]),V(P,"click",_r),V(K,"click",br),V(te,"click",mr)],oe=!0)},p:de,d(ke){ke&&N(e),oe=!1,je(ge)}}}function Eo(t){let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k,w,y=t[5]&&Oo(t);return{c(){e=o("section"),s=o("div"),s.innerHTML='<h3 class="svelte-3hzjxh">About Purl</h3> <p class="svelte-3hzjxh">Log aggregation and analysis platform</p>',i=d(),a=o("div"),r=o("div"),r.innerHTML='<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"></path><path d="M14 2v6h6M16 13H8M16 17H8M10 9H8"></path></svg>',c=d(),u=o("h2"),u.textContent="Purl",h=d(),f=o("p"),f.textContent="Fast, Modern Log Aggregation",p=d(),m=o("div"),m.textContent="Version 1.0.0",g=d(),v=o("div"),v.innerHTML='<span class="tech-badge svelte-3hzjxh">Perl</span> <span class="tech-badge svelte-3hzjxh">ClickHouse</span> <span class="tech-badge svelte-3hzjxh">Svelte</span> <span class="tech-badge svelte-3hzjxh">Vector</span>',_=d(),y&&y.c(),k=d(),w=o("div"),w.innerHTML=`<a href="https://github.com" target="_blank" rel="noopener" class="svelte-3hzjxh"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>
              GitHub</a> <a href="/api/metrics" target="_blank" rel="noopener" class="svelte-3hzjxh"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3v18h18"></path><path d="M18 9l-5-6-4 8-3-2"></path></svg>
              Metrics</a>`,n(s,"class","section-header svelte-3hzjxh"),n(r,"class","about-logo svelte-3hzjxh"),n(u,"class","svelte-3hzjxh"),n(f,"class","about-tagline svelte-3hzjxh"),n(m,"class","about-version svelte-3hzjxh"),n(v,"class","about-tech svelte-3hzjxh"),n(w,"class","about-links svelte-3hzjxh"),n(a,"class","about-content svelte-3hzjxh"),n(e,"class","settings-section svelte-3hzjxh")},m(b,T){I(b,e,T),l(e,s),l(e,i),l(e,a),l(a,r),l(a,c),l(a,u),l(a,h),l(a,f),l(a,p),l(a,m),l(a,g),l(a,v),l(a,_),y&&y.m(a,null),l(a,k),l(a,w)},p(b,T){b[5]?y?y.p(b,T):(y=Oo(b),y.c(),y.m(a,k)):y&&(y.d(1),y=null)},d(b){b&&N(e),y&&y.d()}}}function Oo(t){let e,s,i,a,r,c=t[5].status+"",u,h,f,p,m,g,v=t[5].clickhouse+"",_,k,w,y,b,T,z=Math.floor(t[5].uptime_secs/60)+"",q,S;return{c(){e=o("div"),s=o("div"),i=o("span"),i.textContent="Status",a=d(),r=o("span"),u=O(c),h=d(),f=o("div"),p=o("span"),p.textContent="ClickHouse",m=d(),g=o("span"),_=O(v),k=d(),w=o("div"),y=o("span"),y.textContent="Uptime",b=d(),T=o("span"),q=O(z),S=O(" min"),n(i,"class","svelte-3hzjxh"),n(r,"class","status-badge svelte-3hzjxh"),ee(r,"healthy",t[5].status==="ok"),n(s,"class","info-row svelte-3hzjxh"),n(p,"class","svelte-3hzjxh"),n(g,"class","svelte-3hzjxh"),n(f,"class","info-row svelte-3hzjxh"),n(y,"class","svelte-3hzjxh"),n(T,"class","svelte-3hzjxh"),n(w,"class","info-row svelte-3hzjxh"),n(e,"class","system-info svelte-3hzjxh")},m(L,H){I(L,e,H),l(e,s),l(s,i),l(s,a),l(s,r),l(r,u),l(e,h),l(e,f),l(f,p),l(f,m),l(f,g),l(g,_),l(e,k),l(e,w),l(w,y),l(w,b),l(w,T),l(T,q),l(T,S)},p(L,H){H[0]&32&&c!==(c=L[5].status+"")&&W(u,c),H[0]&32&&ee(r,"healthy",L[5].status==="ok"),H[0]&32&&v!==(v=L[5].clickhouse+"")&&W(_,v),H[0]&32&&z!==(z=Math.floor(L[5].uptime_secs/60)+"")&&W(q,z)},d(L){L&&N(e)}}}function gr(t){let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k=t[4]&&ko(),w=fe(t[6]),y=[];for(let H=0;H<w.length;H+=1)y[H]=wo(bo(t,w,H));let b=t[1]==="display"&&yo(t),T=t[1]==="logs"&&jo(t),z=t[1]==="notifications"&&Lo(t),q=t[1]==="keyboard"&&Bo(t),S=t[1]==="data"&&Ao(t),L=t[1]==="about"&&Eo(t);return{c(){e=o("div"),s=o("aside"),i=o("div"),a=o("h2"),a.textContent="Settings",r=d(),k&&k.c(),c=d(),u=o("nav");for(let H=0;H<y.length;H+=1)y[H].c();h=d(),f=o("main"),b&&b.c(),p=d(),T&&T.c(),m=d(),z&&z.c(),g=d(),q&&q.c(),v=d(),S&&S.c(),_=d(),L&&L.c(),n(a,"class","svelte-3hzjxh"),n(i,"class","sidebar-header svelte-3hzjxh"),n(u,"class","sidebar-nav svelte-3hzjxh"),n(s,"class","settings-sidebar svelte-3hzjxh"),n(f,"class","settings-content svelte-3hzjxh"),n(e,"class","settings-page svelte-3hzjxh")},m(H,B){I(H,e,B),l(e,s),l(s,i),l(i,a),l(i,r),k&&k.m(i,null),l(s,c),l(s,u);for(let E=0;E<y.length;E+=1)y[E]&&y[E].m(u,null);l(e,h),l(e,f),b&&b.m(f,null),l(f,p),T&&T.m(f,null),l(f,m),z&&z.m(f,null),l(f,g),q&&q.m(f,null),l(f,v),S&&S.m(f,null),l(f,_),L&&L.m(f,null)},p(H,B){if(H[4]?k||(k=ko(),k.c(),k.m(i,null)):k&&(k.d(1),k=null),B[0]&66){w=fe(H[6]);let E;for(E=0;E<w.length;E+=1){const j=bo(H,w,E);y[E]?y[E].p(j,B):(y[E]=wo(j),y[E].c(),y[E].m(u,null))}for(;E<y.length;E+=1)y[E].d(1);y.length=w.length}H[1]==="display"?b?b.p(H,B):(b=yo(H),b.c(),b.m(f,p)):b&&(b.d(1),b=null),H[1]==="logs"?T?T.p(H,B):(T=jo(H),T.c(),T.m(f,m)):T&&(T.d(1),T=null),H[1]==="notifications"?z?z.p(H,B):(z=Lo(H),z.c(),z.m(f,g)):z&&(z.d(1),z=null),H[1]==="keyboard"?q?q.p(H,B):(q=Bo(H),q.c(),q.m(f,v)):q&&(q.d(1),q=null),H[1]==="data"?S?S.p(H,B):(S=Ao(H),S.c(),S.m(f,_)):S&&(S.d(1),S=null),H[1]==="about"?L?L.p(H,B):(L=Eo(H),L.c(),L.m(f,null)):L&&(L.d(1),L=null)},i:de,o:de,d(H){H&&N(e),k&&k.d(),Le(y,H),b&&b.d(),T&&T.d(),z&&z.d(),q&&q.d(),S&&S.d(),L&&L.d()}}}const Kl="/api";function _r(){confirm("Clear application cache? This will reset temporary data.")&&(fetch(`${Kl}/cache`,{method:"DELETE"}),localStorage.removeItem("purl_search_history"),alert("Cache cleared successfully"))}function mr(){confirm("Clear ALL local data? This includes settings, saved searches, and preferences.")&&(localStorage.clear(),window.location.reload())}function br(){confirm("Reset all settings to defaults?")&&(localStorage.removeItem("purl_settings"),window.location.reload())}function kr(t,e,s){let i={theme:"dark",refreshInterval:30,defaultTimeRange:"15m",maxResults:500,showHost:!0,showRaw:!1,compactMode:!1,lineWrap:!0,timestampFormat:"relative",logLevel:"all",fontSize:"medium",highlightErrors:!0,autoScroll:!0,soundAlerts:!1,keyboardShortcuts:!0,notifications:{telegram:{configured:!1},slack:{configured:!1},webhook:{configured:!1}}},a="display",r=null,c=null,u=!1,h=null;const f=[{id:"display",label:"Display",icon:"monitor"},{id:"logs",label:"Log Viewer",icon:"file-text"},{id:"notifications",label:"Notifications",icon:"bell"},{id:"keyboard",label:"Shortcuts",icon:"keyboard"},{id:"data",label:"Data",icon:"database"},{id:"about",label:"About",icon:"info"}],p=[{value:"5m",label:"5 minutes"},{value:"15m",label:"15 minutes"},{value:"30m",label:"30 minutes"},{value:"1h",label:"1 hour"},{value:"4h",label:"4 hours"},{value:"12h",label:"12 hours"},{value:"24h",label:"24 hours"},{value:"7d",label:"7 days"}],m=[{value:0,label:"Off"},{value:5,label:"5 seconds"},{value:10,label:"10 seconds"},{value:30,label:"30 seconds"},{value:60,label:"1 minute"},{value:300,label:"5 minutes"}],g=[{value:"small",label:"Small (12px)"},{value:"medium",label:"Medium (13px)"},{value:"large",label:"Large (14px)"}],v=[{value:"relative",label:"Relative (2 min ago)"},{value:"absolute",label:"Absolute (10:30:45)"},{value:"iso",label:"ISO (2025-12-10T10:30:45Z)"}],_=[{key:"/",action:"Focus search bar"},{key:"Esc",action:"Clear search / Close modal"},{key:"R",action:"Refresh logs"},{key:"J / K",action:"Navigate up/down"},{key:"Enter",action:"Expand selected log"},{key:"C",action:"Copy selected log"},{key:"1-5",action:"Switch time range"},{key:"?",action:"Show shortcuts help"}];at(()=>{k(),y(),b()});function k(){const Z=localStorage.getItem("purl_settings");if(Z)try{const Q=JSON.parse(Z);s(0,i={...i,...Q})}catch{}}function w(){localStorage.setItem("purl_settings",JSON.stringify(i)),s(4,u=!0),setTimeout(()=>s(4,u=!1),2e3),window.dispatchEvent(new CustomEvent("settings-changed",{detail:i}))}async function y(){var Z,Q,Y;try{const x=await fetch(`${Kl}/analytics/notifiers`);if(x.ok){const ae=await x.json();s(0,i.notifications.telegram.configured=!!((Z=ae.notifiers)!=null&&Z.telegram),i),s(0,i.notifications.slack.configured=!!((Q=ae.notifiers)!=null&&Q.slack),i),s(0,i.notifications.webhook.configured=!!((Y=ae.notifiers)!=null&&Y.webhook),i)}}catch{}}async function b(){try{const Z=await fetch(`${Kl}/health`);Z.ok&&s(5,h=await Z.json())}catch{}}async function T(Z){s(2,r=Z),s(3,c=null);try{const Y=await(await fetch(`${Kl}/alerts/test-notification?type=${Z}`,{method:"POST"})).json();s(3,c={type:Z,success:Y.success,message:Y.success?"Test sent successfully!":Y.error||"Failed to send"})}catch(Q){s(3,c={type:Z,success:!1,message:Q.message})}finally{s(2,r=null)}}function z(){const Z={settings:i,columnConfig:localStorage.getItem("purl_column_config"),savedSearches:localStorage.getItem("purl_saved_searches"),searchHistory:localStorage.getItem("purl_search_history"),exportDate:new Date().toISOString(),version:"1.0.0"},Q=new Blob([JSON.stringify(Z,null,2)],{type:"application/json"}),Y=URL.createObjectURL(Q),x=document.createElement("a");x.href=Y,x.download=`purl-settings-${new Date().toISOString().split("T")[0]}.json`,x.click(),URL.revokeObjectURL(Y)}function q(Z){var x;const Q=(x=Z.target.files)==null?void 0:x[0];if(!Q)return;const Y=new FileReader;Y.onload=ae=>{var ce;try{const K=JSON.parse((ce=ae.target)==null?void 0:ce.result);K.settings&&(s(0,i={...i,...K.settings}),w()),K.columnConfig&&localStorage.setItem("purl_column_config",K.columnConfig),K.savedSearches&&localStorage.setItem("purl_saved_searches",K.savedSearches),K.searchHistory&&localStorage.setItem("purl_search_history",K.searchHistory),alert("Settings imported successfully!")}catch{alert("Failed to import: Invalid file format")}},Y.readAsText(Q),Z.target.value=""}const S=Z=>s(1,a=Z.id);function L(){i.defaultTimeRange=it(this),s(0,i),s(7,p)}function H(){i.refreshInterval=it(this),s(0,i),s(7,p)}function B(){i.maxResults=it(this),s(0,i),s(7,p)}function E(){i.fontSize=it(this),s(0,i),s(7,p)}function j(){i.compactMode=this.checked,s(0,i),s(7,p)}function A(){i.timestampFormat=it(this),s(0,i),s(7,p)}function R(){i.showHost=this.checked,s(0,i),s(7,p)}function C(){i.showRaw=this.checked,s(0,i),s(7,p)}function D(){i.lineWrap=this.checked,s(0,i),s(7,p)}function M(){i.highlightErrors=this.checked,s(0,i),s(7,p)}function F(){i.autoScroll=this.checked,s(0,i),s(7,p)}const U=()=>T("telegram"),P=()=>T("slack"),J=()=>T("webhook");function G(){i.soundAlerts=this.checked,s(0,i),s(7,p)}function X(){i.keyboardShortcuts=this.checked,s(0,i),s(7,p)}return[i,a,r,c,u,h,f,p,m,g,v,_,w,T,z,q,S,L,H,B,E,j,A,R,C,D,M,F,U,P,J,G,X]}class wr extends Ye{constructor(e){super(),Ge(this,e,kr,gr,We,{},null,[-1,-1])}}function No(t){let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k,w,y,b,T,z,q,S,L,H,B,E,j;function A(J){t[21](J)}let R={};t[5]!==void 0&&(R.value=t[5]),e=new _c({props:R}),ut.push(()=>nc(e,"value",A)),e.$on("search",t[10]),r=new kc({props:{value:t[4]}}),r.$on("change",t[11]);function C(J,G){return J[0]?zr:yr}let D=C(t),M=D(t);function F(J,G){return J[6]?Mr:Cr}let U=F(t),P=U(t);return{c(){$e(e.$$.fragment),i=d(),a=o("div"),$e(r.$$.fragment),c=d(),u=o("button"),M.c(),f=d(),p=o("button"),p.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" class="svelte-ni03f9"><path fill="currentColor" d="M11 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2ZM7 10a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm3-6H4V2h6v2Z"></path></svg>',m=d(),g=o("div"),v=o("button"),_=se("svg"),k=se("path"),w=O(`
            Export`),b=d(),T=o("div"),z=o("button"),z.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-ni03f9"><path fill="currentColor" d="M2 1h8a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1Zm1 3h6v1H3V4Zm0 2h6v1H3V6Zm0 2h4v1H3V8Z"></path></svg>
              Export as CSV`,q=d(),S=o("button"),S.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-ni03f9"><path fill="currentColor" d="M3 2a1 1 0 0 0-1 1v2a1 1 0 0 1-1 1 1 1 0 0 1 1 1v2a1 1 0 0 0 1 1M9 2a1 1 0 0 1 1 1v2a1 1 0 0 0 1 1 1 1 0 0 0-1 1v2a1 1 0 0 1-1 1"></path></svg>
              Export as JSON`,L=d(),H=o("button"),P.c(),n(u,"class","btn svelte-ni03f9"),n(u,"title",h=t[0]?"Stop live tail":"Start live tail"),ee(u,"active",t[0]),n(p,"class","btn svelte-ni03f9"),n(p,"title","Save current search"),n(k,"d","M7 1v8M3 5l4 4 4-4M2 11v1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1"),n(k,"stroke","currentColor"),n(k,"stroke-width","1.5"),n(k,"fill","none"),n(k,"stroke-linecap","round"),n(k,"stroke-linejoin","round"),n(_,"width","14"),n(_,"height","14"),n(_,"viewBox","0 0 14 14"),n(_,"class","svelte-ni03f9"),n(v,"class","btn svelte-ni03f9"),n(v,"title","Export logs"),v.disabled=y=t[3].length===0,n(z,"class","svelte-ni03f9"),n(S,"class","svelte-ni03f9"),n(T,"class","export-menu svelte-ni03f9"),n(g,"class","export-dropdown svelte-ni03f9"),n(H,"class","btn svelte-ni03f9"),H.disabled=t[6],n(a,"class","header-actions svelte-ni03f9")},m(J,G){Ke(e,J,G),I(J,i,G),I(J,a,G),Ke(r,a,null),l(a,c),l(a,u),M.m(u,null),l(a,f),l(a,p),l(a,m),l(a,g),l(g,v),l(v,_),l(_,k),l(v,w),l(g,b),l(g,T),l(T,z),l(T,q),l(T,S),l(a,L),l(a,H),P.m(H,null),B=!0,E||(j=[V(u,"click",t[9]),V(p,"click",t[14]),V(z,"click",t[15]),V(S,"click",t[16]),V(H,"click",t[10])],E=!0)},p(J,G){const X={};!s&&G&32&&(s=!0,X.value=J[5],xo(()=>s=!1)),e.$set(X);const Z={};G&16&&(Z.value=J[4]),r.$set(Z),D!==(D=C(J))&&(M.d(1),M=D(J),M&&(M.c(),M.m(u,null))),(!B||G&1&&h!==(h=J[0]?"Stop live tail":"Start live tail"))&&n(u,"title",h),(!B||G&1)&&ee(u,"active",J[0]),(!B||G&8&&y!==(y=J[3].length===0))&&(v.disabled=y),U!==(U=F(J))&&(P.d(1),P=U(J),P&&(P.c(),P.m(H,null))),(!B||G&64)&&(H.disabled=J[6])},i(J){B||(Ae(e.$$.fragment,J),Ae(r.$$.fragment,J),B=!0)},o(J){Ne(e.$$.fragment,J),Ne(r.$$.fragment,J),B=!1},d(J){J&&(N(i),N(a)),Xe(e,J),Xe(r),M.d(),P.d(),E=!1,je(j)}}}function yr(t){let e;return{c(){e=O("Live Tail")},m(s,i){I(s,e,i)},d(s){s&&N(e)}}}function zr(t){let e,s;return{c(){e=o("span"),s=O(" Live"),n(e,"class","live-dot svelte-ni03f9")},m(i,a){I(i,e,a),I(i,s,a)},d(i){i&&(N(e),N(s))}}}function Cr(t){let e;return{c(){e=O("Refresh")},m(s,i){I(s,e,i)},d(s){s&&N(e)}}}function Mr(t){let e;return{c(){e=o("span"),n(e,"class","spinner svelte-ni03f9")},m(s,i){I(s,e,i)},d(s){s&&N(e)}}}function jr(t){let e,s;return e=new wr({}),{c(){$e(e.$$.fragment)},m(i,a){Ke(e,i,a),s=!0},p:de,i(i){s||(Ae(e.$$.fragment,i),s=!0)},o(i){Ne(e.$$.fragment,i),s=!1},d(i){Xe(e,i)}}}function Sr(t){let e,s;return e=new sr({}),{c(){$e(e.$$.fragment)},m(i,a){Ke(e,i,a),s=!0},p:de,i(i){s||(Ae(e.$$.fragment,i),s=!0)},o(i){Ne(e.$$.fragment,i),s=!1},d(i){Xe(e,i)}}}function Lr(t){let e,s,i=t[7].toLocaleString()+"",a,r,c,u,h,f,p,m,g,v,_,k,w,y,b,T,z,q,S,L,H,B,E,j=t[5]&&Io(t);w=new zc({}),w.$on("filter",t[12]);let A={};return b=new Nc({props:A}),t[22](b),b.$on("apply",t[13]),z=new Jc({}),L=new Bc({}),B=new Lc({props:{logs:t[3]}}),{c(){e=o("div"),s=o("span"),a=O(i),r=O(" logs"),c=d(),u=o("span"),u.textContent="|",h=d(),f=o("span"),p=O("Time range: "),m=O(t[4]),g=d(),j&&j.c(),v=d(),_=o("div"),k=o("aside"),$e(w.$$.fragment),y=d(),$e(b.$$.fragment),T=d(),$e(z.$$.fragment),q=d(),S=o("div"),$e(L.$$.fragment),H=d(),$e(B.$$.fragment),n(u,"class","separator svelte-ni03f9"),n(e,"class","stats-bar svelte-ni03f9"),n(k,"class","sidebar svelte-ni03f9"),n(S,"class","main-content svelte-ni03f9"),n(_,"class","container svelte-ni03f9")},m(R,C){I(R,e,C),l(e,s),l(s,a),l(s,r),l(e,c),l(e,u),l(e,h),l(e,f),l(f,p),l(f,m),l(e,g),j&&j.m(e,null),I(R,v,C),I(R,_,C),l(_,k),Ke(w,k,null),l(k,y),Ke(b,k,null),l(k,T),Ke(z,k,null),l(_,q),l(_,S),Ke(L,S,null),l(S,H),Ke(B,S,null),E=!0},p(R,C){(!E||C&128)&&i!==(i=R[7].toLocaleString()+"")&&W(a,i),(!E||C&16)&&W(m,R[4]),R[5]?j?j.p(R,C):(j=Io(R),j.c(),j.m(e,null)):j&&(j.d(1),j=null);const D={};b.$set(D);const M={};C&8&&(M.logs=R[3]),B.$set(M)},i(R){E||(Ae(w.$$.fragment,R),Ae(b.$$.fragment,R),Ae(z.$$.fragment,R),Ae(L.$$.fragment,R),Ae(B.$$.fragment,R),E=!0)},o(R){Ne(w.$$.fragment,R),Ne(b.$$.fragment,R),Ne(z.$$.fragment,R),Ne(L.$$.fragment,R),Ne(B.$$.fragment,R),E=!1},d(R){R&&(N(e),N(v),N(_)),j&&j.d(),Xe(w),t[22](null),Xe(b),Xe(z),Xe(L),Xe(B)}}}function Io(t){let e,s,i,a,r,c;return{c(){e=o("span"),e.textContent="|",s=d(),i=o("span"),a=O("Query: "),r=o("code"),c=O(t[5]),n(e,"class","separator svelte-ni03f9"),n(r,"class","svelte-ni03f9")},m(u,h){I(u,e,h),I(u,s,h),I(u,i,h),l(i,a),l(i,r),l(r,c)},p(u,h){h&32&&W(c,u[5])},d(u){u&&(N(e),N(s),N(i))}}}function Tr(t){let e,s,i,a,r,c,u,h,f,p,m,g,v,_,k,w,y,b=t[2]==="logs"&&No(t);const T=[Lr,Sr,jr],z=[];function q(S,L){return S[2]==="logs"?0:S[2]==="analytics"?1:S[2]==="settings"?2:-1}return~(v=q(t))&&(_=z[v]=T[v](t)),{c(){e=o("main"),s=o("header"),i=o("button"),i.innerHTML='<svg width="32" height="32" viewBox="0 0 32 32" class="svelte-ni03f9"><circle cx="16" cy="16" r="14" fill="none" stroke="currentColor" stroke-width="2"></circle><path d="M10 12 L22 12 M10 16 L22 16 M10 20 L18 20" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg> <span>Purl</span>',a=d(),r=o("nav"),c=o("button"),c.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-ni03f9"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"></path><path d="M14 2v6h6M16 13H8M16 17H8M10 9H8"></path></svg>
        Logs`,u=d(),h=o("button"),h.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-ni03f9"><path d="M3 3v18h18"></path><path d="M18 9l-5-6-4 8-3-2"></path></svg>
        Analytics`,f=d(),p=o("button"),p.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-ni03f9"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"></path></svg>
        Settings`,m=d(),b&&b.c(),g=d(),_&&_.c(),n(i,"class","logo svelte-ni03f9"),n(c,"class","svelte-ni03f9"),ee(c,"active",t[2]==="logs"),n(h,"class","svelte-ni03f9"),ee(h,"active",t[2]==="analytics"),n(p,"class","svelte-ni03f9"),ee(p,"active",t[2]==="settings"),n(r,"class","nav-tabs svelte-ni03f9"),n(s,"class","svelte-ni03f9"),n(e,"class","svelte-ni03f9")},m(S,L){I(S,e,L),l(e,s),l(s,i),l(s,a),l(s,r),l(r,c),l(r,u),l(r,h),l(r,f),l(r,p),l(s,m),b&&b.m(s,null),l(e,g),~v&&z[v].m(e,null),k=!0,w||(y=[V(i,"click",t[17]),V(c,"click",t[18]),V(h,"click",t[19]),V(p,"click",t[20])],w=!0)},p(S,[L]){(!k||L&4)&&ee(c,"active",S[2]==="logs"),(!k||L&4)&&ee(h,"active",S[2]==="analytics"),(!k||L&4)&&ee(p,"active",S[2]==="settings"),S[2]==="logs"?b?(b.p(S,L),L&4&&Ae(b,1)):(b=No(S),b.c(),Ae(b,1),b.m(s,null)):b&&(Ni(),Ne(b,1,1,()=>{b=null}),Ii());let H=v;v=q(S),v===H?~v&&z[v].p(S,L):(_&&(Ni(),Ne(z[H],1,1,()=>{z[H]=null}),Ii()),~v?(_=z[v],_?_.p(S,L):(_=z[v]=T[v](S),_.c()),Ae(_,1),_.m(e,null)):_=null)},i(S){k||(Ae(b),Ae(_),k=!0)},o(S){Ne(b),Ne(_),k=!1},d(S){S&&N(e),b&&b.d(),~v&&z[v].d(),w=!1,je(y)}}}function Do(t,e){const s=URL.createObjectURL(t),i=document.createElement("a");i.href=s,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}function Hr(t,e,s){let i,a,r,c,u;Oe(t,js,A=>s(3,i=A)),Oe(t,ht,A=>s(4,a=A)),Oe(t,Jt,A=>s(5,r=A)),Oe(t,zs,A=>s(6,c=A)),Oe(t,Ss,A=>s(7,u=A));let h,f=!1,p,m="logs";at(async()=>(g(),window.addEventListener("hashchange",g),m==="logs"&&await Ut(),()=>window.removeEventListener("hashchange",g)));function g(){const A=window.location.hash.slice(1)||"logs";["logs","analytics","settings"].includes(A)&&s(2,m=A)}function v(A){s(2,m=A),window.location.hash=A}function _(){s(0,f=!f),f?h=hc():h&&(h.close(),h=null)}function k(){Ut()}function w(A){Ul(ht,a=A.detail,a),Ut()}function y(A){const{value:R}=A.detail;Ul(Jt,r=R,r),Ut()}function b(A){const{query:R,timeRange:C}=A.detail;Ul(Jt,r=R,r),Ul(ht,a=C,a),Ut()}function T(){p==null||p.openSaveModal(r,a)}function z(){if(i.length===0)return;const A=["timestamp","level","service","host","message"],R=[A.join(",")];for(const D of i){const M=A.map(F=>{const U=D[F]||"",P=String(U).replace(/"/g,'""');return/[,\n"]/.test(P)?`"${P}"`:P});R.push(M.join(","))}const C=new Blob([R.join(`
`)],{type:"text/csv;charset=utf-8;"});Do(C,`purl-logs-${Date.now()}.csv`)}function q(){if(i.length===0)return;const A=i.map(C=>({timestamp:C.timestamp,level:C.level,service:C.service,host:C.host,message:C.message,meta:C.meta||{}})),R=new Blob([JSON.stringify(A,null,2)],{type:"application/json"});Do(R,`purl-logs-${Date.now()}.json`)}const S=()=>v("logs"),L=()=>v("logs"),H=()=>v("analytics"),B=()=>v("settings");function E(A){r=A,Jt.set(r)}function j(A){ut[A?"unshift":"push"](()=>{p=A,s(1,p)})}return[f,p,m,i,a,r,c,u,v,_,k,w,y,b,T,z,q,S,L,H,B,E,j]}class Rr extends Ye{constructor(e){super(),Ge(this,e,Hr,Tr,We,{})}}new Rr({target:document.getElementById("app")});
