var tn=Object.defineProperty;var ln=(t,e,l)=>e in t?tn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var pt=(t,e,l)=>ln(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=l(o);fetch(o.href,r)}})();function oe(){}function Kl(t){return t()}function Bt(){return Object.create(null)}function _e(t){t.forEach(Kl)}function Gl(t){return typeof t=="function"}function Ee(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function nn(t){return Object.keys(t).length===0}function sn(t,...e){if(t==null){for(const n of e)n(void 0);return oe}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function ke(t,e,l){t.$$.on_destroy.push(sn(e,l))}function rt(t,e,l){return t.set(l),e}function s(t,e){t.appendChild(e)}function O(t,e,l){t.insertBefore(e,l||null)}function N(t){t.parentNode&&t.parentNode.removeChild(t)}function Ce(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function d(t){return document.createElement(t)}function ne(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Z(t){return document.createTextNode(t)}function b(){return Z(" ")}function yt(){return Z("")}function W(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Ct(t){return function(e){return e.preventDefault(),t.call(this,e)}}function pe(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function a(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function ut(t){return t===""?null:+t}function on(t){return Array.from(t.childNodes)}function U(t,e){e=""+e,t.data!==e&&(t.data=e)}function ie(t,e){t.value=e??""}function $(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function ft(t,e,l){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e){o.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function Yl(t){const e=t.querySelector(":checked");return e&&e.__value}function ve(t,e,l){t.classList.toggle(e,!!l)}function an(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}let nt;function lt(t){nt=t}function St(){if(!nt)throw new Error("Function called outside component initialization");return nt}function Ye(t){St().$$.on_mount.push(t)}function rn(t){St().$$.on_destroy.push(t)}function it(){const t=St();return(e,l,{cancelable:n=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=an(e,l,{cancelable:n});return o.slice().forEach(i=>{i.call(t,r)}),!r.defaultPrevented}return!0}}function dt(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const Qe=[],Ve=[];let Ke=[];const bt=[],cn=Promise.resolve();let wt=!1;function un(){wt||(wt=!0,cn.then($l))}function st(t){Ke.push(t)}function fn(t){bt.push(t)}const vt=new Set;let Ue=0;function $l(){if(Ue!==0)return;const t=nt;do{try{for(;Ue<Qe.length;){const e=Qe[Ue];Ue++,lt(e),dn(e.$$)}}catch(e){throw Qe.length=0,Ue=0,e}for(lt(null),Qe.length=0,Ue=0;Ve.length;)Ve.pop()();for(let e=0;e<Ke.length;e+=1){const l=Ke[e];vt.has(l)||(vt.add(l),l())}Ke.length=0}while(Qe.length);for(;bt.length;)bt.pop()();wt=!1,vt.clear(),lt(t)}function dn(t){if(t.fragment!==null){t.update(),_e(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(st)}}function hn(t){const e=[],l=[];Ke.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),Ke=e}const ct=new Set;let pn;function He(t,e){t&&t.i&&(ct.delete(t),t.i(e))}function je(t,e,l,n){if(t&&t.o){if(ct.has(t))return;ct.add(t),pn.c.push(()=>{ct.delete(t)}),t.o(e)}}function ae(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function vn(t,e){t.d(1),e.delete(t.key)}function _n(t,e,l,n,o,r,i,f,c,u,g,_){let v=t.length,h=r.length,p=v;const w={};for(;p--;)w[t[p].key]=p;const y=[],S=new Map,k=new Map,z=[];for(p=h;p--;){const B=_(o,r,p),F=l(B);let A=i.get(F);A?z.push(()=>A.p(B,e)):(A=u(F,B),A.c()),S.set(F,y[p]=A),F in w&&k.set(F,Math.abs(p-w[F]))}const H=new Set,M=new Set;function q(B){He(B,1),B.m(f,g),i.set(B.key,B),g=B.first,h--}for(;v&&h;){const B=y[h-1],F=t[v-1],A=B.key,j=F.key;B===F?(g=B.first,v--,h--):S.has(j)?!i.has(A)||H.has(A)?q(B):M.has(j)?v--:k.get(A)>k.get(j)?(M.add(A),q(B)):(H.add(j),v--):(c(F,i),v--)}for(;v--;){const B=t[v];S.has(B.key)||c(B,i)}for(;h;)q(y[h-1]);return _e(z),y}function gn(t,e,l){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=l,l(t.$$.ctx[n]))}function We(t){t&&t.c()}function Be(t,e,l){const{fragment:n,after_update:o}=t.$$;n&&n.m(e,l),st(()=>{const r=t.$$.on_mount.map(Kl).filter(Gl);t.$$.on_destroy?t.$$.on_destroy.push(...r):_e(r),t.$$.on_mount=[]}),o.forEach(st)}function Ne(t,e){const l=t.$$;l.fragment!==null&&(hn(l.after_update),_e(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function mn(t,e){t.$$.dirty[0]===-1&&(Qe.push(t),un(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Oe(t,e,l,n,o,r,i=null,f=[-1]){const c=nt;lt(t);const u=t.$$={fragment:null,ctx:[],props:r,update:oe,not_equal:o,bound:Bt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Bt(),dirty:f,skip_bound:!1,root:e.target||c.$$.root};i&&i(u.root);let g=!1;if(u.ctx=l?l(t,e.props||{},(_,v,...h)=>{const p=h.length?h[0]:v;return u.ctx&&o(u.ctx[_],u.ctx[_]=p)&&(!u.skip_bound&&u.bound[_]&&u.bound[_](p),g&&mn(t,_)),v}):[],u.update(),g=!0,_e(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const _=on(e.target);u.fragment&&u.fragment.l(_),_.forEach(N)}else u.fragment&&u.fragment.c();e.intro&&He(t.$$.fragment),Be(t,e.target,e.anchor),$l()}lt(c)}class Ae{constructor(){pt(this,"$$");pt(this,"$$set")}$destroy(){Ne(this,1),this.$destroy=oe}$on(e,l){if(!Gl(l))return oe;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const o=n.indexOf(l);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!nn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const bn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bn);const Je=[];function Se(t,e=oe){let l;const n=new Set;function o(f){if(Ee(t,f)&&(t=f,l)){const c=!Je.length;for(const u of n)u[1](),Je.push(u,t);if(c){for(let u=0;u<Je.length;u+=2)Je[u][0](Je[u+1]);Je.length=0}}}function r(f){o(f(t))}function i(f,c=oe){const u=[f,c];return n.add(u),n.size===1&&(l=e(o,r)||oe),f(t),()=>{n.delete(u),n.size===0&&l&&(l(),l=null)}}return{set:o,update:r,subscribe:i}}const Lt=Se([]),kt=Se(!1),Nt=Se(null),tt=Se(""),Pe=Se("15m"),Mt=Se(0),zt=Se([]),Tt=Se([]),qt=Se([]),xl=Se([]),wn=Se(null),ht="/api";let _t=null;async function et(){_t&&(_t.cancelled=!0);const t={cancelled:!1};_t=t,kt.set(!0),Nt.set(null);try{let e,l;tt.subscribe(i=>e=i)(),Pe.subscribe(i=>l=i)();const n=new URLSearchParams({range:l,limit:500});e&&n.set("q",e);const o=await fetch(`${ht}/logs?${n}`);if(t.cancelled)return;const r=await o.json();Lt.set(r.hits||[]),Mt.set(r.total||0),Promise.all([gt("level"),gt("service"),gt("host"),kn(),yn()]).catch(console.error)}catch(e){t.cancelled||(Nt.set(e.message),console.error("Search error:",e))}finally{t.cancelled||kt.set(!1)}}async function gt(t){try{let e;Pe.subscribe(r=>e=r)();const l=new URLSearchParams({range:e,limit:10}),o=await(await fetch(`${ht}/stats/fields/${t}?${l}`)).json();t==="level"&&zt.set(o.values||[]),t==="service"&&Tt.set(o.values||[]),t==="host"&&qt.set(o.values||[])}catch(e){console.error(`Failed to fetch ${t} stats:`,e)}}async function kn(){try{let t;Pe.subscribe(r=>t=r)();let e="1 minute";(t==="24h"||t==="7d")&&(e="1 hour"),t==="30d"&&(e="1 day");const l=new URLSearchParams({range:t,interval:e}),o=await(await fetch(`${ht}/stats/histogram?${l}`)).json();xl.set(o.buckets||[])}catch(t){console.error("Failed to fetch histogram:",t)}}async function yn(){try{const e=await(await fetch(`${ht}/metrics/json`)).json();wn.set(e)}catch(t){console.error("Failed to fetch metrics:",t)}}function Cn(){const t=window.location.protocol==="https:"?"wss:":"ws:",e=new WebSocket(`${t}//${window.location.host}/api/logs/stream`);return e.onopen=()=>{console.log("WebSocket connected")},e.onmessage=l=>{try{const n=JSON.parse(l.data);n.type==="log"&&Lt.update(o=>[n.data,...o.slice(0,499)])}catch(n){console.error("WebSocket message error:",n)}},e.onerror=l=>{console.error("WebSocket error:",l)},e.onclose=()=>{console.log("WebSocket disconnected")},e}function Ot(t){return t?new Date(t).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):""}function At(t){return t?new Date(t).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):""}function ye(t){return{EMERGENCY:"#f85149",ALERT:"#f85149",CRITICAL:"#f85149",ERROR:"#f85149",WARNING:"#d29922",NOTICE:"#58a6ff",INFO:"#3fb950",DEBUG:"#8b949e",TRACE:"#6e7681"}[t]||"#8b949e"}function Zt(t,e,l){const n=t.slice();return n[27]=e[l],n}function jt(t,e,l){const n=t.slice();return n[30]=e[l],n[32]=l,n}function Wt(t){let e,l,n;return{c(){e=d("button"),e.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14"><path fill="currentColor" d="M7 5.586 3.707 2.293a1 1 0 0 0-1.414 1.414L5.586 7 2.293 10.293a1 1 0 1 0 1.414 1.414L7 8.414l3.293 3.293a1 1 0 0 0 1.414-1.414L8.414 7l3.293-3.293a1 1 0 0 0-1.414-1.414L7 5.586Z"></path></svg>',a(e,"class","clear-btn svelte-a8z0vj"),a(e,"title","Clear search")},m(o,r){O(o,e,r),l||(n=W(e,"click",t[14]),l=!0)},p:oe,d(o){o&&N(e),l=!1,n()}}}function Ft(t){let e,l=ae(t[2]),n=[];for(let o=0;o<l.length;o+=1)n[o]=Dt(jt(t,l,o));return{c(){e=d("div");for(let o=0;o<n.length;o+=1)n[o].c();a(e,"class","suggestions svelte-a8z0vj")},m(o,r){O(o,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(o,r){if(r[0]&2060){l=ae(o[2]);let i;for(i=0;i<l.length;i+=1){const f=jt(o,l,i);n[i]?n[i].p(f,r):(n[i]=Dt(f),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(o){o&&N(e),Ce(n,o)}}}function Sn(t){let e,l;return{c(){e=ne("svg"),l=ne("circle"),a(l,"cx","6"),a(l,"cy","6"),a(l,"r","4"),a(l,"fill","currentColor"),a(e,"width","12"),a(e,"height","12"),a(e,"viewBox","0 0 12 12")},m(n,o){O(n,e,o),s(e,l)},d(n){n&&N(e)}}}function Ln(t){let e,l;return{c(){e=ne("svg"),l=ne("path"),a(l,"fill","currentColor"),a(l,"d","M6 1v10M1 6h10"),a(l,"stroke","currentColor"),a(l,"stroke-width","1.5"),a(e,"width","12"),a(e,"height","12"),a(e,"viewBox","0 0 12 12")},m(n,o){O(n,e,o),s(e,l)},d(n){n&&N(e)}}}function Mn(t){let e,l;return{c(){e=ne("svg"),l=ne("path"),a(l,"fill","currentColor"),a(l,"d","M2 3h8v1H2V3zm0 2.5h8v1H2v-1zm0 2.5h5v1H2V8z"),a(e,"width","12"),a(e,"height","12"),a(e,"viewBox","0 0 12 12")},m(n,o){O(n,e,o),s(e,l)},d(n){n&&N(e)}}}function Pt(t){let e,l=t[30].hint+"",n;return{c(){e=d("span"),n=Z(l),a(e,"class","suggestion-hint svelte-a8z0vj")},m(o,r){O(o,e,r),s(e,n)},p(o,r){r[0]&4&&l!==(l=o[30].hint+"")&&U(n,l)},d(o){o&&N(e)}}}function Vt(t){let e,l=t[30].field+"",n;return{c(){e=d("span"),n=Z(l),a(e,"class","suggestion-field svelte-a8z0vj")},m(o,r){O(o,e,r),s(e,n)},p(o,r){r[0]&4&&l!==(l=o[30].field+"")&&U(n,l)},d(o){o&&N(e)}}}function Dt(t){let e,l,n,o,r=t[30].display+"",i,f,c,u,g,_;function v(k,z){return k[30].type==="field"?Mn:k[30].type==="operator"?Ln:Sn}let h=v(t),p=h(t),w=t[30].hint&&Pt(t),y=t[30].field&&Vt(t);function S(){return t[17](t[30])}return{c(){e=d("button"),l=d("span"),p.c(),n=b(),o=d("span"),i=Z(r),f=b(),w&&w.c(),c=b(),y&&y.c(),u=b(),a(l,"class","suggestion-icon svelte-a8z0vj"),a(o,"class","suggestion-text svelte-a8z0vj"),a(e,"class","suggestion-item svelte-a8z0vj"),ve(e,"selected",t[32]===t[3])},m(k,z){O(k,e,z),s(e,l),p.m(l,null),s(e,n),s(e,o),s(o,i),s(e,f),w&&w.m(e,null),s(e,c),y&&y.m(e,null),s(e,u),g||(_=W(e,"mousedown",Ct(S)),g=!0)},p(k,z){t=k,h!==(h=v(t))&&(p.d(1),p=h(t),p&&(p.c(),p.m(l,null))),z[0]&4&&r!==(r=t[30].display+"")&&U(i,r),t[30].hint?w?w.p(t,z):(w=Pt(t),w.c(),w.m(e,c)):w&&(w.d(1),w=null),t[30].field?y?y.p(t,z):(y=Vt(t),y.c(),y.m(e,u)):y&&(y.d(1),y=null),z[0]&8&&ve(e,"selected",t[32]===t[3])},d(k){k&&N(e),p.d(),w&&w.d(),y&&y.d(),g=!1,_()}}}function It(t){let e,l,n,o,r,i,f,c,u=ae(t[5]),g=[];for(let _=0;_<u.length;_+=1)g[_]=Ut(Zt(t,u,_));return{c(){e=d("div"),l=d("div"),n=d("span"),n.textContent="Recent searches",o=b(),r=d("button"),r.textContent="Clear",i=b();for(let _=0;_<g.length;_+=1)g[_].c();a(r,"class","history-clear svelte-a8z0vj"),a(l,"class","history-header svelte-a8z0vj"),a(e,"class","suggestions history svelte-a8z0vj")},m(_,v){O(_,e,v),s(e,l),s(l,n),s(l,o),s(l,r),s(e,i);for(let h=0;h<g.length;h+=1)g[h]&&g[h].m(e,null);f||(c=W(r,"mousedown",Ct(t[13])),f=!0)},p(_,v){if(v[0]&4128){u=ae(_[5]);let h;for(h=0;h<u.length;h+=1){const p=Zt(_,u,h);g[h]?g[h].p(p,v):(g[h]=Ut(p),g[h].c(),g[h].m(e,null))}for(;h<g.length;h+=1)g[h].d(1);g.length=u.length}},d(_){_&&N(e),Ce(g,_),f=!1,c()}}}function Ut(t){let e,l,n,o,r=t[27]+"",i,f,c,u;function g(){return t[18](t[27])}return{c(){e=d("button"),l=d("span"),l.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M6 1a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 9a4 4 0 1 1 4-4 4 4 0 0 1-4 4zm.5-4V3.5a.5.5 0 0 0-1 0v3a.5.5 0 0 0 .15.35l2 2a.5.5 0 0 0 .7-.7L6.5 6z"></path></svg>',n=b(),o=d("span"),i=Z(r),f=b(),a(l,"class","suggestion-icon svelte-a8z0vj"),a(o,"class","suggestion-text history-query svelte-a8z0vj"),a(e,"class","suggestion-item svelte-a8z0vj")},m(_,v){O(_,e,v),s(e,l),s(e,n),s(e,o),s(o,i),s(e,f),c||(u=W(e,"mousedown",Ct(g)),c=!0)},p(_,v){t=_,v[0]&32&&r!==(r=t[27]+"")&&U(i,r)},d(_){_&&N(e),c=!1,u()}}}function zn(t){let e,l,n,o,r,i,f,c,u,g,_=t[0]&&Wt(t),v=t[1]&&t[2].length>0&&Ft(t),h=t[6]&&t[5].length>0&&It(t);return{c(){e=d("div"),l=ne("svg"),n=ne("path"),o=b(),r=d("input"),i=b(),_&&_.c(),f=b(),v&&v.c(),c=b(),h&&h.c(),a(n,"fill","currentColor"),a(n,"d","M11.5 7a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-.82 4.74a6 6 0 1 1 1.06-1.06l3.04 3.04a.75.75 0 1 1-1.06 1.06l-3.04-3.04Z"),a(l,"class","search-icon svelte-a8z0vj"),a(l,"width","16"),a(l,"height","16"),a(l,"viewBox","0 0 16 16"),a(r,"type","text"),a(r,"placeholder","Search logs... level:ERROR AND service:api*"),a(r,"autocomplete","off"),a(r,"class","svelte-a8z0vj"),a(e,"class","search-bar svelte-a8z0vj")},m(p,w){O(p,e,w),s(e,l),s(l,n),s(e,o),s(e,r),t[15](r),ie(r,t[0]),s(e,i),_&&_.m(e,null),s(e,f),v&&v.m(e,null),s(e,c),h&&h.m(e,null),u||(g=[W(r,"input",t[16]),W(r,"keydown",t[7]),W(r,"input",t[8]),W(r,"focus",t[9]),W(r,"blur",t[10])],u=!0)},p(p,w){w[0]&1&&r.value!==p[0]&&ie(r,p[0]),p[0]?_?_.p(p,w):(_=Wt(p),_.c(),_.m(e,f)):_&&(_.d(1),_=null),p[1]&&p[2].length>0?v?v.p(p,w):(v=Ft(p),v.c(),v.m(e,c)):v&&(v.d(1),v=null),p[6]&&p[5].length>0?h?h.p(p,w):(h=It(p),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i:oe,o:oe,d(p){p&&N(e),t[15](null),_&&_.d(),v&&v.d(),h&&h.d(),u=!1,_e(g)}}}const Tn=10;function qn(t,e,l){let n,o,r;ke(t,qt,m=>l(19,n=m)),ke(t,Tt,m=>l(20,o=m)),ke(t,zt,m=>l(21,r=m));let{value:i=""}=e;const f=it();let c=!1,u=[],g=-1,_,v=[],h=!1;const p=["AND","OR","NOT"],w=["level","service","host","message","timestamp"];Ye(()=>{const m=localStorage.getItem("purl_search_history");m&&l(5,v=JSON.parse(m))});function y(m){m.trim()&&(l(5,v=[m,...v.filter(R=>R!==m)].slice(0,Tn)),localStorage.setItem("purl_search_history",JSON.stringify(v)))}function S(m){if(c&&u.length>0){if(m.key==="ArrowDown")m.preventDefault(),l(3,g=Math.min(g+1,u.length-1));else if(m.key==="ArrowUp")m.preventDefault(),l(3,g=Math.max(g-1,-1));else if(m.key==="Enter"&&g>=0){m.preventDefault(),q(u[g]);return}else if(m.key==="Escape"){l(1,c=!1),l(6,h=!1);return}}m.key==="Enter"&&(l(1,c=!1),l(6,h=!1),y(i),f("search"))}function k(){l(3,g=-1),M()}function z(){!i&&v.length>0?l(6,h=!0):M()}function H(){setTimeout(()=>{l(1,c=!1),l(6,h=!1)},200)}function M(){l(6,h=!1);const m=(_==null?void 0:_.selectionStart)||i.length,L=i.substring(0,m).split(/\s+/),D=L[L.length-1]||"";if(!D){l(1,c=!1);return}if(l(2,u=[]),D.includes(":")){const[X,Q]=D.split(":"),Y=X.toLowerCase();let G=[];Y==="level"?G=r.map(P=>P.value):Y==="service"?G=o.map(P=>P.value):Y==="host"&&(G=n.map(P=>P.value));const V=(Q||"").toLowerCase();l(2,u=G.filter(P=>P.toLowerCase().includes(V)).slice(0,8).map(P=>({type:"value",text:`${X}:${P}`,display:P,field:X})))}else{const X=D.toLowerCase(),Q=w.filter(G=>G.toLowerCase().startsWith(X)).map(G=>({type:"field",text:`${G}:`,display:G,hint:"field"})),Y=L.length>1?p.filter(G=>G.toLowerCase().startsWith(X)).map(G=>({type:"operator",text:G,display:G,hint:"operator"})):[];l(2,u=[...Q,...Y].slice(0,8))}l(1,c=u.length>0)}function q(m){const R=(_==null?void 0:_.selectionStart)||i.length,L=i.substring(0,R),D=i.substring(R),X=L.lastIndexOf(" "),Q=L.substring(0,X+1);l(0,i=Q+m.text+(m.type==="field"?"":" ")+D.trimStart()),l(1,c=!1),l(3,g=-1),setTimeout(()=>_==null?void 0:_.focus(),0)}function B(m){l(0,i=m),l(6,h=!1),f("search")}function F(){l(5,v=[]),localStorage.removeItem("purl_search_history"),l(6,h=!1)}function A(){l(0,i=""),f("search")}function j(m){Ve[m?"unshift":"push"](()=>{_=m,l(4,_)})}function C(){i=this.value,l(0,i)}const E=m=>q(m),T=m=>B(m);return t.$$set=m=>{"value"in m&&l(0,i=m.value)},[i,c,u,g,_,v,h,S,k,z,H,q,B,F,A,j,C,E,T]}class Hn extends Ae{constructor(e){super(),Oe(this,e,qn,zn,Ee,{value:0},null,[-1,-1])}}function Jt(t,e,l){const n=t.slice();return n[9]=e[l],n}function Xt(t){let e,l=ae(t[3]),n=[];for(let o=0;o<l.length;o+=1)n[o]=Qt(Jt(t,l,o));return{c(){e=d("div");for(let o=0;o<n.length;o+=1)n[o].c();a(e,"class","dropdown svelte-19hb89a")},m(o,r){O(o,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(o,r){if(r&25){l=ae(o[3]);let i;for(i=0;i<l.length;i+=1){const f=Jt(o,l,i);n[i]?n[i].p(f,r):(n[i]=Qt(f),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(o){o&&N(e),Ce(n,o)}}}function Qt(t){let e,l,n;function o(){return t[7](t[9])}return{c(){e=d("button"),e.textContent=`${t[9].label} `,a(e,"class","dropdown-item svelte-19hb89a"),ve(e,"active",t[0]===t[9].value)},m(r,i){O(r,e,i),l||(n=W(e,"click",o),l=!0)},p(r,i){t=r,i&9&&ve(e,"active",t[0]===t[9].value)},d(r){r&&N(e),l=!1,n()}}}function Rn(t){let e,l,n,o,r,i,f,c,u,g,_,v,h,p=t[1]&&Xt(t);return{c(){e=d("div"),l=d("button"),n=ne("svg"),o=ne("path"),r=b(),i=d("span"),f=Z(t[2]),c=b(),u=ne("svg"),g=ne("path"),_=b(),p&&p.c(),a(o,"fill","currentColor"),a(o,"d","M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0Zm0 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM8 3a.75.75 0 0 1 .75.75v3.69l2.28 2.28a.75.75 0 0 1-1.06 1.06L7.22 8.03A.75.75 0 0 1 7 7.5v-3.75A.75.75 0 0 1 8 3Z"),a(n,"width","16"),a(n,"height","16"),a(n,"viewBox","0 0 16 16"),a(g,"fill","currentColor"),a(g,"d","M6 8.825a.5.5 0 0 1-.354-.146l-4-4a.5.5 0 0 1 .708-.708L6 7.617l3.646-3.646a.5.5 0 0 1 .708.708l-4 4A.5.5 0 0 1 6 8.825Z"),a(u,"class","chevron svelte-19hb89a"),a(u,"width","12"),a(u,"height","12"),a(u,"viewBox","0 0 12 12"),a(l,"class","picker-btn svelte-19hb89a"),a(e,"class","time-picker svelte-19hb89a")},m(w,y){O(w,e,y),s(e,l),s(l,n),s(n,o),s(l,r),s(l,i),s(i,f),s(l,c),s(l,u),s(u,g),s(e,_),p&&p.m(e,null),v||(h=[W(window,"click",t[6]),W(l,"click",pe(t[5]))],v=!0)},p(w,[y]){y&4&&U(f,w[2]),w[1]?p?p.p(w,y):(p=Xt(w),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i:oe,o:oe,d(w){w&&N(e),p&&p.d(),v=!1,_e(h)}}}function En(t,e,l){let n,{value:o="15m"}=e;const r=it(),i=[{value:"5m",label:"Last 5 minutes"},{value:"15m",label:"Last 15 minutes"},{value:"30m",label:"Last 30 minutes"},{value:"1h",label:"Last 1 hour"},{value:"4h",label:"Last 4 hours"},{value:"12h",label:"Last 12 hours"},{value:"24h",label:"Last 24 hours"},{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"}];let f=!1;function c(v){l(0,o=v),l(1,f=!1),r("change",v)}function u(){l(1,f=!f)}function g(v){v.target.closest(".time-picker")||l(1,f=!1)}const _=v=>c(v.value);return t.$$set=v=>{"value"in v&&l(0,o=v.value)},t.$$.update=()=>{var v;t.$$.dirty&1&&l(2,n=((v=i.find(h=>h.value===o))==null?void 0:v.label)||o)},[o,f,n,i,c,u,g,_]}class Bn extends Ae{constructor(e){super(),Oe(this,e,En,Rn,Ee,{value:0})}}function Kt(t,e,l){const n=t.slice();return n[29]=e[l],n}function Gt(t,e,l){const n=t.slice();return n[29]=e[l],n}function Yt(t,e,l){const n=t.slice();return n[29]=e[l],n}function $t(t){let e,l,n=ae(t[10]),o=[];for(let i=0;i<n.length;i+=1)o[i]=xt(Yt(t,n,i));let r=t[10].length===0&&el();return{c(){e=d("div");for(let i=0;i<o.length;i+=1)o[i].c();l=b(),r&&r.c(),a(e,"class","field-values svelte-4ctbet")},m(i,f){O(i,e,f);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);s(e,l),r&&r.m(e,null)},p(i,f){if(f[0]&25728){n=ae(i[10]);let c;for(c=0;c<n.length;c+=1){const u=Yt(i,n,c);o[c]?o[c].p(u,f):(o[c]=xt(u),o[c].c(),o[c].m(e,l))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length}i[10].length===0?r||(r=el(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(i){i&&N(e),Ce(o,i),r&&r.d()}}}function xt(t){let e,l,n,o,r,i=t[29].value+"",f,c,u,g,_,v,h=Ge(t[29].count)+"",p,w,y,S=t[14](t[29].count).toFixed(0)+"",k,z,H,M,q,B;function F(){return t[19](t[29])}function A(){return t[20](t[29])}return{c(){e=d("div"),l=d("button"),n=d("span"),o=b(),r=d("span"),f=Z(i),c=b(),u=d("div"),g=d("div"),_=b(),v=d("span"),p=Z(h),w=b(),y=d("span"),k=Z(S),z=Z("%"),H=b(),M=d("button"),M.innerHTML='<svg width="10" height="10" viewBox="0 0 10 10"><path stroke="currentColor" stroke-width="1.5" d="M2 2l6 6M8 2L2 8"></path></svg>',a(n,"class","value-dot svelte-4ctbet"),$(n,"background",ye(t[29].value)),a(r,"class","value-name svelte-4ctbet"),a(g,"class","value-bar svelte-4ctbet"),$(g,"width",t[29].count/t[7]*100+"%"),$(g,"background",ye(t[29].value)+"40"),a(u,"class","value-bar-container svelte-4ctbet"),a(v,"class","value-count svelte-4ctbet"),a(y,"class","value-percent svelte-4ctbet"),a(l,"class","field-value svelte-4ctbet"),a(M,"class","exclude-btn svelte-4ctbet"),a(M,"title","Exclude"),a(e,"class","field-value-row svelte-4ctbet")},m(j,C){O(j,e,C),s(e,l),s(l,n),s(l,o),s(l,r),s(r,f),s(l,c),s(l,u),s(u,g),s(l,_),s(l,v),s(v,p),s(l,w),s(l,y),s(y,k),s(y,z),s(e,H),s(e,M),q||(B=[W(l,"click",F),W(M,"click",pe(A))],q=!0)},p(j,C){t=j,C[0]&1024&&$(n,"background",ye(t[29].value)),C[0]&1024&&i!==(i=t[29].value+"")&&U(f,i),C[0]&1152&&$(g,"width",t[29].count/t[7]*100+"%"),C[0]&1024&&$(g,"background",ye(t[29].value)+"40"),C[0]&1024&&h!==(h=Ge(t[29].count)+"")&&U(p,h),C[0]&1024&&S!==(S=t[14](t[29].count).toFixed(0)+"")&&U(k,S)},d(j){j&&N(e),q=!1,_e(B)}}}function el(t){let e;return{c(){e=d("div"),e.textContent="No data",a(e,"class","empty svelte-4ctbet")},m(l,n){O(l,e,n)},d(l){l&&N(e)}}}function tl(t){let e,l,n=ae(t[9]),o=[];for(let i=0;i<n.length;i+=1)o[i]=ll(Gt(t,n,i));let r=t[9].length===0&&nl();return{c(){e=d("div");for(let i=0;i<o.length;i+=1)o[i].c();l=b(),r&&r.c(),a(e,"class","field-values svelte-4ctbet")},m(i,f){O(i,e,f);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);s(e,l),r&&r.m(e,null)},p(i,f){if(f[0]&25152){n=ae(i[9]);let c;for(c=0;c<n.length;c+=1){const u=Gt(i,n,c);o[c]?o[c].p(u,f):(o[c]=ll(u),o[c].c(),o[c].m(e,l))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length}i[9].length===0?r||(r=nl(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(i){i&&N(e),Ce(o,i),r&&r.d()}}}function ll(t){let e,l,n,o,r,i=t[29].value+"",f,c,u,g,_,v,h=Ge(t[29].count)+"",p,w,y,S=t[14](t[29].count).toFixed(0)+"",k,z,H,M,q,B;function F(){return t[22](t[29])}function A(){return t[23](t[29])}return{c(){e=d("div"),l=d("button"),n=d("span"),o=b(),r=d("span"),f=Z(i),c=b(),u=d("div"),g=d("div"),_=b(),v=d("span"),p=Z(h),w=b(),y=d("span"),k=Z(S),z=Z("%"),H=b(),M=d("button"),M.innerHTML='<svg width="10" height="10" viewBox="0 0 10 10"><path stroke="currentColor" stroke-width="1.5" d="M2 2l6 6M8 2L2 8"></path></svg>',a(n,"class","value-dot svelte-4ctbet"),$(n,"background","#58a6ff"),a(r,"class","value-name svelte-4ctbet"),a(g,"class","value-bar svelte-4ctbet"),$(g,"width",t[29].count/t[6]*100+"%"),$(g,"background","#58a6ff40"),a(u,"class","value-bar-container svelte-4ctbet"),a(v,"class","value-count svelte-4ctbet"),a(y,"class","value-percent svelte-4ctbet"),a(l,"class","field-value svelte-4ctbet"),a(M,"class","exclude-btn svelte-4ctbet"),a(M,"title","Exclude"),a(e,"class","field-value-row svelte-4ctbet")},m(j,C){O(j,e,C),s(e,l),s(l,n),s(l,o),s(l,r),s(r,f),s(l,c),s(l,u),s(u,g),s(l,_),s(l,v),s(v,p),s(l,w),s(l,y),s(y,k),s(y,z),s(e,H),s(e,M),q||(B=[W(l,"click",F),W(M,"click",pe(A))],q=!0)},p(j,C){t=j,C[0]&512&&i!==(i=t[29].value+"")&&U(f,i),C[0]&576&&$(g,"width",t[29].count/t[6]*100+"%"),C[0]&512&&h!==(h=Ge(t[29].count)+"")&&U(p,h),C[0]&512&&S!==(S=t[14](t[29].count).toFixed(0)+"")&&U(k,S)},d(j){j&&N(e),q=!1,_e(B)}}}function nl(t){let e;return{c(){e=d("div"),e.textContent="No data",a(e,"class","empty svelte-4ctbet")},m(l,n){O(l,e,n)},d(l){l&&N(e)}}}function sl(t){let e,l,n=ae(t[8]),o=[];for(let i=0;i<n.length;i+=1)o[i]=il(Kt(t,n,i));let r=t[8].length===0&&ol();return{c(){e=d("div");for(let i=0;i<o.length;i+=1)o[i].c();l=b(),r&&r.c(),a(e,"class","field-values svelte-4ctbet")},m(i,f){O(i,e,f);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);s(e,l),r&&r.m(e,null)},p(i,f){if(f[0]&24864){n=ae(i[8]);let c;for(c=0;c<n.length;c+=1){const u=Kt(i,n,c);o[c]?o[c].p(u,f):(o[c]=il(u),o[c].c(),o[c].m(e,l))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length}i[8].length===0?r||(r=ol(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(i){i&&N(e),Ce(o,i),r&&r.d()}}}function il(t){let e,l,n,o,r,i=t[29].value+"",f,c,u,g,_,v,h=Ge(t[29].count)+"",p,w,y,S=t[14](t[29].count).toFixed(0)+"",k,z,H,M,q,B;function F(){return t[25](t[29])}function A(){return t[26](t[29])}return{c(){e=d("div"),l=d("button"),n=d("span"),o=b(),r=d("span"),f=Z(i),c=b(),u=d("div"),g=d("div"),_=b(),v=d("span"),p=Z(h),w=b(),y=d("span"),k=Z(S),z=Z("%"),H=b(),M=d("button"),M.innerHTML='<svg width="10" height="10" viewBox="0 0 10 10"><path stroke="currentColor" stroke-width="1.5" d="M2 2l6 6M8 2L2 8"></path></svg>',a(n,"class","value-dot svelte-4ctbet"),$(n,"background","#a371f7"),a(r,"class","value-name svelte-4ctbet"),a(g,"class","value-bar svelte-4ctbet"),$(g,"width",t[29].count/t[5]*100+"%"),$(g,"background","#a371f740"),a(u,"class","value-bar-container svelte-4ctbet"),a(v,"class","value-count svelte-4ctbet"),a(y,"class","value-percent svelte-4ctbet"),a(l,"class","field-value svelte-4ctbet"),a(M,"class","exclude-btn svelte-4ctbet"),a(M,"title","Exclude"),a(e,"class","field-value-row svelte-4ctbet")},m(j,C){O(j,e,C),s(e,l),s(l,n),s(l,o),s(l,r),s(r,f),s(l,c),s(l,u),s(u,g),s(l,_),s(l,v),s(v,p),s(l,w),s(l,y),s(y,k),s(y,z),s(e,H),s(e,M),q||(B=[W(l,"click",F),W(M,"click",pe(A))],q=!0)},p(j,C){t=j,C[0]&256&&i!==(i=t[29].value+"")&&U(f,i),C[0]&288&&$(g,"width",t[29].count/t[5]*100+"%"),C[0]&256&&h!==(h=Ge(t[29].count)+"")&&U(p,h),C[0]&256&&S!==(S=t[14](t[29].count).toFixed(0)+"")&&U(k,S)},d(j){j&&N(e),q=!1,_e(B)}}}function ol(t){let e;return{c(){e=d("div"),e.textContent="No data",a(e,"class","empty svelte-4ctbet")},m(l,n){O(l,e,n)},d(l){l&&N(e)}}}function Nn(t){let e,l,n,o,r,i,f,c,u,g,_,v,h,p,w,y,S,k,z,H,M,q,B,F=t[3].length+"",A,j,C,E,T,m,R,L,D,X,Q,Y=t[2].length+"",G,V,P,J,K,x,ce,fe,re,Le,de,Me=t[1].length+"",me,qe,ge,be,ue=t[4].level&&$t(t),se=t[4].service&&tl(t),ee=t[4].host&&sl(t);return{c(){e=d("div"),l=d("div"),n=d("h3"),n.textContent="Fields",o=b(),r=d("div"),i=d("button"),i.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M2 4l4 4 4-4"></path></svg>',f=b(),c=d("button"),c.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M2 8l4-4 4 4"></path></svg>',u=b(),g=d("div"),_=ne("svg"),v=ne("path"),h=b(),p=d("input"),w=b(),y=d("div"),S=d("button"),k=ne("svg"),z=ne("path"),H=b(),M=d("span"),M.textContent="level",q=b(),B=d("span"),A=Z(F),j=b(),ue&&ue.c(),C=b(),E=d("div"),T=d("button"),m=ne("svg"),R=ne("path"),L=b(),D=d("span"),D.textContent="service",X=b(),Q=d("span"),G=Z(Y),V=b(),se&&se.c(),P=b(),J=d("div"),K=d("button"),x=ne("svg"),ce=ne("path"),fe=b(),re=d("span"),re.textContent="host",Le=b(),de=d("span"),me=Z(Me),qe=b(),ee&&ee.c(),a(n,"class","svelte-4ctbet"),a(i,"class","action-btn svelte-4ctbet"),a(i,"title","Expand all"),a(c,"class","action-btn svelte-4ctbet"),a(c,"title","Collapse all"),a(r,"class","header-actions svelte-4ctbet"),a(l,"class","fields-header svelte-4ctbet"),a(v,"fill","currentColor"),a(v,"d","M8.5 5.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-.5 3.2a4 4 0 1 1 .7-.7l2.1 2.1a.5.5 0 0 1-.7.7L8 8.7Z"),a(_,"width","12"),a(_,"height","12"),a(_,"viewBox","0 0 12 12"),a(_,"class","svelte-4ctbet"),a(p,"type","text"),a(p,"placeholder","Filter fields..."),a(p,"class","svelte-4ctbet"),a(g,"class","field-search svelte-4ctbet"),a(z,"fill","currentColor"),a(z,"d","M4.7 10a.5.5 0 0 1-.354-.854L7.293 6 4.346 3.054a.5.5 0 0 1 .708-.708l3.3 3.3a.5.5 0 0 1 0 .708l-3.3 3.3A.5.5 0 0 1 4.7 10Z"),a(k,"class","chevron svelte-4ctbet"),a(k,"width","12"),a(k,"height","12"),a(k,"viewBox","0 0 12 12"),ve(k,"expanded",t[4].level),a(M,"class","section-name svelte-4ctbet"),a(B,"class","section-count svelte-4ctbet"),a(S,"class","section-header svelte-4ctbet"),a(y,"class","field-section svelte-4ctbet"),a(R,"fill","currentColor"),a(R,"d","M4.7 10a.5.5 0 0 1-.354-.854L7.293 6 4.346 3.054a.5.5 0 0 1 .708-.708l3.3 3.3a.5.5 0 0 1 0 .708l-3.3 3.3A.5.5 0 0 1 4.7 10Z"),a(m,"class","chevron svelte-4ctbet"),a(m,"width","12"),a(m,"height","12"),a(m,"viewBox","0 0 12 12"),ve(m,"expanded",t[4].service),a(D,"class","section-name svelte-4ctbet"),a(Q,"class","section-count svelte-4ctbet"),a(T,"class","section-header svelte-4ctbet"),a(E,"class","field-section svelte-4ctbet"),a(ce,"fill","currentColor"),a(ce,"d","M4.7 10a.5.5 0 0 1-.354-.854L7.293 6 4.346 3.054a.5.5 0 0 1 .708-.708l3.3 3.3a.5.5 0 0 1 0 .708l-3.3 3.3A.5.5 0 0 1 4.7 10Z"),a(x,"class","chevron svelte-4ctbet"),a(x,"width","12"),a(x,"height","12"),a(x,"viewBox","0 0 12 12"),ve(x,"expanded",t[4].host),a(re,"class","section-name svelte-4ctbet"),a(de,"class","section-count svelte-4ctbet"),a(K,"class","section-header svelte-4ctbet"),a(J,"class","field-section svelte-4ctbet"),a(e,"class","fields-sidebar svelte-4ctbet")},m(te,he){O(te,e,he),s(e,l),s(l,n),s(l,o),s(l,r),s(r,i),s(r,f),s(r,c),s(e,u),s(e,g),s(g,_),s(_,v),s(g,h),s(g,p),ie(p,t[0]),s(e,w),s(e,y),s(y,S),s(S,k),s(k,z),s(S,H),s(S,M),s(S,q),s(S,B),s(B,A),s(y,j),ue&&ue.m(y,null),s(e,C),s(e,E),s(E,T),s(T,m),s(m,R),s(T,L),s(T,D),s(T,X),s(T,Q),s(Q,G),s(E,V),se&&se.m(E,null),s(e,P),s(e,J),s(J,K),s(K,x),s(x,ce),s(K,fe),s(K,re),s(K,Le),s(K,de),s(de,me),s(J,qe),ee&&ee.m(J,null),ge||(be=[W(i,"click",t[15]),W(c,"click",t[16]),W(p,"input",t[17]),W(S,"click",t[18]),W(T,"click",t[21]),W(K,"click",t[24])],ge=!0)},p(te,he){he[0]&1&&p.value!==te[0]&&ie(p,te[0]),he[0]&16&&ve(k,"expanded",te[4].level),he[0]&8&&F!==(F=te[3].length+"")&&U(A,F),te[4].level?ue?ue.p(te,he):(ue=$t(te),ue.c(),ue.m(y,null)):ue&&(ue.d(1),ue=null),he[0]&16&&ve(m,"expanded",te[4].service),he[0]&4&&Y!==(Y=te[2].length+"")&&U(G,Y),te[4].service?se?se.p(te,he):(se=tl(te),se.c(),se.m(E,null)):se&&(se.d(1),se=null),he[0]&16&&ve(x,"expanded",te[4].host),he[0]&2&&Me!==(Me=te[1].length+"")&&U(me,Me),te[4].host?ee?ee.p(te,he):(ee=sl(te),ee.c(),ee.m(J,null)):ee&&(ee.d(1),ee=null)},i:oe,o:oe,d(te){te&&N(e),ue&&ue.d(),se&&se.d(),ee&&ee.d(),ge=!1,_e(be)}}}function Ge(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t}function On(t,e,l){let n,o,r,i,f,c,u,g,_,v;ke(t,qt,L=>l(1,u=L)),ke(t,Tt,L=>l(2,g=L)),ke(t,zt,L=>l(3,_=L)),ke(t,Mt,L=>l(27,v=L));const h=it();let p={level:!0,service:!0,host:!0},w="";function y(L){l(4,p[L]=!p[L],p)}function S(L){l(4,p={level:L,service:L,host:L})}function k(L,D,X=!1){h("filter",{field:L,value:`${X?"NOT ":""}${L}:${D}`})}function z(L){return Math.min(100,L/(v||1)*100)}const H=()=>S(!0),M=()=>S(!1);function q(){w=this.value,l(0,w)}const B=()=>y("level"),F=L=>k("level",L.value),A=L=>k("level",L.value,!0),j=()=>y("service"),C=L=>k("service",L.value),E=L=>k("service",L.value,!0),T=()=>y("host"),m=L=>k("host",L.value),R=L=>k("host",L.value,!0);return t.$$.update=()=>{t.$$.dirty[0]&9&&l(10,n=_.filter(L=>!w||L.value.toLowerCase().includes(w.toLowerCase()))),t.$$.dirty[0]&5&&l(9,o=g.filter(L=>!w||L.value.toLowerCase().includes(w.toLowerCase()))),t.$$.dirty[0]&3&&l(8,r=u.filter(L=>!w||L.value.toLowerCase().includes(w.toLowerCase()))),t.$$.dirty[0]&8&&l(7,i=Math.max(..._.map(L=>L.count),1)),t.$$.dirty[0]&4&&l(6,f=Math.max(...g.map(L=>L.count),1)),t.$$.dirty[0]&2&&l(5,c=Math.max(...u.map(L=>L.count),1))},[w,u,g,_,p,c,f,i,r,o,n,y,S,k,z,H,M,q,B,F,A,j,C,E,T,m,R]}class An extends Ae{constructor(e){super(),Oe(this,e,On,Nn,Ee,{},null,[-1,-1])}}function al(t,e,l){const n=t.slice();return n[27]=e[l],n[29]=l,n}function rl(t,e,l){const n=t.slice();return n[30]=e[l][0],n[31]=e[l][1],n}function cl(t,e,l){const n=t.slice();return n[34]=e[l],n}function ul(t,e,l){const n=t.slice();return n[34]=e[l],n}function fl(t){let e,l,n,o,r,i,f,c,u=ae(t[1]),g=[];for(let _=0;_<u.length;_+=1)g[_]=dl(ul(t,u,_));return{c(){e=d("div"),l=d("div"),n=d("span"),n.textContent="Show/Hide Columns",o=b(),r=d("button"),r.textContent="Reset",i=b();for(let _=0;_<g.length;_+=1)g[_].c();a(r,"class","reset-btn svelte-1agpyzi"),a(l,"class","column-menu-header svelte-1agpyzi"),a(e,"class","column-menu svelte-1agpyzi")},m(_,v){O(_,e,v),s(e,l),s(l,n),s(l,o),s(l,r),s(e,i);for(let h=0;h<g.length;h+=1)g[h]&&g[h].m(e,null);f||(c=W(r,"click",t[10]),f=!0)},p(_,v){if(v[0]&258){u=ae(_[1]);let h;for(h=0;h<u.length;h+=1){const p=ul(_,u,h);g[h]?g[h].p(p,v):(g[h]=dl(p),g[h].c(),g[h].m(e,null))}for(;h<g.length;h+=1)g[h].d(1);g.length=u.length}},d(_){_&&N(e),Ce(g,_),f=!1,c()}}}function dl(t){let e,l,n,o,r,i=t[34].label+"",f,c,u,g;function _(){return t[12](t[34])}return{c(){e=d("label"),l=d("input"),o=b(),r=d("span"),f=Z(i),c=b(),a(l,"type","checkbox"),l.checked=n=t[34].visible,a(l,"class","svelte-1agpyzi"),a(e,"class","column-option svelte-1agpyzi")},m(v,h){O(v,e,h),s(e,l),s(e,o),s(e,r),s(r,f),s(e,c),u||(g=W(l,"change",_),u=!0)},p(v,h){t=v,h[0]&2&&n!==(n=t[34].visible)&&(l.checked=n),h[0]&2&&i!==(i=t[34].label+"")&&U(f,i)},d(v){v&&N(e),u=!1,g()}}}function Zn(t){let e,l,n,o,r,i=[],f=new Map,c=ae(t[2]),u=[];for(let v=0;v<c.length;v+=1)u[v]=pl(cl(t,c,v));let g=ae(t[0]);const _=v=>v[27].id||v[29];for(let v=0;v<g.length;v+=1){let h=al(t,g,v),p=_(h);f.set(p,i[v]=Cl(p,h))}return{c(){e=d("table"),l=d("thead"),n=d("tr");for(let v=0;v<u.length;v+=1)u[v].c();o=b(),r=d("tbody");for(let v=0;v<i.length;v+=1)i[v].c();a(l,"class","svelte-1agpyzi"),a(e,"class","log-table svelte-1agpyzi"),ve(e,"resizing",t[5]!==null)},m(v,h){O(v,e,h),s(e,l),s(l,n);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(n,null);s(e,o),s(e,r);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(r,null)},p(v,h){if(h[0]&516){c=ae(v[2]);let p;for(p=0;p<c.length;p+=1){const w=cl(v,c,p);u[p]?u[p].p(w,h):(u[p]=pl(w),u[p].c(),u[p].m(n,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=c.length}h[0]&203&&(g=ae(v[0]),i=_n(i,h,_,1,v,g,f,r,vn,Cl,null,al)),h[0]&32&&ve(e,"resizing",v[5]!==null)},d(v){v&&N(e),Ce(u,v);for(let h=0;h<i.length;h+=1)i[h].d()}}}function jn(t){let e;return{c(){e=d("div"),e.innerHTML='<svg width="48" height="48" viewBox="0 0 48 48" class="svelte-1agpyzi"><path fill="currentColor" opacity="0.3" d="M24 4C12.954 4 4 12.954 4 24s8.954 20 20 20 20-8.954 20-20S35.046 4 24 4Zm0 36c-8.837 0-16-7.163-16-16S15.163 8 24 8s16 7.163 16 16-7.163 16-16 16Z"></path><path fill="currentColor" d="M24 14a2 2 0 0 1 2 2v8a2 2 0 0 1-4 0v-8a2 2 0 0 1 2-2Zm0 16a2 2 0 1 1 0 4 2 2 0 0 1 0-4Z"></path></svg> <p class="svelte-1agpyzi">No logs found</p> <span class="svelte-1agpyzi">Try adjusting your search or time range</span>',a(e,"class","empty-state svelte-1agpyzi")},m(l,n){O(l,e,n)},p:oe,d(l){l&&N(e)}}}function hl(t){let e,l,n;function o(...r){return t[13](t[34],...r)}return{c(){e=d("div"),a(e,"class","resize-handle svelte-1agpyzi"),a(e,"role","separator"),a(e,"aria-orientation","vertical"),a(e,"tabindex","-1")},m(r,i){O(r,e,i),l||(n=W(e,"mousedown",o),l=!0)},p(r,i){t=r},d(r){r&&N(e),l=!1,n()}}}function pl(t){let e,l=t[34].label+"",n,o,r,i,f=t[34].id!=="message"&&hl(t);return{c(){e=d("th"),n=Z(l),o=b(),f&&f.c(),r=b(),a(e,"style",i=t[34].width?`width: ${t[34].width}px`:""),a(e,"class","svelte-1agpyzi")},m(c,u){O(c,e,u),s(e,n),s(e,o),f&&f.m(e,null),s(e,r)},p(c,u){u[0]&4&&l!==(l=c[34].label+"")&&U(n,l),c[34].id!=="message"?f?f.p(c,u):(f=hl(c),f.c(),f.m(e,r)):f&&(f.d(1),f=null),u[0]&4&&i!==(i=c[34].width?`width: ${c[34].width}px`:"")&&a(e,"style",i)},d(c){c&&N(e),f&&f.d()}}}function vl(t){let e,l,n=Ot(t[27].timestamp)+"",o,r;return{c(){e=d("td"),l=d("span"),o=Z(n),a(l,"class","timestamp svelte-1agpyzi"),a(l,"title",r=At(t[27].timestamp)),$(e,"width",t[1].find(ql).width+"px"),a(e,"class","svelte-1agpyzi")},m(i,f){O(i,e,f),s(e,l),s(l,o)},p(i,f){f[0]&1&&n!==(n=Ot(i[27].timestamp)+"")&&U(o,n),f[0]&1&&r!==(r=At(i[27].timestamp))&&a(l,"title",r),f[0]&2&&$(e,"width",i[1].find(ql).width+"px")},d(i){i&&N(e)}}}function _l(t){let e,l,n=t[27].level+"",o;return{c(){e=d("td"),l=d("span"),o=Z(n),a(l,"class","level-badge svelte-1agpyzi"),$(l,"background",ye(t[27].level)+"20"),$(l,"color",ye(t[27].level)),$(e,"width",t[1].find(Hl).width+"px"),a(e,"class","svelte-1agpyzi")},m(r,i){O(r,e,i),s(e,l),s(l,o)},p(r,i){i[0]&1&&n!==(n=r[27].level+"")&&U(o,n),i[0]&1&&$(l,"background",ye(r[27].level)+"20"),i[0]&1&&$(l,"color",ye(r[27].level)),i[0]&2&&$(e,"width",r[1].find(Hl).width+"px")},d(r){r&&N(e)}}}function gl(t){let e,l,n=t[27].service+"",o;return{c(){e=d("td"),l=d("span"),o=Z(n),a(l,"class","service svelte-1agpyzi"),$(e,"width",t[1].find(Rl).width+"px"),a(e,"class","svelte-1agpyzi")},m(r,i){O(r,e,i),s(e,l),s(l,o)},p(r,i){i[0]&1&&n!==(n=r[27].service+"")&&U(o,n),i[0]&2&&$(e,"width",r[1].find(Rl).width+"px")},d(r){r&&N(e)}}}function ml(t){let e,l,n=t[27].host+"",o;return{c(){e=d("td"),l=d("span"),o=Z(n),a(l,"class","host svelte-1agpyzi"),$(e,"width",t[1].find(El).width+"px"),a(e,"class","svelte-1agpyzi")},m(r,i){O(r,e,i),s(e,l),s(l,o)},p(r,i){i[0]&1&&n!==(n=r[27].host+"")&&U(o,n),i[0]&2&&$(e,"width",r[1].find(El).width+"px")},d(r){r&&N(e)}}}function bl(t){let e,l,n=t[27].message+"",o;return{c(){e=d("td"),l=d("span"),o=Z(n),a(l,"class","message svelte-1agpyzi"),a(e,"class","svelte-1agpyzi")},m(r,i){O(r,e,i),s(e,l),s(l,o)},p(r,i){i[0]&1&&n!==(n=r[27].message+"")&&U(o,n)},d(r){r&&N(e)}}}function wl(t){let e,l,n,o,r,i,f,c,u,g,_,v,h,p,w,y,S=t[27].timestamp+"",k,z,H,M,q,B,F,A=t[27].level+"",j,C,E,T,m,R,L=t[27].service+"",D,X,Q,Y,G,V,P=t[27].host+"",J,K,x,ce,fe,re,Le=t[27].message+"",de,Me,me=t[27].meta&&Object.keys(t[27].meta).length>0,qe,ge,be,ue,se,ee=t[27].raw+"",te,he,$e,xe;function ot(){return t[15](t[27])}function De(){return t[16](t[27])}function ze(){return t[17](t[27])}function at(){return t[18](t[27])}function Ie(){return t[19](t[27])}function Te(){return t[20](t[27])}let le=me&&kl(t);return{c(){e=d("tr"),l=d("td"),n=d("div"),o=d("div"),r=d("h4"),r.textContent="Log Details",i=b(),f=d("div"),c=d("button"),c.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1agpyzi"><path fill="currentColor" d="M4 2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H4Zm5 7H4V3h5v6Z"></path><path fill="currentColor" d="M2 4v6a2 2 0 0 0 2 2h5v-1H4a1 1 0 0 1-1-1V4H2Z"></path></svg>
                        Copy Raw`,u=b(),g=d("button"),g.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1agpyzi"><path fill="currentColor" d="M3 2a1 1 0 0 0-1 1v2a1 1 0 0 1-1 1 1 1 0 0 1 1 1v2a1 1 0 0 0 1 1M9 2a1 1 0 0 1 1 1v2a1 1 0 0 0 1 1 1 1 0 0 0-1 1v2a1 1 0 0 1-1 1"></path></svg>
                        Copy JSON`,_=b(),v=d("div"),h=d("button"),p=d("span"),p.textContent="timestamp",w=b(),y=d("span"),k=Z(S),z=b(),H=d("button"),M=d("span"),M.textContent="level",q=b(),B=d("span"),F=d("span"),j=Z(A),C=b(),E=d("button"),T=d("span"),T.textContent="service",m=b(),R=d("span"),D=Z(L),X=b(),Q=d("button"),Y=d("span"),Y.textContent="host",G=b(),V=d("span"),J=Z(P),K=b(),x=d("div"),ce=d("span"),ce.textContent="message",fe=b(),re=d("span"),de=Z(Le),Me=b(),le&&le.c(),qe=b(),ge=d("div"),be=d("h5"),be.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1agpyzi"><path fill="currentColor" d="M1 2h10a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm0 1v6h10V3H1Zm1 1h2v1H2V4Zm3 0h5v1H5V4Zm-3 2h1v1H2V6Zm2 0h4v1H4V6Z"></path></svg>
                      Raw Log`,ue=b(),se=d("pre"),te=Z(ee),he=b(),a(r,"class","svelte-1agpyzi"),a(c,"class","action-btn svelte-1agpyzi"),a(c,"title","Copy raw log"),a(g,"class","action-btn svelte-1agpyzi"),a(g,"title","Copy as JSON"),a(f,"class","detail-actions svelte-1agpyzi"),a(o,"class","detail-header svelte-1agpyzi"),a(p,"class","field-name svelte-1agpyzi"),a(y,"class","field-value mono svelte-1agpyzi"),a(h,"class","detail-field clickable svelte-1agpyzi"),a(h,"title","Click to copy"),a(M,"class","field-name svelte-1agpyzi"),a(F,"class","level-badge-sm svelte-1agpyzi"),$(F,"background",ye(t[27].level)+"20"),$(F,"color",ye(t[27].level)),a(B,"class","field-value svelte-1agpyzi"),a(H,"class","detail-field clickable svelte-1agpyzi"),a(H,"title","Click to copy"),a(T,"class","field-name svelte-1agpyzi"),a(R,"class","field-value highlight-blue svelte-1agpyzi"),a(E,"class","detail-field clickable svelte-1agpyzi"),a(E,"title","Click to copy"),a(Y,"class","field-name svelte-1agpyzi"),a(V,"class","field-value highlight-purple svelte-1agpyzi"),a(Q,"class","detail-field clickable svelte-1agpyzi"),a(Q,"title","Click to copy"),a(v,"class","detail-grid svelte-1agpyzi"),a(ce,"class","field-name svelte-1agpyzi"),a(re,"class","field-value mono svelte-1agpyzi"),a(x,"class","detail-field full-width svelte-1agpyzi"),a(be,"class","svelte-1agpyzi"),a(se,"class","raw-log svelte-1agpyzi"),a(ge,"class","detail-section svelte-1agpyzi"),a(n,"class","log-detail svelte-1agpyzi"),a(l,"colspan",t[6]),a(l,"class","svelte-1agpyzi"),a(e,"class","detail-row svelte-1agpyzi")},m(Ze,I){O(Ze,e,I),s(e,l),s(l,n),s(n,o),s(o,r),s(o,i),s(o,f),s(f,c),s(f,u),s(f,g),s(n,_),s(n,v),s(v,h),s(h,p),s(h,w),s(h,y),s(y,k),s(v,z),s(v,H),s(H,M),s(H,q),s(H,B),s(B,F),s(F,j),s(v,C),s(v,E),s(E,T),s(E,m),s(E,R),s(R,D),s(v,X),s(v,Q),s(Q,Y),s(Q,G),s(Q,V),s(V,J),s(n,K),s(n,x),s(x,ce),s(x,fe),s(x,re),s(re,de),s(n,Me),le&&le.m(n,null),s(n,qe),s(n,ge),s(ge,be),s(ge,ue),s(ge,se),s(se,te),s(e,he),$e||(xe=[W(c,"click",pe(ot)),W(g,"click",pe(De)),W(h,"click",pe(ze)),W(H,"click",pe(at)),W(E,"click",pe(Ie)),W(Q,"click",pe(Te))],$e=!0)},p(Ze,I){t=Ze,I[0]&1&&S!==(S=t[27].timestamp+"")&&U(k,S),I[0]&1&&A!==(A=t[27].level+"")&&U(j,A),I[0]&1&&$(F,"background",ye(t[27].level)+"20"),I[0]&1&&$(F,"color",ye(t[27].level)),I[0]&1&&L!==(L=t[27].service+"")&&U(D,L),I[0]&1&&P!==(P=t[27].host+"")&&U(J,P),I[0]&1&&Le!==(Le=t[27].message+"")&&U(de,Le),I[0]&1&&(me=t[27].meta&&Object.keys(t[27].meta).length>0),me?le?le.p(t,I):(le=kl(t),le.c(),le.m(n,qe)):le&&(le.d(1),le=null),I[0]&1&&ee!==(ee=t[27].raw+"")&&U(te,ee),I[0]&64&&a(l,"colspan",t[6])},d(Ze){Ze&&N(e),le&&le.d(),$e=!1,_e(xe)}}}function kl(t){let e,l,n,o,r=ae(Object.entries(t[27].meta)),i=[];for(let f=0;f<r.length;f+=1)i[f]=yl(rl(t,r,f));return{c(){e=d("div"),l=d("h5"),l.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1agpyzi"><path fill="currentColor" d="M2 3h8v1H2V3Zm0 2h8v1H2V5Zm0 2h6v1H2V7Zm0 2h4v1H2V9Z"></path></svg>
                        Meta Fields`,n=b(),o=d("div");for(let f=0;f<i.length;f+=1)i[f].c();a(l,"class","svelte-1agpyzi"),a(o,"class","meta-grid svelte-1agpyzi"),a(e,"class","detail-section svelte-1agpyzi")},m(f,c){O(f,e,c),s(e,l),s(e,n),s(e,o);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,null)},p(f,c){if(c[0]&1){r=ae(Object.entries(f[27].meta));let u;for(u=0;u<r.length;u+=1){const g=rl(f,r,u);i[u]?i[u].p(g,c):(i[u]=yl(g),i[u].c(),i[u].m(o,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=r.length}},d(f){f&&N(e),Ce(i,f)}}}function yl(t){let e,l,n=t[30]+"",o,r,i,f=(typeof t[31]=="object"?JSON.stringify(t[31]):t[31])+"",c,u,g,_;function v(){return t[21](t[31])}return{c(){e=d("button"),l=d("span"),o=Z(n),r=b(),i=d("span"),c=Z(f),u=b(),a(l,"class","meta-key svelte-1agpyzi"),a(i,"class","meta-value svelte-1agpyzi"),a(e,"class","meta-field svelte-1agpyzi"),a(e,"title","Click to copy")},m(h,p){O(h,e,p),s(e,l),s(l,o),s(e,r),s(e,i),s(i,c),s(e,u),g||(_=W(e,"click",pe(v)),g=!0)},p(h,p){t=h,p[0]&1&&n!==(n=t[30]+"")&&U(o,n),p[0]&1&&f!==(f=(typeof t[31]=="object"?JSON.stringify(t[31]):t[31])+"")&&U(c,f)},d(h){h&&N(e),g=!1,_()}}}function Cl(t,e){var B,F,A,j,C,E;let l,n=(B=e[1].find(Tl))==null?void 0:B.visible,o,r=(F=e[1].find(zl))==null?void 0:F.visible,i,f=(A=e[1].find(Ml))==null?void 0:A.visible,c,u=(j=e[1].find(Ll))==null?void 0:j.visible,g,_=(C=e[1].find(Sl))==null?void 0:C.visible,v,h,p,w,y=n&&vl(e),S=r&&_l(e),k=f&&gl(e),z=u&&ml(e),H=_&&bl(e);function M(){return e[14](e[27])}let q=((E=e[3])==null?void 0:E.id)===e[27].id&&wl(e);return{key:t,first:null,c(){var T;l=d("tr"),y&&y.c(),o=b(),S&&S.c(),i=b(),k&&k.c(),c=b(),z&&z.c(),g=b(),H&&H.c(),v=b(),q&&q.c(),h=yt(),a(l,"class","log-row svelte-1agpyzi"),ve(l,"selected",((T=e[3])==null?void 0:T.id)===e[27].id),this.first=l},m(T,m){O(T,l,m),y&&y.m(l,null),s(l,o),S&&S.m(l,null),s(l,i),k&&k.m(l,null),s(l,c),z&&z.m(l,null),s(l,g),H&&H.m(l,null),O(T,v,m),q&&q.m(T,m),O(T,h,m),p||(w=W(l,"click",M),p=!0)},p(T,m){var R,L,D,X,Q,Y,G;e=T,m[0]&2&&(n=(R=e[1].find(Tl))==null?void 0:R.visible),n?y?y.p(e,m):(y=vl(e),y.c(),y.m(l,o)):y&&(y.d(1),y=null),m[0]&2&&(r=(L=e[1].find(zl))==null?void 0:L.visible),r?S?S.p(e,m):(S=_l(e),S.c(),S.m(l,i)):S&&(S.d(1),S=null),m[0]&2&&(f=(D=e[1].find(Ml))==null?void 0:D.visible),f?k?k.p(e,m):(k=gl(e),k.c(),k.m(l,c)):k&&(k.d(1),k=null),m[0]&2&&(u=(X=e[1].find(Ll))==null?void 0:X.visible),u?z?z.p(e,m):(z=ml(e),z.c(),z.m(l,g)):z&&(z.d(1),z=null),m[0]&2&&(_=(Q=e[1].find(Sl))==null?void 0:Q.visible),_?H?H.p(e,m):(H=bl(e),H.c(),H.m(l,null)):H&&(H.d(1),H=null),m[0]&9&&ve(l,"selected",((Y=e[3])==null?void 0:Y.id)===e[27].id),((G=e[3])==null?void 0:G.id)===e[27].id?q?q.p(e,m):(q=wl(e),q.c(),q.m(h.parentNode,h)):q&&(q.d(1),q=null)},d(T){T&&(N(l),N(v),N(h)),y&&y.d(),S&&S.d(),k&&k.d(),z&&z.d(),H&&H.d(),q&&q.d(T),p=!1,w()}}}function Wn(t){let e,l,n,o,r,i,f,c=t[0].length+"",u,g,_,v,h,p=t[4]&&fl(t);function w(k,z){return k[0].length===0?jn:Zn}let y=w(t),S=y(t);return{c(){e=d("div"),l=d("div"),n=d("div"),o=d("button"),o.innerHTML=`<svg width="14" height="14" viewBox="0 0 14 14"><path fill="currentColor" d="M1 2h12v2H1V2Zm0 4h12v2H1V6Zm0 4h8v2H1v-2Z"></path></svg>
        Columns`,r=b(),p&&p.c(),i=b(),f=d("span"),u=Z(c),g=Z(" logs"),_=b(),S.c(),a(o,"class","toolbar-btn svelte-1agpyzi"),a(o,"title","Configure columns"),a(n,"class","column-menu-container svelte-1agpyzi"),a(f,"class","toolbar-info svelte-1agpyzi"),a(l,"class","table-toolbar svelte-1agpyzi"),a(e,"class","log-table-container svelte-1agpyzi")},m(k,z){O(k,e,z),s(e,l),s(l,n),s(n,o),s(n,r),p&&p.m(n,null),s(l,i),s(l,f),s(f,u),s(f,g),s(e,_),S.m(e,null),v||(h=W(o,"click",t[11]),v=!0)},p(k,z){k[4]?p?p.p(k,z):(p=fl(k),p.c(),p.m(n,null)):p&&(p.d(1),p=null),z[0]&1&&c!==(c=k[0].length+"")&&U(u,c),y===(y=w(k))&&S?S.p(k,z):(S.d(1),S=y(k),S&&(S.c(),S.m(e,null)))},i:oe,o:oe,d(k){k&&N(e),p&&p.d(),S.d(),v=!1,h()}}}function Fe(t){navigator.clipboard.writeText(t)}const Sl=t=>t.id==="message",Ll=t=>t.id==="host",Ml=t=>t.id==="service",zl=t=>t.id==="level",Tl=t=>t.id==="time",ql=t=>t.id==="time",Hl=t=>t.id==="level",Rl=t=>t.id==="service",El=t=>t.id==="host";function Fn(t,e,l){let n,o,{logs:r=[]}=e,i=null,f=!1,c=[{id:"time",label:"Time",visible:!0,width:90,minWidth:60},{id:"level",label:"Level",visible:!0,width:100,minWidth:60},{id:"service",label:"Service",visible:!0,width:150,minWidth:80},{id:"host",label:"Host",visible:!1,width:120,minWidth:80},{id:"message",label:"Message",visible:!0,width:null,minWidth:200}],u=null,g=0,_=0;Ye(()=>{const m=localStorage.getItem("purl_column_config");if(m)try{const R=JSON.parse(m);l(1,c=c.map(L=>({...L,...R.find(D=>D.id===L.id)})))}catch{}});function v(){localStorage.setItem("purl_column_config",JSON.stringify(c.map(m=>({id:m.id,visible:m.visible,width:m.width}))))}function h(m){l(3,i=(i==null?void 0:i.id)===m.id?null:m)}function p(m){const R=c.find(L=>L.id===m);R&&(R.visible=!R.visible,l(1,c),v())}function w(m,R){m.preventDefault();const L=c.find(D=>D.id===R);!L||L.id==="message"||(l(5,u=R),g=m.clientX,_=L.width,document.addEventListener("mousemove",y),document.addEventListener("mouseup",S))}function y(m){if(!u)return;const R=c.find(D=>D.id===u);if(!R)return;const L=m.clientX-g;R.width=Math.max(R.minWidth,_+L),l(1,c)}function S(){u&&v(),l(5,u=null),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",S)}function k(){l(1,c=[{id:"time",label:"Time",visible:!0,width:90,minWidth:60},{id:"level",label:"Level",visible:!0,width:100,minWidth:60},{id:"service",label:"Service",visible:!0,width:150,minWidth:80},{id:"host",label:"Host",visible:!1,width:120,minWidth:80},{id:"message",label:"Message",visible:!0,width:null,minWidth:200}]),v()}const z=()=>l(4,f=!f),H=m=>p(m.id),M=(m,R)=>w(R,m.id),q=m=>h(m),B=m=>Fe(m.raw),F=m=>Fe(JSON.stringify(m,null,2)),A=m=>Fe(m.timestamp),j=m=>Fe(m.level),C=m=>Fe(m.service),E=m=>Fe(m.host),T=m=>Fe(String(m));return t.$$set=m=>{"logs"in m&&l(0,r=m.logs)},t.$$.update=()=>{t.$$.dirty[0]&2&&l(2,n=c.filter(m=>m.visible)),t.$$.dirty[0]&4&&l(6,o=n.length)},[r,c,n,i,f,u,o,h,p,w,k,z,H,M,q,B,F,A,j,C,E,T]}class Pn extends Ae{constructor(e){super(),Oe(this,e,Fn,Wn,Ee,{logs:0},null,[-1,-1])}}function Bl(t){let e,l,n,o,r=Re(t[5])+"",i,f,c;return{c(){e=d("div"),l=b(),n=d("div"),o=d("span"),i=Z(r),f=b(),c=d("span"),c.textContent="Errors",a(e,"class","stat-divider svelte-1cnat85"),a(o,"class","stat-value svelte-1cnat85"),a(c,"class","stat-label svelte-1cnat85"),a(n,"class","stat error svelte-1cnat85")},m(u,g){O(u,e,g),O(u,l,g),O(u,n,g),s(n,o),s(o,i),s(n,f),s(n,c)},p(u,g){g&32&&r!==(r=Re(u[5])+"")&&U(i,r)},d(u){u&&(N(e),N(l),N(n))}}}function Nl(t){let e,l,n,o,r=Re(t[4])+"",i,f,c;return{c(){e=d("div"),l=b(),n=d("div"),o=d("span"),i=Z(r),f=b(),c=d("span"),c.textContent="Warnings",a(e,"class","stat-divider svelte-1cnat85"),a(o,"class","stat-value svelte-1cnat85"),a(c,"class","stat-label svelte-1cnat85"),a(n,"class","stat warning svelte-1cnat85")},m(u,g){O(u,e,g),O(u,l,g),O(u,n,g),s(n,o),s(o,i),s(n,f),s(n,c)},p(u,g){g&16&&r!==(r=Re(u[4])+"")&&U(i,r)},d(u){u&&(N(e),N(l),N(n))}}}function Ol(t){let e,l,n=Wl(t[3].data.time)+"",o,r,i,f,c,u,g,_,v,h=t[3].data.count.toLocaleString()+"",p,w,y,S,k=t[3].data.errors&&Al(t),z=t[3].data.warnings&&Zl(t),H=t[3].data.info&&jl(t);return{c(){e=d("div"),l=d("div"),o=Z(n),r=b(),i=d("div"),f=d("div"),c=d("span"),u=b(),g=d("span"),g.textContent="Total",_=b(),v=d("span"),p=Z(h),w=b(),k&&k.c(),y=b(),z&&z.c(),S=b(),H&&H.c(),a(l,"class","tooltip-time svelte-1cnat85"),a(c,"class","tooltip-dot total svelte-1cnat85"),a(v,"class","tooltip-value svelte-1cnat85"),a(f,"class","tooltip-row svelte-1cnat85"),a(i,"class","tooltip-stats svelte-1cnat85"),a(e,"class","tooltip svelte-1cnat85"),$(e,"left",t[3].x+"px"),$(e,"top",t[3].y+"px")},m(M,q){O(M,e,q),s(e,l),s(l,o),s(e,r),s(e,i),s(i,f),s(f,c),s(f,u),s(f,g),s(f,_),s(f,v),s(v,p),s(i,w),k&&k.m(i,null),s(i,y),z&&z.m(i,null),s(i,S),H&&H.m(i,null)},p(M,q){q&8&&n!==(n=Wl(M[3].data.time)+"")&&U(o,n),q&8&&h!==(h=M[3].data.count.toLocaleString()+"")&&U(p,h),M[3].data.errors?k?k.p(M,q):(k=Al(M),k.c(),k.m(i,y)):k&&(k.d(1),k=null),M[3].data.warnings?z?z.p(M,q):(z=Zl(M),z.c(),z.m(i,S)):z&&(z.d(1),z=null),M[3].data.info?H?H.p(M,q):(H=jl(M),H.c(),H.m(i,null)):H&&(H.d(1),H=null),q&8&&$(e,"left",M[3].x+"px"),q&8&&$(e,"top",M[3].y+"px")},d(M){M&&N(e),k&&k.d(),z&&z.d(),H&&H.d()}}}function Al(t){let e,l,n,o,r,i,f=t[3].data.errors.toLocaleString()+"",c;return{c(){e=d("div"),l=d("span"),n=b(),o=d("span"),o.textContent="Errors",r=b(),i=d("span"),c=Z(f),a(l,"class","tooltip-dot error svelte-1cnat85"),a(i,"class","tooltip-value svelte-1cnat85"),a(e,"class","tooltip-row svelte-1cnat85")},m(u,g){O(u,e,g),s(e,l),s(e,n),s(e,o),s(e,r),s(e,i),s(i,c)},p(u,g){g&8&&f!==(f=u[3].data.errors.toLocaleString()+"")&&U(c,f)},d(u){u&&N(e)}}}function Zl(t){let e,l,n,o,r,i,f=t[3].data.warnings.toLocaleString()+"",c;return{c(){e=d("div"),l=d("span"),n=b(),o=d("span"),o.textContent="Warnings",r=b(),i=d("span"),c=Z(f),a(l,"class","tooltip-dot warning svelte-1cnat85"),a(i,"class","tooltip-value svelte-1cnat85"),a(e,"class","tooltip-row svelte-1cnat85")},m(u,g){O(u,e,g),s(e,l),s(e,n),s(e,o),s(e,r),s(e,i),s(i,c)},p(u,g){g&8&&f!==(f=u[3].data.warnings.toLocaleString()+"")&&U(c,f)},d(u){u&&N(e)}}}function jl(t){let e,l,n,o,r,i,f=t[3].data.info.toLocaleString()+"",c;return{c(){e=d("div"),l=d("span"),n=b(),o=d("span"),o.textContent="Info",r=b(),i=d("span"),c=Z(f),a(l,"class","tooltip-dot info svelte-1cnat85"),a(i,"class","tooltip-value svelte-1cnat85"),a(e,"class","tooltip-row svelte-1cnat85")},m(u,g){O(u,e,g),s(e,l),s(e,n),s(e,o),s(e,r),s(e,i),s(i,c)},p(u,g){g&8&&f!==(f=u[3].data.info.toLocaleString()+"")&&U(c,f)},d(u){u&&N(e)}}}function Vn(t){let e,l,n,o,r,i,f,c,u,g,_,v,h,p,w=Re(t[1])+"",y,S,k,z,H,M,q,B,F=Re(t[6])+"",A,j,C,E,T,m,R,L,D,X,Q,Y,G,V=t[5]>0&&Bl(t),P=t[4]>0&&Nl(t),J=t[3].show&&t[3].data&&Ol(t);return{c(){e=d("div"),l=d("div"),n=d("div"),o=ne("svg"),r=ne("path"),i=b(),f=d("span"),f.textContent="Log Volume Over Time",c=b(),u=d("span"),g=Z(t[7]),_=b(),v=d("div"),h=d("div"),p=d("span"),y=Z(w),S=b(),k=d("span"),k.textContent="Total",z=b(),H=d("div"),M=b(),q=d("div"),B=d("span"),A=Z(F),j=b(),C=d("span"),C.textContent="Avg/bucket",E=b(),V&&V.c(),T=b(),P&&P.c(),m=b(),R=d("div"),L=d("canvas"),D=b(),J&&J.c(),X=b(),Q=d("div"),Q.innerHTML=`<div class="legend-item svelte-1cnat85"><span class="legend-dot info svelte-1cnat85"></span> <span>Info/Debug</span></div> <div class="legend-item svelte-1cnat85"><span class="legend-dot warning svelte-1cnat85"></span> <span>Warning</span></div> <div class="legend-item svelte-1cnat85"><span class="legend-dot error svelte-1cnat85"></span> <span>Error</span></div> <div class="legend-hint svelte-1cnat85"><svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1cnat85"><path fill="currentColor" d="M1 4h10v1H1V4Zm2-2h6v1H3V2Zm-2 4h10v1H1V6Z"></path></svg>
      Drag to zoom</div>`,a(r,"fill","currentColor"),a(r,"d","M1 14h14v1H1v-1Zm1-3h2v3H2v-3Zm3-2h2v5H5V9Zm3-3h2v8H8V6Zm3-2h2v10h-2V4Zm3-3h1v13h-1V1Z"),a(o,"width","16"),a(o,"height","16"),a(o,"viewBox","0 0 16 16"),a(o,"class","svelte-1cnat85"),a(f,"class","histogram-title svelte-1cnat85"),a(u,"class","time-range-badge svelte-1cnat85"),a(n,"class","header-left svelte-1cnat85"),a(p,"class","stat-value svelte-1cnat85"),a(k,"class","stat-label svelte-1cnat85"),a(h,"class","stat svelte-1cnat85"),a(H,"class","stat-divider svelte-1cnat85"),a(B,"class","stat-value avg svelte-1cnat85"),a(C,"class","stat-label svelte-1cnat85"),a(q,"class","stat svelte-1cnat85"),a(v,"class","header-stats svelte-1cnat85"),a(l,"class","histogram-header svelte-1cnat85"),a(L,"class","svelte-1cnat85"),a(R,"class","chart-wrapper svelte-1cnat85"),a(Q,"class","legend svelte-1cnat85"),a(e,"class","histogram-container svelte-1cnat85")},m(K,x){O(K,e,x),s(e,l),s(l,n),s(n,o),s(o,r),s(n,i),s(n,f),s(n,c),s(n,u),s(u,g),s(l,_),s(l,v),s(v,h),s(h,p),s(p,y),s(h,S),s(h,k),s(v,z),s(v,H),s(v,M),s(v,q),s(q,B),s(B,A),s(q,j),s(q,C),s(v,E),V&&V.m(v,null),s(v,T),P&&P.m(v,null),s(e,m),s(e,R),s(R,L),t[13](L),s(R,D),J&&J.m(R,null),s(e,X),s(e,Q),t[14](e),Y||(G=[W(L,"mousemove",t[8]),W(L,"mouseleave",t[9]),W(L,"mousedown",t[10]),W(L,"mouseup",t[11])],Y=!0)},p(K,[x]){x&128&&U(g,K[7]),x&2&&w!==(w=Re(K[1])+"")&&U(y,w),x&64&&F!==(F=Re(K[6])+"")&&U(A,F),K[5]>0?V?V.p(K,x):(V=Bl(K),V.c(),V.m(v,T)):V&&(V.d(1),V=null),K[4]>0?P?P.p(K,x):(P=Nl(K),P.c(),P.m(v,null)):P&&(P.d(1),P=null),K[3].show&&K[3].data?J?J.p(K,x):(J=Ol(K),J.c(),J.m(R,null)):J&&(J.d(1),J=null)},i:oe,o:oe,d(K){K&&N(e),V&&V.d(),P&&P.d(),t[13](null),J&&J.d(),t[14](null),Y=!1,_e(G)}}}function Re(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString()}function Dn(t){return t?new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}):""}function Wl(t){return t?new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):""}function In(t,e,l){let n,o,r,i,f,c,u;ke(t,xl,C=>l(12,c=C)),ke(t,Pe,C=>l(7,u=C));const g=it();let _,v,h={show:!1,x:0,y:0,data:null},p=-1,w=!1,y=null,S=null,k=null;function z(){const C=v==null?void 0:v.getBoundingClientRect();if(!C)return null;const E=C.width,T=100,m={left:50,right:20,top:10,bottom:30},R=E-m.left-m.right,L=T-m.top-m.bottom,D=Math.max(3,R/c.length-2);return{width:E,height:T,padding:m,chartWidth:R,chartHeight:L,barWidth:D,gap:2}}function H(){const C=_.getContext("2d"),E=z();if(!E)return;const{width:T,height:m,padding:R,chartHeight:L,barWidth:D,gap:X}=E;if(l(0,_.width=T*window.devicePixelRatio,_),l(0,_.height=m*window.devicePixelRatio,_),l(0,_.style.width=T+"px",_),l(0,_.style.height=m+"px",_),C.scale(window.devicePixelRatio,window.devicePixelRatio),C.clearRect(0,0,T,m),c.length===0)return;C.strokeStyle="#21262d",C.lineWidth=1;const Q=4;for(let V=0;V<=Q;V++){const P=R.top+L/Q*V;C.beginPath(),C.moveTo(R.left,P),C.lineTo(T-R.right,P),C.stroke();const J=Math.round(o-o/Q*V);C.fillStyle="#6e7681",C.font="10px SFMono-Regular, Consolas, monospace",C.textAlign="right",C.fillText(Re(J),R.left-8,P+3)}c.forEach((V,P)=>{const J=R.left+P*(D+X),K=V.count/o*L,x=V.errors?V.errors/V.count*K:0,ce=V.warnings?V.warnings/V.count*K:0,fe=K-x-ce;let re=m-R.bottom;fe>0&&(C.fillStyle=p===P?"#4ade80":"#3fb950",C.fillRect(J,re-fe,D,fe),re-=fe),ce>0&&(C.fillStyle=p===P?"#fbbf24":"#d29922",C.fillRect(J,re-ce,D,ce),re-=ce),x>0&&(C.fillStyle=p===P?"#f87171":"#f85149",C.fillRect(J,re-x,D,x)),p===P&&(C.strokeStyle="#58a6ff",C.lineWidth=2,C.strokeRect(J-1,m-R.bottom-K-1,D+2,K+2))}),k&&(C.fillStyle="rgba(88, 166, 255, 0.2)",C.strokeStyle="#58a6ff",C.lineWidth=1,C.fillRect(k.x,R.top,k.width,L),C.strokeRect(k.x,R.top,k.width,L));const Y=Math.min(6,c.length),G=Math.floor(c.length/Y);C.fillStyle="#6e7681",C.font="10px SFMono-Regular, Consolas, monospace",C.textAlign="center";for(let V=0;V<c.length;V+=G){const P=R.left+V*(D+X)+D/2,J=Dn(c[V].time);C.fillText(J,P,m-8)}C.strokeStyle="#30363d",C.lineWidth=1,C.beginPath(),C.moveTo(R.left,m-R.bottom),C.lineTo(T-R.right,m-R.bottom),C.stroke()}function M(C){const E=z();if(!E)return;const T=_.getBoundingClientRect(),m=C.clientX-T.left,{padding:R,barWidth:L,gap:D}=E,X=Math.floor((m-R.left)/(L+D));if(X>=0&&X<c.length&&m>=R.left){p=X;const Q=c[X];if(l(3,h={show:!0,x:C.clientX-T.left,y:C.clientY-T.top-10,data:Q}),w&&y!==null){S=X;const Y=R.left+Math.min(y,S)*(L+D),G=R.left+(Math.max(y,S)+1)*(L+D)-D;k={x:Y,width:G-Y},H()}}else p=-1,l(3,h.show=!1,h);H()}function q(){p=-1,l(3,h.show=!1,h),w||(k=null),H()}function B(C){const E=z();if(!E)return;const T=_.getBoundingClientRect(),m=C.clientX-T.left,{padding:R,barWidth:L,gap:D}=E,X=Math.floor((m-R.left)/(L+D));X>=0&&X<c.length&&(w=!0,y=X,S=X)}function F(){var C,E;if(w&&y!==null&&S!==null&&y!==S){const T=Math.min(y,S),m=Math.max(y,S),R=(C=c[T])==null?void 0:C.time,L=(E=c[m])==null?void 0:E.time;R&&L&&g("zoom",{start:R,end:L})}w=!1,y=null,S=null,k=null,H()}Ye(()=>{const C=new ResizeObserver(()=>{c.length>0&&H()});return C.observe(v),()=>C.disconnect()});function A(C){Ve[C?"unshift":"push"](()=>{_=C,l(0,_)})}function j(C){Ve[C?"unshift":"push"](()=>{v=C,l(2,v)})}return t.$$.update=()=>{t.$$.dirty&4096&&l(1,n=c.reduce((C,E)=>C+E.count,0)),t.$$.dirty&4096&&(o=Math.max(...c.map(C=>C.count),1)),t.$$.dirty&4098&&l(6,r=c.length>0?Math.round(n/c.length):0),t.$$.dirty&4096&&l(5,i=c.reduce((C,E)=>C+(E.errors||0),0)),t.$$.dirty&4096&&l(4,f=c.reduce((C,E)=>C+(E.warnings||0),0)),t.$$.dirty&4097&&c.length>0&&_&&H()},[_,n,v,h,f,i,r,u,M,q,B,F,c,A,j]}class Un extends Ae{constructor(e){super(),Oe(this,e,In,Vn,Ee,{})}}function Fl(t,e,l){const n=t.slice();return n[22]=e[l],n}function Jn(t){let e,l=ae(t[0]),n=[];for(let o=0;o<l.length;o+=1)n[o]=Pl(Fl(t,l,o));return{c(){e=d("ul");for(let o=0;o<n.length;o+=1)n[o].c();a(e,"class","svelte-1octqfx")},m(o,r){O(o,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(o,r){if(r&193){l=ae(o[0]);let i;for(i=0;i<l.length;i+=1){const f=Fl(o,l,i);n[i]?n[i].p(f,r):(n[i]=Pl(f),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(o){o&&N(e),Ce(n,o)}}}function Xn(t){let e;return{c(){e=d("p"),e.textContent="No saved searches",a(e,"class","empty svelte-1octqfx")},m(l,n){O(l,e,n)},p:oe,d(l){l&&N(e)}}}function Pl(t){let e,l,n,o=t[22].name+"",r,i,f,c=t[22].query+"",u,g,_,v,h,p;function w(){return t[12](t[22])}function y(){return t[13](t[22])}return{c(){e=d("li"),l=d("button"),n=d("span"),r=Z(o),i=b(),f=d("span"),u=Z(c),g=b(),_=d("button"),_.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M9.5 3L3 9.5M3 3l6.5 6.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',v=b(),a(n,"class","name svelte-1octqfx"),a(f,"class","query svelte-1octqfx"),a(l,"class","search-item svelte-1octqfx"),a(_,"class","btn-delete svelte-1octqfx"),a(e,"class","svelte-1octqfx")},m(S,k){O(S,e,k),s(e,l),s(l,n),s(n,r),s(l,i),s(l,f),s(f,u),s(e,g),s(e,_),s(e,v),h||(p=[W(l,"click",w),W(_,"click",pe(y))],h=!0)},p(S,k){t=S,k&1&&o!==(o=t[22].name+"")&&U(r,o),k&1&&c!==(c=t[22].query+"")&&U(u,c)},d(S){S&&N(e),h=!1,_e(p)}}}function Vl(t){let e,l,n,o,r,i,f,c,u,g,_,v,h,p,w,y,S,k,z,H,M,q,B,F,A,j,C;return{c(){e=d("div"),l=d("div"),n=d("h3"),n.textContent="Save Search",o=b(),r=d("label"),i=Z(`Name
        `),f=d("input"),c=b(),u=d("label"),g=Z(`Query
        `),_=d("input"),v=b(),h=d("label"),p=Z(`Time Range
        `),w=d("select"),y=d("option"),y.textContent="5 minutes",S=d("option"),S.textContent="15 minutes",k=d("option"),k.textContent="1 hour",z=d("option"),z.textContent="24 hours",H=d("option"),H.textContent="7 days",M=b(),q=d("div"),B=d("button"),B.textContent="Cancel",F=b(),A=d("button"),A.textContent="Save",a(n,"class","svelte-1octqfx"),a(f,"type","text"),a(f,"placeholder","Error logs"),a(f,"class","svelte-1octqfx"),a(r,"class","svelte-1octqfx"),a(_,"type","text"),a(_,"placeholder","level:ERROR"),a(_,"class","svelte-1octqfx"),a(u,"class","svelte-1octqfx"),y.__value="5m",ie(y,y.__value),S.__value="15m",ie(S,S.__value),k.__value="1h",ie(k,k.__value),z.__value="24h",ie(z,z.__value),H.__value="7d",ie(H,H.__value),a(w,"class","svelte-1octqfx"),t[4]===void 0&&st(()=>t[16].call(w)),a(h,"class","svelte-1octqfx"),a(B,"class","btn svelte-1octqfx"),a(A,"class","btn primary svelte-1octqfx"),a(q,"class","actions svelte-1octqfx"),a(l,"class","modal svelte-1octqfx"),a(l,"role","document"),a(e,"class","modal-overlay svelte-1octqfx"),a(e,"role","dialog"),a(e,"aria-modal","true")},m(E,T){O(E,e,T),s(e,l),s(l,n),s(l,o),s(l,r),s(r,i),s(r,f),ie(f,t[2]),s(l,c),s(l,u),s(u,g),s(u,_),ie(_,t[3]),s(l,v),s(l,h),s(h,p),s(h,w),s(w,y),s(w,S),s(w,k),s(w,z),s(w,H),ft(w,t[4],!0),s(l,M),s(l,q),s(q,B),s(q,F),s(q,A),j||(C=[W(f,"input",t[14]),W(_,"input",t[15]),W(w,"change",t[16]),W(B,"click",t[17]),W(A,"click",t[5]),W(l,"click",pe(t[9])),W(l,"keydown",pe(t[10])),W(e,"click",t[18]),W(e,"keydown",t[19])],j=!0)},p(E,T){T&4&&f.value!==E[2]&&ie(f,E[2]),T&8&&_.value!==E[3]&&ie(_,E[3]),T&16&&ft(w,E[4])},d(E){E&&N(e),j=!1,_e(C)}}}function Qn(t){let e,l,n,o,r,i,f,c,u,g;function _(w,y){return w[0].length===0?Xn:Jn}let v=_(t),h=v(t),p=t[1]&&Vl(t);return{c(){e=d("div"),l=d("div"),n=d("h3"),n.textContent="Saved Searches",o=b(),r=d("button"),r.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14"><path fill="currentColor" d="M7 1v12M1 7h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>',i=b(),h.c(),f=b(),p&&p.c(),c=yt(),a(n,"class","svelte-1octqfx"),a(r,"class","btn-icon svelte-1octqfx"),a(r,"title","Save current search"),a(l,"class","header svelte-1octqfx"),a(e,"class","saved-searches svelte-1octqfx")},m(w,y){O(w,e,y),s(e,l),s(l,n),s(l,o),s(l,r),s(e,i),h.m(e,null),O(w,f,y),p&&p.m(w,y),O(w,c,y),u||(g=W(r,"click",t[11]),u=!0)},p(w,[y]){v===(v=_(w))&&h?h.p(w,y):(h.d(1),h=v(w),h&&(h.c(),h.m(e,null))),w[1]?p?p.p(w,y):(p=Vl(w),p.c(),p.m(c.parentNode,c)):p&&(p.d(1),p=null)},i:oe,o:oe,d(w){w&&(N(e),N(f),N(c)),h.d(),p&&p.d(w),u=!1,g()}}}const mt="/api";function Kn(t,e,l){const n=it();let o=[],r=!1,i="",f="",c="15m";Ye(u);async function u(){try{const j=await(await fetch(`${mt}/saved-searches`)).json();l(0,o=j.searches||[])}catch(A){console.error("Failed to load saved searches:",A)}}async function g(){if(!(!i||!f))try{await fetch(`${mt}/saved-searches`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,query:f,time_range:c})}),l(1,r=!1),l(2,i=""),l(3,f=""),await u()}catch(A){console.error("Failed to save search:",A)}}async function _(A){try{await fetch(`${mt}/saved-searches/${A}`,{method:"DELETE"}),await u()}catch(j){console.error("Failed to delete search:",j)}}function v(A){n("apply",{query:A.query,timeRange:A.time_range})}function h(A,j){l(3,f=A),l(4,c=j),l(1,r=!0)}function p(A){dt.call(this,t,A)}function w(A){dt.call(this,t,A)}const y=()=>l(1,r=!0),S=A=>v(A),k=A=>_(A.id);function z(){i=this.value,l(2,i)}function H(){f=this.value,l(3,f)}function M(){c=Yl(this),l(4,c)}return[o,r,i,f,c,g,_,v,h,p,w,y,S,k,z,H,M,()=>l(1,r=!1),()=>l(1,r=!1),A=>A.key==="Escape"&&l(1,r=!1)]}class Gn extends Ae{constructor(e){super(),Oe(this,e,Kn,Qn,Ee,{openSaveModal:8})}get openSaveModal(){return this.$$.ctx[8]}}function Dl(t,e,l){const n=t.slice();return n[26]=e[l],n}function Yn(t){let e,l=ae(t[0]),n=[];for(let o=0;o<l.length;o+=1)n[o]=Il(Dl(t,l,o));return{c(){e=d("ul");for(let o=0;o<n.length;o+=1)n[o].c();a(e,"class","svelte-ib4i4r")},m(o,r){O(o,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(o,r){if(r&209){l=ae(o[0]);let i;for(i=0;i<l.length;i+=1){const f=Dl(o,l,i);n[i]?n[i].p(f,r):(n[i]=Il(f),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(o){o&&N(e),Ce(n,o)}}}function $n(t){let e,l,n,o,r;return{c(){e=d("p"),e.textContent="No alerts configured",l=b(),n=d("button"),n.textContent="Enable notifications",a(e,"class","empty svelte-ib4i4r"),a(n,"class","btn-small svelte-ib4i4r")},m(i,f){O(i,e,f),O(i,l,f),O(i,n,f),o||(r=W(n,"click",ns),o=!0)},p:oe,d(i){i&&(N(e),N(l),N(n)),o=!1,r()}}}function xn(t){let e,l;return{c(){e=ne("svg"),l=ne("circle"),a(l,"cx","7"),a(l,"cy","7"),a(l,"r","5"),a(l,"fill","none"),a(l,"stroke","#6e7681"),a(l,"stroke-width","1.5"),a(e,"width","14"),a(e,"height","14"),a(e,"viewBox","0 0 14 14")},m(n,o){O(n,e,o),s(e,l)},d(n){n&&N(e)}}}function es(t){let e,l;return{c(){e=ne("svg"),l=ne("circle"),a(l,"cx","7"),a(l,"cy","7"),a(l,"r","5"),a(l,"fill","#3fb950"),a(e,"width","14"),a(e,"height","14"),a(e,"viewBox","0 0 14 14")},m(n,o){O(n,e,o),s(e,l)},d(n){n&&N(e)}}}function Il(t){let e,l,n,o=t[26].name+"",r,i,f,c=(t[26].query||"All logs")+"",u,g,_=t[26].threshold+"",v,h,p=t[26].window_minutes+"",w,y,S,k,z,H,M,q,B,F;function A(){return t[11](t[26])}function j(R,L){return R[26].enabled?es:xn}let C=j(t),E=C(t);function T(){return t[12](t[26])}function m(){return t[13](t[26])}return{c(){e=d("li"),l=d("button"),n=d("span"),r=Z(o),i=b(),f=d("span"),u=Z(c),g=Z(" >= "),v=Z(_),h=Z(" in "),w=Z(p),y=Z("m"),S=b(),k=d("button"),E.c(),H=b(),M=d("button"),M.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M9.5 3L3 9.5M3 3l6.5 6.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',q=b(),a(n,"class","name svelte-ib4i4r"),a(f,"class","details svelte-ib4i4r"),a(l,"class","alert-info svelte-ib4i4r"),a(k,"class","btn-toggle svelte-ib4i4r"),a(k,"title",z=t[26].enabled?"Disable":"Enable"),a(M,"class","btn-delete svelte-ib4i4r"),a(e,"class","svelte-ib4i4r"),ve(e,"disabled",!t[26].enabled)},m(R,L){O(R,e,L),s(e,l),s(l,n),s(n,r),s(l,i),s(l,f),s(f,u),s(f,g),s(f,v),s(f,h),s(f,w),s(f,y),s(e,S),s(e,k),E.m(k,null),s(e,H),s(e,M),s(e,q),B||(F=[W(l,"click",A),W(k,"click",pe(T)),W(M,"click",pe(m))],B=!0)},p(R,L){t=R,L&1&&o!==(o=t[26].name+"")&&U(r,o),L&1&&c!==(c=(t[26].query||"All logs")+"")&&U(u,c),L&1&&_!==(_=t[26].threshold+"")&&U(v,_),L&1&&p!==(p=t[26].window_minutes+"")&&U(w,p),C!==(C=j(t))&&(E.d(1),E=C(t),E&&(E.c(),E.m(k,null))),L&1&&z!==(z=t[26].enabled?"Disable":"Enable")&&a(k,"title",z),L&1&&ve(e,"disabled",!t[26].enabled)},d(R){R&&N(e),E.d(),B=!1,_e(F)}}}function Ul(t){let e,l,n,o=t[2]?"Edit Alert":"Create Alert",r,i,f,c,u,g,_,v,h,p,w,y,S,k,z,H,M,q,B,F,A,j,C,E,T,m,R,L,D,X,Q,Y,G,V=t[3].notify_type!=="browser"&&Jl(t);return{c(){e=d("div"),l=d("div"),n=d("h3"),r=Z(o),i=b(),f=d("label"),c=Z(`Name
        `),u=d("input"),g=b(),_=d("label"),v=Z(`Query (optional)
        `),h=d("input"),p=b(),w=d("div"),y=d("label"),S=Z(`Threshold
          `),k=d("input"),z=b(),H=d("label"),M=Z(`Window (minutes)
          `),q=d("input"),B=b(),F=d("label"),A=Z(`Notification Type
        `),j=d("select"),C=d("option"),C.textContent="Browser",E=d("option"),E.textContent="Webhook",T=d("option"),T.textContent="Slack",m=b(),V&&V.c(),R=b(),L=d("div"),D=d("button"),D.textContent="Cancel",X=b(),Q=d("button"),Q.textContent="Save",a(n,"class","svelte-ib4i4r"),a(u,"type","text"),a(u,"placeholder","High error rate"),a(u,"class","svelte-ib4i4r"),a(f,"class","svelte-ib4i4r"),a(h,"type","text"),a(h,"placeholder","level:ERROR"),a(h,"class","svelte-ib4i4r"),a(_,"class","svelte-ib4i4r"),a(k,"type","number"),a(k,"min","1"),a(k,"class","svelte-ib4i4r"),a(y,"class","svelte-ib4i4r"),a(q,"type","number"),a(q,"min","1"),a(q,"class","svelte-ib4i4r"),a(H,"class","svelte-ib4i4r"),a(w,"class","row svelte-ib4i4r"),C.__value="browser",ie(C,C.__value),E.__value="webhook",ie(E,E.__value),T.__value="slack",ie(T,T.__value),a(j,"class","svelte-ib4i4r"),t[3].notify_type===void 0&&st(()=>t[18].call(j)),a(F,"class","svelte-ib4i4r"),a(D,"class","btn svelte-ib4i4r"),a(Q,"class","btn primary svelte-ib4i4r"),a(L,"class","actions svelte-ib4i4r"),a(l,"class","modal svelte-ib4i4r"),a(l,"role","document"),a(e,"class","modal-overlay svelte-ib4i4r"),a(e,"role","dialog"),a(e,"aria-modal","true")},m(P,J){O(P,e,J),s(e,l),s(l,n),s(n,r),s(l,i),s(l,f),s(f,c),s(f,u),ie(u,t[3].name),s(l,g),s(l,_),s(_,v),s(_,h),ie(h,t[3].query),s(l,p),s(l,w),s(w,y),s(y,S),s(y,k),ie(k,t[3].threshold),s(w,z),s(w,H),s(H,M),s(H,q),ie(q,t[3].window_minutes),s(l,B),s(l,F),s(F,A),s(F,j),s(j,C),s(j,E),s(j,T),ft(j,t[3].notify_type,!0),s(l,m),V&&V.m(l,null),s(l,R),s(l,L),s(L,D),s(L,X),s(L,Q),Y||(G=[W(u,"input",t[14]),W(h,"input",t[15]),W(k,"input",t[16]),W(q,"input",t[17]),W(j,"change",t[18]),W(D,"click",t[20]),W(Q,"click",t[5]),W(l,"click",pe(t[8])),W(l,"keydown",pe(t[9])),W(e,"click",t[21]),W(e,"keydown",t[22])],Y=!0)},p(P,J){J&4&&o!==(o=P[2]?"Edit Alert":"Create Alert")&&U(r,o),J&8&&u.value!==P[3].name&&ie(u,P[3].name),J&8&&h.value!==P[3].query&&ie(h,P[3].query),J&8&&ut(k.value)!==P[3].threshold&&ie(k,P[3].threshold),J&8&&ut(q.value)!==P[3].window_minutes&&ie(q,P[3].window_minutes),J&8&&ft(j,P[3].notify_type),P[3].notify_type!=="browser"?V?V.p(P,J):(V=Jl(P),V.c(),V.m(l,R)):V&&(V.d(1),V=null)},d(P){P&&N(e),V&&V.d(),Y=!1,_e(G)}}}function Jl(t){let e,l=t[3].notify_type==="slack"?"Slack Webhook URL":"Webhook URL",n,o,r,i,f;return{c(){e=d("label"),n=Z(l),o=b(),r=d("input"),a(r,"type","url"),a(r,"placeholder","https://..."),a(r,"class","svelte-ib4i4r"),a(e,"class","svelte-ib4i4r")},m(c,u){O(c,e,u),s(e,n),s(e,o),s(e,r),ie(r,t[3].notify_target),i||(f=W(r,"input",t[19]),i=!0)},p(c,u){u&8&&l!==(l=c[3].notify_type==="slack"?"Slack Webhook URL":"Webhook URL")&&U(n,l),u&8&&r.value!==c[3].notify_target&&ie(r,c[3].notify_target)},d(c){c&&N(e),i=!1,f()}}}function ts(t){let e,l,n,o,r,i,f,c,u,g;function _(w,y){return w[0].length===0?$n:Yn}let v=_(t),h=v(t),p=t[1]&&Ul(t);return{c(){e=d("div"),l=d("div"),n=d("h3"),n.textContent="Alerts",o=b(),r=d("button"),r.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14"><path fill="currentColor" d="M7 1v12M1 7h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>',i=b(),h.c(),f=b(),p&&p.c(),c=yt(),a(n,"class","svelte-ib4i4r"),a(r,"class","btn-icon svelte-ib4i4r"),a(r,"title","Create alert"),a(l,"class","header svelte-ib4i4r"),a(e,"class","alerts-panel svelte-ib4i4r")},m(w,y){O(w,e,y),s(e,l),s(l,n),s(l,o),s(l,r),s(e,i),h.m(e,null),O(w,f,y),p&&p.m(w,y),O(w,c,y),u||(g=W(r,"click",t[10]),u=!0)},p(w,[y]){v===(v=_(w))&&h?h.p(w,y):(h.d(1),h=v(w),h&&(h.c(),h.m(e,null))),w[1]?p?p.p(w,y):(p=Ul(w),p.c(),p.m(c.parentNode,c)):p&&(p.d(1),p=null)},i:oe,o:oe,d(w){w&&(N(e),N(f),N(c)),h.d(),p&&p.d(w),u=!1,g()}}}const Xe="/api";function ls(t){"Notification"in window&&Notification.permission==="granted"&&new Notification(`Alert: ${t.name}`,{body:`${t.count} logs matched "${t.query}"`,icon:"/favicon.ico"})}function ns(){"Notification"in window&&Notification.requestPermission()}function ss(t,e,l){let n=[],o=!1,r=null,i={name:"",query:"",threshold:10,window_minutes:5,notify_type:"webhook",notify_target:""},f;Ye(()=>{c(),f=setInterval(u,6e4)}),rn(()=>{f&&clearInterval(f)});async function c(){try{const m=await(await fetch(`${Xe}/alerts`)).json();l(0,n=m.alerts||[])}catch(T){console.error("Failed to load alerts:",T)}}async function u(){try{const m=await(await fetch(`${Xe}/alerts/check`,{method:"POST"})).json();if(m.triggered&&m.triggered.length>0){for(const R of m.triggered)ls(R);await c()}}catch(T){console.error("Alert check failed:",T)}}function g(T=null){T?(l(2,r=T),l(3,i={name:T.name,query:T.query,threshold:T.threshold,window_minutes:T.window_minutes,notify_type:T.notify_type,notify_target:T.notify_target})):(l(2,r=null),l(3,i={name:"",query:"",threshold:10,window_minutes:5,notify_type:"webhook",notify_target:""})),l(1,o=!0)}async function _(){if(i.name)try{r?await fetch(`${Xe}/alerts/${r.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}):await fetch(`${Xe}/alerts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),l(1,o=!1),await c()}catch(T){console.error("Failed to save alert:",T)}}async function v(T){try{await fetch(`${Xe}/alerts/${T.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:T.enabled?0:1})}),await c()}catch(m){console.error("Failed to toggle alert:",m)}}async function h(T){if(confirm("Delete this alert?"))try{await fetch(`${Xe}/alerts/${T}`,{method:"DELETE"}),await c()}catch(m){console.error("Failed to delete alert:",m)}}function p(T){dt.call(this,t,T)}function w(T){dt.call(this,t,T)}const y=()=>g(),S=T=>g(T),k=T=>v(T),z=T=>h(T.id);function H(){i.name=this.value,l(3,i)}function M(){i.query=this.value,l(3,i)}function q(){i.threshold=ut(this.value),l(3,i)}function B(){i.window_minutes=ut(this.value),l(3,i)}function F(){i.notify_type=Yl(this),l(3,i)}function A(){i.notify_target=this.value,l(3,i)}return[n,o,r,i,g,_,v,h,p,w,y,S,k,z,H,M,q,B,F,A,()=>l(1,o=!1),()=>l(1,o=!1),T=>T.key==="Escape"&&l(1,o=!1)]}class is extends Ae{constructor(e){super(),Oe(this,e,ss,ts,Ee,{})}}function os(t){let e;return{c(){e=Z("Live Tail")},m(l,n){O(l,e,n)},d(l){l&&N(e)}}}function as(t){let e,l;return{c(){e=d("span"),l=Z(" Live"),a(e,"class","live-dot svelte-1q7u1ne")},m(n,o){O(n,e,o),O(n,l,o)},d(n){n&&(N(e),N(l))}}}function rs(t){let e;return{c(){e=Z("Refresh")},m(l,n){O(l,e,n)},d(l){l&&N(e)}}}function cs(t){let e;return{c(){e=d("span"),a(e,"class","spinner svelte-1q7u1ne")},m(l,n){O(l,e,n)},d(l){l&&N(e)}}}function Xl(t){let e,l,n,o,r,i;return{c(){e=d("span"),e.textContent="|",l=b(),n=d("span"),o=Z("Query: "),r=d("code"),i=Z(t[4]),a(e,"class","separator svelte-1q7u1ne"),a(r,"class","svelte-1q7u1ne")},m(f,c){O(f,e,c),O(f,l,c),O(f,n,c),s(n,o),s(n,r),s(r,i)},p(f,c){c&16&&U(i,f[4])},d(f){f&&(N(e),N(l),N(n))}}}function us(t){let e,l,n,o,r,i,f,c,u,g,_,v,h,p,w,y,S,k,z,H,M,q,B,F,A,j,C,E,T,m,R,L=t[6].toLocaleString()+"",D,X,Q,Y,G,V,P,J,K,x,ce,fe,re,Le,de,Me,me,qe,ge,be,ue,se,ee,te,he;function $e(I){t[15](I)}let xe={};t[4]!==void 0&&(xe.value=t[4]),r=new Hn({props:xe}),Ve.push(()=>gn(r,"value",$e)),r.$on("search",t[8]),u=new Bn({props:{value:t[3]}}),u.$on("change",t[9]);function ot(I,we){return I[0]?as:os}let De=ot(t),ze=De(t);function at(I,we){return I[5]?cs:rs}let Ie=at(t),Te=Ie(t),le=t[4]&&Xl(t);re=new An({}),re.$on("filter",t[10]);let Ze={};return de=new Gn({props:Ze}),t[16](de),de.$on("apply",t[11]),me=new is({}),be=new Un({}),se=new Pn({props:{logs:t[2]}}),{c(){e=d("main"),l=d("header"),n=d("div"),n.innerHTML='<svg width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="14" fill="none" stroke="currentColor" stroke-width="2"></circle><path d="M10 12 L22 12 M10 16 L22 16 M10 20 L18 20" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg> <span>Purl</span>',o=b(),We(r.$$.fragment),f=b(),c=d("div"),We(u.$$.fragment),g=b(),_=d("button"),ze.c(),h=b(),p=d("button"),p.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" class="svelte-1q7u1ne"><path fill="currentColor" d="M11 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2ZM7 10a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm3-6H4V2h6v2Z"></path></svg>',w=b(),y=d("div"),S=d("button"),k=ne("svg"),z=ne("path"),H=Z(`
          Export`),q=b(),B=d("div"),F=d("button"),F.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1q7u1ne"><path fill="currentColor" d="M2 1h8a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1Zm1 3h6v1H3V4Zm0 2h6v1H3V6Zm0 2h4v1H3V8Z"></path></svg>
            Export as CSV`,A=b(),j=d("button"),j.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1q7u1ne"><path fill="currentColor" d="M3 2a1 1 0 0 0-1 1v2a1 1 0 0 1-1 1 1 1 0 0 1 1 1v2a1 1 0 0 0 1 1M9 2a1 1 0 0 1 1 1v2a1 1 0 0 0 1 1 1 1 0 0 0-1 1v2a1 1 0 0 1-1 1"></path></svg>
            Export as JSON`,C=b(),E=d("button"),Te.c(),T=b(),m=d("div"),R=d("span"),D=Z(L),X=Z(" logs"),Q=b(),Y=d("span"),Y.textContent="|",G=b(),V=d("span"),P=Z("Time range: "),J=Z(t[3]),K=b(),le&&le.c(),x=b(),ce=d("div"),fe=d("aside"),We(re.$$.fragment),Le=b(),We(de.$$.fragment),Me=b(),We(me.$$.fragment),qe=b(),ge=d("div"),We(be.$$.fragment),ue=b(),We(se.$$.fragment),a(n,"class","logo svelte-1q7u1ne"),a(_,"class","btn svelte-1q7u1ne"),a(_,"title",v=t[0]?"Stop live tail":"Start live tail"),ve(_,"active",t[0]),a(p,"class","btn svelte-1q7u1ne"),a(p,"title","Save current search"),a(z,"d","M7 1v8M3 5l4 4 4-4M2 11v1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1"),a(z,"stroke","currentColor"),a(z,"stroke-width","1.5"),a(z,"fill","none"),a(z,"stroke-linecap","round"),a(z,"stroke-linejoin","round"),a(k,"width","14"),a(k,"height","14"),a(k,"viewBox","0 0 14 14"),a(k,"class","svelte-1q7u1ne"),a(S,"class","btn svelte-1q7u1ne"),a(S,"title","Export logs"),S.disabled=M=t[2].length===0,a(F,"class","svelte-1q7u1ne"),a(j,"class","svelte-1q7u1ne"),a(B,"class","export-menu svelte-1q7u1ne"),a(y,"class","export-dropdown svelte-1q7u1ne"),a(E,"class","btn svelte-1q7u1ne"),E.disabled=t[5],a(c,"class","header-actions svelte-1q7u1ne"),a(l,"class","svelte-1q7u1ne"),a(Y,"class","separator svelte-1q7u1ne"),a(m,"class","stats-bar svelte-1q7u1ne"),a(fe,"class","sidebar svelte-1q7u1ne"),a(ge,"class","main-content svelte-1q7u1ne"),a(ce,"class","container svelte-1q7u1ne"),a(e,"class","svelte-1q7u1ne")},m(I,we){O(I,e,we),s(e,l),s(l,n),s(l,o),Be(r,l,null),s(l,f),s(l,c),Be(u,c,null),s(c,g),s(c,_),ze.m(_,null),s(c,h),s(c,p),s(c,w),s(c,y),s(y,S),s(S,k),s(k,z),s(S,H),s(y,q),s(y,B),s(B,F),s(B,A),s(B,j),s(c,C),s(c,E),Te.m(E,null),s(e,T),s(e,m),s(m,R),s(R,D),s(R,X),s(m,Q),s(m,Y),s(m,G),s(m,V),s(V,P),s(V,J),s(m,K),le&&le.m(m,null),s(e,x),s(e,ce),s(ce,fe),Be(re,fe,null),s(fe,Le),Be(de,fe,null),s(fe,Me),Be(me,fe,null),s(ce,qe),s(ce,ge),Be(be,ge,null),s(ge,ue),Be(se,ge,null),ee=!0,te||(he=[W(_,"click",t[7]),W(p,"click",t[12]),W(F,"click",t[13]),W(j,"click",t[14]),W(E,"click",t[8])],te=!0)},p(I,[we]){const Ht={};!i&&we&16&&(i=!0,Ht.value=I[4],fn(()=>i=!1)),r.$set(Ht);const Rt={};we&8&&(Rt.value=I[3]),u.$set(Rt),De!==(De=ot(I))&&(ze.d(1),ze=De(I),ze&&(ze.c(),ze.m(_,null))),(!ee||we&1&&v!==(v=I[0]?"Stop live tail":"Start live tail"))&&a(_,"title",v),(!ee||we&1)&&ve(_,"active",I[0]),(!ee||we&4&&M!==(M=I[2].length===0))&&(S.disabled=M),Ie!==(Ie=at(I))&&(Te.d(1),Te=Ie(I),Te&&(Te.c(),Te.m(E,null))),(!ee||we&32)&&(E.disabled=I[5]),(!ee||we&64)&&L!==(L=I[6].toLocaleString()+"")&&U(D,L),(!ee||we&8)&&U(J,I[3]),I[4]?le?le.p(I,we):(le=Xl(I),le.c(),le.m(m,null)):le&&(le.d(1),le=null);const en={};de.$set(en);const Et={};we&4&&(Et.logs=I[2]),se.$set(Et)},i(I){ee||(He(r.$$.fragment,I),He(u.$$.fragment,I),He(re.$$.fragment,I),He(de.$$.fragment,I),He(me.$$.fragment,I),He(be.$$.fragment,I),He(se.$$.fragment,I),ee=!0)},o(I){je(r.$$.fragment,I),je(u.$$.fragment,I),je(re.$$.fragment,I),je(de.$$.fragment,I),je(me.$$.fragment,I),je(be.$$.fragment,I),je(se.$$.fragment,I),ee=!1},d(I){I&&N(e),Ne(r),Ne(u),ze.d(),Te.d(),le&&le.d(),Ne(re),t[16](null),Ne(de),Ne(me),Ne(be),Ne(se),te=!1,_e(he)}}}function Ql(t,e){const l=URL.createObjectURL(t),n=document.createElement("a");n.href=l,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(l)}function fs(t,e,l){let n,o,r,i,f;ke(t,Lt,M=>l(2,n=M)),ke(t,Pe,M=>l(3,o=M)),ke(t,tt,M=>l(4,r=M)),ke(t,kt,M=>l(5,i=M)),ke(t,Mt,M=>l(6,f=M));let c,u=!1,g;Ye(async()=>{await et()});function _(){l(0,u=!u),u?c=Cn():c&&(c.close(),c=null)}function v(){et()}function h(M){rt(Pe,o=M.detail,o),et()}function p(M){const{value:q}=M.detail;rt(tt,r=q,r),et()}function w(M){const{query:q,timeRange:B}=M.detail;rt(tt,r=q,r),rt(Pe,o=B,o),et()}function y(){g==null||g.openSaveModal(r,o)}function S(){if(n.length===0)return;const M=["timestamp","level","service","host","message"],q=[M.join(",")];for(const F of n){const A=M.map(j=>{const C=F[j]||"",E=String(C).replace(/"/g,'""');return/[,\n"]/.test(E)?`"${E}"`:E});q.push(A.join(","))}const B=new Blob([q.join(`
`)],{type:"text/csv;charset=utf-8;"});Ql(B,`purl-logs-${Date.now()}.csv`)}function k(){if(n.length===0)return;const M=n.map(B=>({timestamp:B.timestamp,level:B.level,service:B.service,host:B.host,message:B.message,meta:B.meta||{}})),q=new Blob([JSON.stringify(M,null,2)],{type:"application/json"});Ql(q,`purl-logs-${Date.now()}.json`)}function z(M){r=M,tt.set(r)}function H(M){Ve[M?"unshift":"push"](()=>{g=M,l(1,g)})}return[u,g,n,o,r,i,f,_,v,h,p,w,y,S,k,z,H]}class ds extends Ae{constructor(e){super(),Oe(this,e,fs,us,Ee,{})}}new ds({target:document.getElementById("app")});
