var Xa=Object.defineProperty;var Ga=(t,e,s)=>e in t?Xa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Zl=(t,e,s)=>Ga(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=s(a);fetch(a.href,r)}})();function he(){}function Wa(t){return t()}function Dn(){return Object.create(null)}function ze(t){t.forEach(Wa)}function Ua(t){return typeof t=="function"}function Ie(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ya(t){return Object.keys(t).length===0}function $a(t,...e){if(t==null){for(const i of e)i(void 0);return he}const s=t.subscribe(...e);return s.unsubscribe?()=>s.unsubscribe():s}function Be(t,e,s){t.$$.on_destroy.push($a(e,s))}function kl(t,e,s){return t.set(s),e}function l(t,e){t.appendChild(e)}function O(t,e,s){t.insertBefore(e,s||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function Se(t,e){for(let s=0;s<t.length;s+=1)t[s]&&t[s].d(e)}function o(t){return document.createElement(t)}function ie(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function N(t){return document.createTextNode(t)}function p(){return N(" ")}function It(){return N("")}function P(t,e,s,i){return t.addEventListener(e,s,i),()=>t.removeEventListener(e,s,i)}function Yl(t){return function(e){return e.preventDefault(),t.call(this,e)}}function He(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function n(t,e,s){s==null?t.removeAttribute(e):t.getAttribute(e)!==s&&t.setAttribute(e,s)}function Cl(t){return t===""?null:+t}function xa(t){return Array.from(t.childNodes)}function W(t,e){e=""+e,t.data!==e&&(t.data=e)}function _e(t,e){t.value=e??""}function ge(t,e,s,i){s==null?t.style.removeProperty(e):t.style.setProperty(e,s,"")}function Re(t,e,s){for(let i=0;i<t.options.length;i+=1){const a=t.options[i];if(a.__value===e){a.selected=!0;return}}(!s||e!==void 0)&&(t.selectedIndex=-1)}function xe(t){const e=t.querySelector(":checked");return e&&e.__value}function le(t,e,s){t.classList.toggle(e,!!s)}function eo(t,e,{bubbles:s=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:s,cancelable:i})}let Nt;function Ot(t){Nt=t}function $l(){if(!Nt)throw new Error("Function called outside component initialization");return Nt}function et(t){$l().$$.on_mount.push(t)}function Ja(t){$l().$$.on_destroy.push(t)}function Ft(){const t=$l();return(e,s,{cancelable:i=!1}={})=>{const a=t.$$.callbacks[e];if(a){const r=eo(e,s,{cancelable:i});return a.slice().forEach(c=>{c.call(t,r)}),!r.defaultPrevented}return!0}}function jl(t,e){const s=t.$$.callbacks[e.type];s&&s.slice().forEach(i=>i.call(this,e))}const _t=[],it=[];let gt=[];const Ql=[],to=Promise.resolve();let Xl=!1;function lo(){Xl||(Xl=!0,to.then(Ka))}function Ne(t){gt.push(t)}function so(t){Ql.push(t)}const Wl=new Set;let dt=0;function Ka(){if(dt!==0)return;const t=Nt;do{try{for(;dt<_t.length;){const e=_t[dt];dt++,Ot(e),no(e.$$)}}catch(e){throw _t.length=0,dt=0,e}for(Ot(null),_t.length=0,dt=0;it.length;)it.pop()();for(let e=0;e<gt.length;e+=1){const s=gt[e];Wl.has(s)||(Wl.add(s),s())}gt.length=0}while(_t.length);for(;Ql.length;)Ql.pop()();Xl=!1,Wl.clear(),Ot(t)}function no(t){if(t.fragment!==null){t.update(),ze(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ne)}}function io(t){const e=[],s=[];gt.forEach(i=>t.indexOf(i)===-1?e.push(i):s.push(i)),s.forEach(i=>i()),gt=e}const yl=new Set;let st;function Vn(){st={r:0,c:[],p:st}}function Zn(){st.r||ze(st.c),st=st.p}function qe(t,e){t&&t.i&&(yl.delete(t),t.i(e))}function Ee(t,e,s,i){if(t&&t.o){if(yl.has(t))return;yl.add(t),st.c.push(()=>{yl.delete(t),i&&(s&&t.d(1),i())}),t.o(e)}else i&&i()}function ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ao(t,e){t.d(1),e.delete(t.key)}function oo(t,e,s,i,a,r,c,h,f,u,v,b){let m=t.length,d=r.length,_=m;const k={};for(;_--;)k[t[_].key]=_;const w=[],z=new Map,g=new Map,M=[];for(_=d;_--;){const S=b(a,r,_),q=s(S);let B=c.get(q);B?M.push(()=>B.p(S,e)):(B=u(q,S),B.c()),z.set(q,w[_]=B),q in k&&g.set(q,Math.abs(_-k[q]))}const j=new Set,L=new Set;function C(S){qe(S,1),S.m(h,v),c.set(S.key,S),v=S.first,d--}for(;m&&d;){const S=w[d-1],q=t[m-1],B=S.key,I=q.key;S===q?(v=S.first,m--,d--):z.has(I)?!c.has(B)||j.has(B)?C(S):L.has(I)?m--:g.get(B)>g.get(I)?(L.add(B),C(S)):(j.add(I),m--):(f(q,c),m--)}for(;m--;){const S=t[m];z.has(S.key)||f(S,c)}for(;d;)C(w[d-1]);return ze(M),w}function co(t,e,s){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=s,s(t.$$.ctx[i]))}function Ge(t){t&&t.c()}function Ve(t,e,s){const{fragment:i,after_update:a}=t.$$;i&&i.m(e,s),Ne(()=>{const r=t.$$.on_mount.map(Wa).filter(Ua);t.$$.on_destroy?t.$$.on_destroy.push(...r):ze(r),t.$$.on_mount=[]}),a.forEach(Ne)}function Ze(t,e){const s=t.$$;s.fragment!==null&&(io(s.after_update),ze(s.on_destroy),s.fragment&&s.fragment.d(e),s.on_destroy=s.fragment=null,s.ctx=[])}function ro(t,e){t.$$.dirty[0]===-1&&(_t.push(t),lo(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ue(t,e,s,i,a,r,c=null,h=[-1]){const f=Nt;Ot(t);const u=t.$$={fragment:null,ctx:[],props:r,update:he,not_equal:a,bound:Dn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Dn(),dirty:h,skip_bound:!1,root:e.target||f.$$.root};c&&c(u.root);let v=!1;if(u.ctx=s?s(t,e.props||{},(b,m,...d)=>{const _=d.length?d[0]:m;return u.ctx&&a(u.ctx[b],u.ctx[b]=_)&&(!u.skip_bound&&u.bound[b]&&u.bound[b](_),v&&ro(t,b)),m}):[],u.update(),v=!0,ze(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const b=xa(e.target);u.fragment&&u.fragment.l(b),b.forEach(E)}else u.fragment&&u.fragment.c();e.intro&&qe(t.$$.fragment),Ve(t,e.target,e.anchor),Ka()}Ot(f)}class Je{constructor(){Zl(this,"$$");Zl(this,"$$set")}$destroy(){Ze(this,1),this.$destroy=he}$on(e,s){if(!Ua(s))return he;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(s),()=>{const a=i.indexOf(s);a!==-1&&i.splice(a,1)}}$set(e){this.$$set&&!Ya(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const uo="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(uo);const vt=[];function Fe(t,e=he){let s;const i=new Set;function a(h){if(Ie(t,h)&&(t=h,s)){const f=!vt.length;for(const u of i)u[1](),vt.push(u,t);if(f){for(let u=0;u<vt.length;u+=2)vt[u][0](vt[u+1]);vt.length=0}}}function r(h){a(h(t))}function c(h,f=he){const u=[h,f];return i.add(u),i.size===1&&(s=e(a,r)||he),h(t),()=>{i.delete(u),i.size===0&&s&&(s(),s=null)}}return{set:a,update:r,subscribe:c}}const xl=Fe([]),Gl=Fe(!1),Wn=Fe(null),Et=Fe(""),nt=Fe("15m"),es=Fe(0),ts=Fe([]),ls=Fe([]),ss=Fe([]),Qa=Fe([]),ho=Fe(null),Sl="/api";let Ul=null;async function Bt(){Ul&&(Ul.cancelled=!0);const t={cancelled:!1};Ul=t,Gl.set(!0),Wn.set(null);try{let e,s;Et.subscribe(c=>e=c)(),nt.subscribe(c=>s=c)();const i=new URLSearchParams({range:s,limit:500});e&&i.set("q",e);const a=await fetch(`${Sl}/logs?${i}`);if(t.cancelled)return;const r=await a.json();xl.set(r.hits||[]),es.set(r.total||0),Promise.all([Jl("level"),Jl("service"),Jl("host"),fo(),vo()]).catch(console.error)}catch(e){t.cancelled||(Wn.set(e.message),console.error("Search error:",e))}finally{t.cancelled||Gl.set(!1)}}async function Jl(t){try{let e;nt.subscribe(r=>e=r)();const s=new URLSearchParams({range:e,limit:10}),a=await(await fetch(`${Sl}/stats/fields/${t}?${s}`)).json();t==="level"&&ts.set(a.values||[]),t==="service"&&ls.set(a.values||[]),t==="host"&&ss.set(a.values||[])}catch(e){console.error(`Failed to fetch ${t} stats:`,e)}}async function fo(){try{let t;nt.subscribe(r=>t=r)();let e="1 minute";(t==="24h"||t==="7d")&&(e="1 hour"),t==="30d"&&(e="1 day");const s=new URLSearchParams({range:t,interval:e}),a=await(await fetch(`${Sl}/stats/histogram?${s}`)).json();Qa.set(a.buckets||[])}catch(t){console.error("Failed to fetch histogram:",t)}}async function vo(){try{const e=await(await fetch(`${Sl}/metrics/json`)).json();ho.set(e)}catch(t){console.error("Failed to fetch metrics:",t)}}function po(){const t=window.location.protocol==="https:"?"wss:":"ws:",e=new WebSocket(`${t}//${window.location.host}/api/logs/stream`);return e.onopen=()=>{console.log("WebSocket connected")},e.onmessage=s=>{try{const i=JSON.parse(s.data);i.type==="log"&&xl.update(a=>[i.data,...a.slice(0,499)])}catch(i){console.error("WebSocket message error:",i)}},e.onerror=s=>{console.error("WebSocket error:",s)},e.onclose=()=>{console.log("WebSocket disconnected")},e}function Un(t){return t?new Date(t).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):""}function Jn(t){return t?new Date(t).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):""}function Oe(t){return{EMERGENCY:"#f85149",ALERT:"#f85149",CRITICAL:"#f85149",ERROR:"#f85149",WARNING:"#d29922",NOTICE:"#58a6ff",INFO:"#3fb950",DEBUG:"#8b949e",TRACE:"#6e7681"}[t]||"#8b949e"}function Kn(t,e,s){const i=t.slice();return i[27]=e[s],i}function Qn(t,e,s){const i=t.slice();return i[30]=e[s],i[32]=s,i}function Xn(t){let e,s,i;return{c(){e=o("button"),e.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14"><path fill="currentColor" d="M7 5.586 3.707 2.293a1 1 0 0 0-1.414 1.414L5.586 7 2.293 10.293a1 1 0 1 0 1.414 1.414L7 8.414l3.293 3.293a1 1 0 0 0 1.414-1.414L8.414 7l3.293-3.293a1 1 0 0 0-1.414-1.414L7 5.586Z"></path></svg>',n(e,"class","clear-btn svelte-a8z0vj"),n(e,"title","Clear search")},m(a,r){O(a,e,r),s||(i=P(e,"click",t[14]),s=!0)},p:he,d(a){a&&E(e),s=!1,i()}}}function Gn(t){let e,s=ue(t[2]),i=[];for(let a=0;a<s.length;a+=1)i[a]=xn(Qn(t,s,a));return{c(){e=o("div");for(let a=0;a<i.length;a+=1)i[a].c();n(e,"class","suggestions svelte-a8z0vj")},m(a,r){O(a,e,r);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(a,r){if(r[0]&2060){s=ue(a[2]);let c;for(c=0;c<s.length;c+=1){const h=Qn(a,s,c);i[c]?i[c].p(h,r):(i[c]=xn(h),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(a){a&&E(e),Se(i,a)}}}function _o(t){let e,s;return{c(){e=ie("svg"),s=ie("circle"),n(s,"cx","6"),n(s,"cy","6"),n(s,"r","4"),n(s,"fill","currentColor"),n(e,"width","12"),n(e,"height","12"),n(e,"viewBox","0 0 12 12")},m(i,a){O(i,e,a),l(e,s)},d(i){i&&E(e)}}}function go(t){let e,s;return{c(){e=ie("svg"),s=ie("path"),n(s,"fill","currentColor"),n(s,"d","M6 1v10M1 6h10"),n(s,"stroke","currentColor"),n(s,"stroke-width","1.5"),n(e,"width","12"),n(e,"height","12"),n(e,"viewBox","0 0 12 12")},m(i,a){O(i,e,a),l(e,s)},d(i){i&&E(e)}}}function mo(t){let e,s;return{c(){e=ie("svg"),s=ie("path"),n(s,"fill","currentColor"),n(s,"d","M2 3h8v1H2V3zm0 2.5h8v1H2v-1zm0 2.5h5v1H2V8z"),n(e,"width","12"),n(e,"height","12"),n(e,"viewBox","0 0 12 12")},m(i,a){O(i,e,a),l(e,s)},d(i){i&&E(e)}}}function Yn(t){let e,s=t[30].hint+"",i;return{c(){e=o("span"),i=N(s),n(e,"class","suggestion-hint svelte-a8z0vj")},m(a,r){O(a,e,r),l(e,i)},p(a,r){r[0]&4&&s!==(s=a[30].hint+"")&&W(i,s)},d(a){a&&E(e)}}}function $n(t){let e,s=t[30].field+"",i;return{c(){e=o("span"),i=N(s),n(e,"class","suggestion-field svelte-a8z0vj")},m(a,r){O(a,e,r),l(e,i)},p(a,r){r[0]&4&&s!==(s=a[30].field+"")&&W(i,s)},d(a){a&&E(e)}}}function xn(t){let e,s,i,a,r=t[30].display+"",c,h,f,u,v,b;function m(g,M){return g[30].type==="field"?mo:g[30].type==="operator"?go:_o}let d=m(t),_=d(t),k=t[30].hint&&Yn(t),w=t[30].field&&$n(t);function z(){return t[17](t[30])}return{c(){e=o("button"),s=o("span"),_.c(),i=p(),a=o("span"),c=N(r),h=p(),k&&k.c(),f=p(),w&&w.c(),u=p(),n(s,"class","suggestion-icon svelte-a8z0vj"),n(a,"class","suggestion-text svelte-a8z0vj"),n(e,"class","suggestion-item svelte-a8z0vj"),le(e,"selected",t[32]===t[3])},m(g,M){O(g,e,M),l(e,s),_.m(s,null),l(e,i),l(e,a),l(a,c),l(e,h),k&&k.m(e,null),l(e,f),w&&w.m(e,null),l(e,u),v||(b=P(e,"mousedown",Yl(z)),v=!0)},p(g,M){t=g,d!==(d=m(t))&&(_.d(1),_=d(t),_&&(_.c(),_.m(s,null))),M[0]&4&&r!==(r=t[30].display+"")&&W(c,r),t[30].hint?k?k.p(t,M):(k=Yn(t),k.c(),k.m(e,f)):k&&(k.d(1),k=null),t[30].field?w?w.p(t,M):(w=$n(t),w.c(),w.m(e,u)):w&&(w.d(1),w=null),M[0]&8&&le(e,"selected",t[32]===t[3])},d(g){g&&E(e),_.d(),k&&k.d(),w&&w.d(),v=!1,b()}}}function ei(t){let e,s,i,a,r,c,h,f,u=ue(t[5]),v=[];for(let b=0;b<u.length;b+=1)v[b]=ti(Kn(t,u,b));return{c(){e=o("div"),s=o("div"),i=o("span"),i.textContent="Recent searches",a=p(),r=o("button"),r.textContent="Clear",c=p();for(let b=0;b<v.length;b+=1)v[b].c();n(r,"class","history-clear svelte-a8z0vj"),n(s,"class","history-header svelte-a8z0vj"),n(e,"class","suggestions history svelte-a8z0vj")},m(b,m){O(b,e,m),l(e,s),l(s,i),l(s,a),l(s,r),l(e,c);for(let d=0;d<v.length;d+=1)v[d]&&v[d].m(e,null);h||(f=P(r,"mousedown",Yl(t[13])),h=!0)},p(b,m){if(m[0]&4128){u=ue(b[5]);let d;for(d=0;d<u.length;d+=1){const _=Kn(b,u,d);v[d]?v[d].p(_,m):(v[d]=ti(_),v[d].c(),v[d].m(e,null))}for(;d<v.length;d+=1)v[d].d(1);v.length=u.length}},d(b){b&&E(e),Se(v,b),h=!1,f()}}}function ti(t){let e,s,i,a,r=t[27]+"",c,h,f,u;function v(){return t[18](t[27])}return{c(){e=o("button"),s=o("span"),s.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M6 1a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 9a4 4 0 1 1 4-4 4 4 0 0 1-4 4zm.5-4V3.5a.5.5 0 0 0-1 0v3a.5.5 0 0 0 .15.35l2 2a.5.5 0 0 0 .7-.7L6.5 6z"></path></svg>',i=p(),a=o("span"),c=N(r),h=p(),n(s,"class","suggestion-icon svelte-a8z0vj"),n(a,"class","suggestion-text history-query svelte-a8z0vj"),n(e,"class","suggestion-item svelte-a8z0vj")},m(b,m){O(b,e,m),l(e,s),l(e,i),l(e,a),l(a,c),l(e,h),f||(u=P(e,"mousedown",Yl(v)),f=!0)},p(b,m){t=b,m[0]&32&&r!==(r=t[27]+"")&&W(c,r)},d(b){b&&E(e),f=!1,u()}}}function bo(t){let e,s,i,a,r,c,h,f,u,v,b=t[0]&&Xn(t),m=t[1]&&t[2].length>0&&Gn(t),d=t[6]&&t[5].length>0&&ei(t);return{c(){e=o("div"),s=ie("svg"),i=ie("path"),a=p(),r=o("input"),c=p(),b&&b.c(),h=p(),m&&m.c(),f=p(),d&&d.c(),n(i,"fill","currentColor"),n(i,"d","M11.5 7a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-.82 4.74a6 6 0 1 1 1.06-1.06l3.04 3.04a.75.75 0 1 1-1.06 1.06l-3.04-3.04Z"),n(s,"class","search-icon svelte-a8z0vj"),n(s,"width","16"),n(s,"height","16"),n(s,"viewBox","0 0 16 16"),n(r,"type","text"),n(r,"placeholder","Search logs... level:ERROR AND service:api*"),n(r,"autocomplete","off"),n(r,"class","svelte-a8z0vj"),n(e,"class","search-bar svelte-a8z0vj")},m(_,k){O(_,e,k),l(e,s),l(s,i),l(e,a),l(e,r),t[15](r),_e(r,t[0]),l(e,c),b&&b.m(e,null),l(e,h),m&&m.m(e,null),l(e,f),d&&d.m(e,null),u||(v=[P(r,"input",t[16]),P(r,"keydown",t[7]),P(r,"input",t[8]),P(r,"focus",t[9]),P(r,"blur",t[10])],u=!0)},p(_,k){k[0]&1&&r.value!==_[0]&&_e(r,_[0]),_[0]?b?b.p(_,k):(b=Xn(_),b.c(),b.m(e,h)):b&&(b.d(1),b=null),_[1]&&_[2].length>0?m?m.p(_,k):(m=Gn(_),m.c(),m.m(e,f)):m&&(m.d(1),m=null),_[6]&&_[5].length>0?d?d.p(_,k):(d=ei(_),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i:he,o:he,d(_){_&&E(e),t[15](null),b&&b.d(),m&&m.d(),d&&d.d(),u=!1,ze(v)}}}const ko=10;function wo(t,e,s){let i,a,r;Be(t,ss,y=>s(19,i=y)),Be(t,ls,y=>s(20,a=y)),Be(t,ts,y=>s(21,r=y));let{value:c=""}=e;const h=Ft();let f=!1,u=[],v=-1,b,m=[],d=!1;const _=["AND","OR","NOT"],k=["level","service","host","message","timestamp"];et(()=>{const y=localStorage.getItem("purl_search_history");y&&s(5,m=JSON.parse(y))});function w(y){y.trim()&&(s(5,m=[y,...m.filter(F=>F!==y)].slice(0,ko)),localStorage.setItem("purl_search_history",JSON.stringify(m)))}function z(y){if(f&&u.length>0){if(y.key==="ArrowDown")y.preventDefault(),s(3,v=Math.min(v+1,u.length-1));else if(y.key==="ArrowUp")y.preventDefault(),s(3,v=Math.max(v-1,-1));else if(y.key==="Enter"&&v>=0){y.preventDefault(),C(u[v]);return}else if(y.key==="Escape"){s(1,f=!1),s(6,d=!1);return}}y.key==="Enter"&&(s(1,f=!1),s(6,d=!1),w(c),h("search"))}function g(){s(3,v=-1),L()}function M(){!c&&m.length>0?s(6,d=!0):L()}function j(){setTimeout(()=>{s(1,f=!1),s(6,d=!1)},200)}function L(){s(6,d=!1);const y=(b==null?void 0:b.selectionStart)||c.length,A=c.substring(0,y).split(/\s+/),U=A[A.length-1]||"";if(!U){s(1,f=!1);return}if(s(2,u=[]),U.includes(":")){const[V,K]=U.split(":"),G=V.toLowerCase();let Y=[];G==="level"?Y=r.map(D=>D.value):G==="service"?Y=a.map(D=>D.value):G==="host"&&(Y=i.map(D=>D.value));const Q=(K||"").toLowerCase();s(2,u=Y.filter(D=>D.toLowerCase().includes(Q)).slice(0,8).map(D=>({type:"value",text:`${V}:${D}`,display:D,field:V})))}else{const V=U.toLowerCase(),K=k.filter(Y=>Y.toLowerCase().startsWith(V)).map(Y=>({type:"field",text:`${Y}:`,display:Y,hint:"field"})),G=A.length>1?_.filter(Y=>Y.toLowerCase().startsWith(V)).map(Y=>({type:"operator",text:Y,display:Y,hint:"operator"})):[];s(2,u=[...K,...G].slice(0,8))}s(1,f=u.length>0)}function C(y){const F=(b==null?void 0:b.selectionStart)||c.length,A=c.substring(0,F),U=c.substring(F),V=A.lastIndexOf(" "),K=A.substring(0,V+1);s(0,c=K+y.text+(y.type==="field"?"":" ")+U.trimStart()),s(1,f=!1),s(3,v=-1),setTimeout(()=>b==null?void 0:b.focus(),0)}function S(y){s(0,c=y),s(6,d=!1),h("search")}function q(){s(5,m=[]),localStorage.removeItem("purl_search_history"),s(6,d=!1)}function B(){s(0,c=""),h("search")}function I(y){it[y?"unshift":"push"](()=>{b=y,s(4,b)})}function H(){c=this.value,s(0,c)}const R=y=>C(y),T=y=>S(y);return t.$$set=y=>{"value"in y&&s(0,c=y.value)},[c,f,u,v,b,m,d,z,g,M,j,C,S,q,B,I,H,R,T]}class yo extends Je{constructor(e){super(),Ue(this,e,wo,bo,Ie,{value:0},null,[-1,-1])}}function li(t,e,s){const i=t.slice();return i[9]=e[s],i}function si(t){let e,s=ue(t[3]),i=[];for(let a=0;a<s.length;a+=1)i[a]=ni(li(t,s,a));return{c(){e=o("div");for(let a=0;a<i.length;a+=1)i[a].c();n(e,"class","dropdown svelte-19hb89a")},m(a,r){O(a,e,r);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(a,r){if(r&25){s=ue(a[3]);let c;for(c=0;c<s.length;c+=1){const h=li(a,s,c);i[c]?i[c].p(h,r):(i[c]=ni(h),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(a){a&&E(e),Se(i,a)}}}function ni(t){let e,s,i;function a(){return t[7](t[9])}return{c(){e=o("button"),e.textContent=`${t[9].label} `,n(e,"class","dropdown-item svelte-19hb89a"),le(e,"active",t[0]===t[9].value)},m(r,c){O(r,e,c),s||(i=P(e,"click",a),s=!0)},p(r,c){t=r,c&9&&le(e,"active",t[0]===t[9].value)},d(r){r&&E(e),s=!1,i()}}}function zo(t){let e,s,i,a,r,c,h,f,u,v,b,m,d,_=t[1]&&si(t);return{c(){e=o("div"),s=o("button"),i=ie("svg"),a=ie("path"),r=p(),c=o("span"),h=N(t[2]),f=p(),u=ie("svg"),v=ie("path"),b=p(),_&&_.c(),n(a,"fill","currentColor"),n(a,"d","M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0Zm0 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM8 3a.75.75 0 0 1 .75.75v3.69l2.28 2.28a.75.75 0 0 1-1.06 1.06L7.22 8.03A.75.75 0 0 1 7 7.5v-3.75A.75.75 0 0 1 8 3Z"),n(i,"width","16"),n(i,"height","16"),n(i,"viewBox","0 0 16 16"),n(v,"fill","currentColor"),n(v,"d","M6 8.825a.5.5 0 0 1-.354-.146l-4-4a.5.5 0 0 1 .708-.708L6 7.617l3.646-3.646a.5.5 0 0 1 .708.708l-4 4A.5.5 0 0 1 6 8.825Z"),n(u,"class","chevron svelte-19hb89a"),n(u,"width","12"),n(u,"height","12"),n(u,"viewBox","0 0 12 12"),n(s,"class","picker-btn svelte-19hb89a"),n(e,"class","time-picker svelte-19hb89a")},m(k,w){O(k,e,w),l(e,s),l(s,i),l(i,a),l(s,r),l(s,c),l(c,h),l(s,f),l(s,u),l(u,v),l(e,b),_&&_.m(e,null),m||(d=[P(window,"click",t[6]),P(s,"click",He(t[5]))],m=!0)},p(k,[w]){w&4&&W(h,k[2]),k[1]?_?_.p(k,w):(_=si(k),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},i:he,o:he,d(k){k&&E(e),_&&_.d(),m=!1,ze(d)}}}function Co(t,e,s){let i,{value:a="15m"}=e;const r=Ft(),c=[{value:"5m",label:"Last 5 minutes"},{value:"15m",label:"Last 15 minutes"},{value:"30m",label:"Last 30 minutes"},{value:"1h",label:"Last 1 hour"},{value:"4h",label:"Last 4 hours"},{value:"12h",label:"Last 12 hours"},{value:"24h",label:"Last 24 hours"},{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"}];let h=!1;function f(m){s(0,a=m),s(1,h=!1),r("change",m)}function u(){s(1,h=!h)}function v(m){m.target.closest(".time-picker")||s(1,h=!1)}const b=m=>f(m.value);return t.$$set=m=>{"value"in m&&s(0,a=m.value)},t.$$.update=()=>{var m;t.$$.dirty&1&&s(2,i=((m=c.find(d=>d.value===a))==null?void 0:m.label)||a)},[a,h,i,c,f,u,v,b]}class jo extends Je{constructor(e){super(),Ue(this,e,Co,zo,Ie,{value:0})}}function ii(t,e,s){const i=t.slice();return i[29]=e[s],i}function ai(t,e,s){const i=t.slice();return i[29]=e[s],i}function oi(t,e,s){const i=t.slice();return i[29]=e[s],i}function ci(t){let e,s,i=ue(t[10]),a=[];for(let c=0;c<i.length;c+=1)a[c]=ri(oi(t,i,c));let r=t[10].length===0&&ui();return{c(){e=o("div");for(let c=0;c<a.length;c+=1)a[c].c();s=p(),r&&r.c(),n(e,"class","field-values svelte-4ctbet")},m(c,h){O(c,e,h);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);l(e,s),r&&r.m(e,null)},p(c,h){if(h[0]&25728){i=ue(c[10]);let f;for(f=0;f<i.length;f+=1){const u=oi(c,i,f);a[f]?a[f].p(u,h):(a[f]=ri(u),a[f].c(),a[f].m(e,s))}for(;f<a.length;f+=1)a[f].d(1);a.length=i.length}c[10].length===0?r||(r=ui(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(c){c&&E(e),Se(a,c),r&&r.d()}}}function ri(t){let e,s,i,a,r,c=t[29].value+"",h,f,u,v,b,m,d=mt(t[29].count)+"",_,k,w,z=t[14](t[29].count).toFixed(0)+"",g,M,j,L,C,S;function q(){return t[19](t[29])}function B(){return t[20](t[29])}return{c(){e=o("div"),s=o("button"),i=o("span"),a=p(),r=o("span"),h=N(c),f=p(),u=o("div"),v=o("div"),b=p(),m=o("span"),_=N(d),k=p(),w=o("span"),g=N(z),M=N("%"),j=p(),L=o("button"),L.innerHTML='<svg width="10" height="10" viewBox="0 0 10 10"><path stroke="currentColor" stroke-width="1.5" d="M2 2l6 6M8 2L2 8"></path></svg>',n(i,"class","value-dot svelte-4ctbet"),ge(i,"background",Oe(t[29].value)),n(r,"class","value-name svelte-4ctbet"),n(v,"class","value-bar svelte-4ctbet"),ge(v,"width",t[29].count/t[7]*100+"%"),ge(v,"background",Oe(t[29].value)+"40"),n(u,"class","value-bar-container svelte-4ctbet"),n(m,"class","value-count svelte-4ctbet"),n(w,"class","value-percent svelte-4ctbet"),n(s,"class","field-value svelte-4ctbet"),n(L,"class","exclude-btn svelte-4ctbet"),n(L,"title","Exclude"),n(e,"class","field-value-row svelte-4ctbet")},m(I,H){O(I,e,H),l(e,s),l(s,i),l(s,a),l(s,r),l(r,h),l(s,f),l(s,u),l(u,v),l(s,b),l(s,m),l(m,_),l(s,k),l(s,w),l(w,g),l(w,M),l(e,j),l(e,L),C||(S=[P(s,"click",q),P(L,"click",He(B))],C=!0)},p(I,H){t=I,H[0]&1024&&ge(i,"background",Oe(t[29].value)),H[0]&1024&&c!==(c=t[29].value+"")&&W(h,c),H[0]&1152&&ge(v,"width",t[29].count/t[7]*100+"%"),H[0]&1024&&ge(v,"background",Oe(t[29].value)+"40"),H[0]&1024&&d!==(d=mt(t[29].count)+"")&&W(_,d),H[0]&1024&&z!==(z=t[14](t[29].count).toFixed(0)+"")&&W(g,z)},d(I){I&&E(e),C=!1,ze(S)}}}function ui(t){let e;return{c(){e=o("div"),e.textContent="No data",n(e,"class","empty svelte-4ctbet")},m(s,i){O(s,e,i)},d(s){s&&E(e)}}}function hi(t){let e,s,i=ue(t[9]),a=[];for(let c=0;c<i.length;c+=1)a[c]=fi(ai(t,i,c));let r=t[9].length===0&&di();return{c(){e=o("div");for(let c=0;c<a.length;c+=1)a[c].c();s=p(),r&&r.c(),n(e,"class","field-values svelte-4ctbet")},m(c,h){O(c,e,h);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);l(e,s),r&&r.m(e,null)},p(c,h){if(h[0]&25152){i=ue(c[9]);let f;for(f=0;f<i.length;f+=1){const u=ai(c,i,f);a[f]?a[f].p(u,h):(a[f]=fi(u),a[f].c(),a[f].m(e,s))}for(;f<a.length;f+=1)a[f].d(1);a.length=i.length}c[9].length===0?r||(r=di(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(c){c&&E(e),Se(a,c),r&&r.d()}}}function fi(t){let e,s,i,a,r,c=t[29].value+"",h,f,u,v,b,m,d=mt(t[29].count)+"",_,k,w,z=t[14](t[29].count).toFixed(0)+"",g,M,j,L,C,S;function q(){return t[22](t[29])}function B(){return t[23](t[29])}return{c(){e=o("div"),s=o("button"),i=o("span"),a=p(),r=o("span"),h=N(c),f=p(),u=o("div"),v=o("div"),b=p(),m=o("span"),_=N(d),k=p(),w=o("span"),g=N(z),M=N("%"),j=p(),L=o("button"),L.innerHTML='<svg width="10" height="10" viewBox="0 0 10 10"><path stroke="currentColor" stroke-width="1.5" d="M2 2l6 6M8 2L2 8"></path></svg>',n(i,"class","value-dot svelte-4ctbet"),ge(i,"background","#58a6ff"),n(r,"class","value-name svelte-4ctbet"),n(v,"class","value-bar svelte-4ctbet"),ge(v,"width",t[29].count/t[6]*100+"%"),ge(v,"background","#58a6ff40"),n(u,"class","value-bar-container svelte-4ctbet"),n(m,"class","value-count svelte-4ctbet"),n(w,"class","value-percent svelte-4ctbet"),n(s,"class","field-value svelte-4ctbet"),n(L,"class","exclude-btn svelte-4ctbet"),n(L,"title","Exclude"),n(e,"class","field-value-row svelte-4ctbet")},m(I,H){O(I,e,H),l(e,s),l(s,i),l(s,a),l(s,r),l(r,h),l(s,f),l(s,u),l(u,v),l(s,b),l(s,m),l(m,_),l(s,k),l(s,w),l(w,g),l(w,M),l(e,j),l(e,L),C||(S=[P(s,"click",q),P(L,"click",He(B))],C=!0)},p(I,H){t=I,H[0]&512&&c!==(c=t[29].value+"")&&W(h,c),H[0]&576&&ge(v,"width",t[29].count/t[6]*100+"%"),H[0]&512&&d!==(d=mt(t[29].count)+"")&&W(_,d),H[0]&512&&z!==(z=t[14](t[29].count).toFixed(0)+"")&&W(g,z)},d(I){I&&E(e),C=!1,ze(S)}}}function di(t){let e;return{c(){e=o("div"),e.textContent="No data",n(e,"class","empty svelte-4ctbet")},m(s,i){O(s,e,i)},d(s){s&&E(e)}}}function vi(t){let e,s,i=ue(t[8]),a=[];for(let c=0;c<i.length;c+=1)a[c]=pi(ii(t,i,c));let r=t[8].length===0&&_i();return{c(){e=o("div");for(let c=0;c<a.length;c+=1)a[c].c();s=p(),r&&r.c(),n(e,"class","field-values svelte-4ctbet")},m(c,h){O(c,e,h);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);l(e,s),r&&r.m(e,null)},p(c,h){if(h[0]&24864){i=ue(c[8]);let f;for(f=0;f<i.length;f+=1){const u=ii(c,i,f);a[f]?a[f].p(u,h):(a[f]=pi(u),a[f].c(),a[f].m(e,s))}for(;f<a.length;f+=1)a[f].d(1);a.length=i.length}c[8].length===0?r||(r=_i(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(c){c&&E(e),Se(a,c),r&&r.d()}}}function pi(t){let e,s,i,a,r,c=t[29].value+"",h,f,u,v,b,m,d=mt(t[29].count)+"",_,k,w,z=t[14](t[29].count).toFixed(0)+"",g,M,j,L,C,S;function q(){return t[25](t[29])}function B(){return t[26](t[29])}return{c(){e=o("div"),s=o("button"),i=o("span"),a=p(),r=o("span"),h=N(c),f=p(),u=o("div"),v=o("div"),b=p(),m=o("span"),_=N(d),k=p(),w=o("span"),g=N(z),M=N("%"),j=p(),L=o("button"),L.innerHTML='<svg width="10" height="10" viewBox="0 0 10 10"><path stroke="currentColor" stroke-width="1.5" d="M2 2l6 6M8 2L2 8"></path></svg>',n(i,"class","value-dot svelte-4ctbet"),ge(i,"background","#a371f7"),n(r,"class","value-name svelte-4ctbet"),n(v,"class","value-bar svelte-4ctbet"),ge(v,"width",t[29].count/t[5]*100+"%"),ge(v,"background","#a371f740"),n(u,"class","value-bar-container svelte-4ctbet"),n(m,"class","value-count svelte-4ctbet"),n(w,"class","value-percent svelte-4ctbet"),n(s,"class","field-value svelte-4ctbet"),n(L,"class","exclude-btn svelte-4ctbet"),n(L,"title","Exclude"),n(e,"class","field-value-row svelte-4ctbet")},m(I,H){O(I,e,H),l(e,s),l(s,i),l(s,a),l(s,r),l(r,h),l(s,f),l(s,u),l(u,v),l(s,b),l(s,m),l(m,_),l(s,k),l(s,w),l(w,g),l(w,M),l(e,j),l(e,L),C||(S=[P(s,"click",q),P(L,"click",He(B))],C=!0)},p(I,H){t=I,H[0]&256&&c!==(c=t[29].value+"")&&W(h,c),H[0]&288&&ge(v,"width",t[29].count/t[5]*100+"%"),H[0]&256&&d!==(d=mt(t[29].count)+"")&&W(_,d),H[0]&256&&z!==(z=t[14](t[29].count).toFixed(0)+"")&&W(g,z)},d(I){I&&E(e),C=!1,ze(S)}}}function _i(t){let e;return{c(){e=o("div"),e.textContent="No data",n(e,"class","empty svelte-4ctbet")},m(s,i){O(s,e,i)},d(s){s&&E(e)}}}function Mo(t){let e,s,i,a,r,c,h,f,u,v,b,m,d,_,k,w,z,g,M,j,L,C,S,q=t[3].length+"",B,I,H,R,T,y,F,A,U,V,K,G=t[2].length+"",Y,Q,D,J,$,x,ae,ce,Z,te,X,pe=t[1].length+"",ke,re,fe,de,ee=t[4].level&&ci(t),se=t[4].service&&hi(t),ne=t[4].host&&vi(t);return{c(){e=o("div"),s=o("div"),i=o("h3"),i.textContent="Fields",a=p(),r=o("div"),c=o("button"),c.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M2 4l4 4 4-4"></path></svg>',h=p(),f=o("button"),f.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M2 8l4-4 4 4"></path></svg>',u=p(),v=o("div"),b=ie("svg"),m=ie("path"),d=p(),_=o("input"),k=p(),w=o("div"),z=o("button"),g=ie("svg"),M=ie("path"),j=p(),L=o("span"),L.textContent="level",C=p(),S=o("span"),B=N(q),I=p(),ee&&ee.c(),H=p(),R=o("div"),T=o("button"),y=ie("svg"),F=ie("path"),A=p(),U=o("span"),U.textContent="service",V=p(),K=o("span"),Y=N(G),Q=p(),se&&se.c(),D=p(),J=o("div"),$=o("button"),x=ie("svg"),ae=ie("path"),ce=p(),Z=o("span"),Z.textContent="host",te=p(),X=o("span"),ke=N(pe),re=p(),ne&&ne.c(),n(i,"class","svelte-4ctbet"),n(c,"class","action-btn svelte-4ctbet"),n(c,"title","Expand all"),n(f,"class","action-btn svelte-4ctbet"),n(f,"title","Collapse all"),n(r,"class","header-actions svelte-4ctbet"),n(s,"class","fields-header svelte-4ctbet"),n(m,"fill","currentColor"),n(m,"d","M8.5 5.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-.5 3.2a4 4 0 1 1 .7-.7l2.1 2.1a.5.5 0 0 1-.7.7L8 8.7Z"),n(b,"width","12"),n(b,"height","12"),n(b,"viewBox","0 0 12 12"),n(b,"class","svelte-4ctbet"),n(_,"type","text"),n(_,"placeholder","Filter fields..."),n(_,"class","svelte-4ctbet"),n(v,"class","field-search svelte-4ctbet"),n(M,"fill","currentColor"),n(M,"d","M4.7 10a.5.5 0 0 1-.354-.854L7.293 6 4.346 3.054a.5.5 0 0 1 .708-.708l3.3 3.3a.5.5 0 0 1 0 .708l-3.3 3.3A.5.5 0 0 1 4.7 10Z"),n(g,"class","chevron svelte-4ctbet"),n(g,"width","12"),n(g,"height","12"),n(g,"viewBox","0 0 12 12"),le(g,"expanded",t[4].level),n(L,"class","section-name svelte-4ctbet"),n(S,"class","section-count svelte-4ctbet"),n(z,"class","section-header svelte-4ctbet"),n(w,"class","field-section svelte-4ctbet"),n(F,"fill","currentColor"),n(F,"d","M4.7 10a.5.5 0 0 1-.354-.854L7.293 6 4.346 3.054a.5.5 0 0 1 .708-.708l3.3 3.3a.5.5 0 0 1 0 .708l-3.3 3.3A.5.5 0 0 1 4.7 10Z"),n(y,"class","chevron svelte-4ctbet"),n(y,"width","12"),n(y,"height","12"),n(y,"viewBox","0 0 12 12"),le(y,"expanded",t[4].service),n(U,"class","section-name svelte-4ctbet"),n(K,"class","section-count svelte-4ctbet"),n(T,"class","section-header svelte-4ctbet"),n(R,"class","field-section svelte-4ctbet"),n(ae,"fill","currentColor"),n(ae,"d","M4.7 10a.5.5 0 0 1-.354-.854L7.293 6 4.346 3.054a.5.5 0 0 1 .708-.708l3.3 3.3a.5.5 0 0 1 0 .708l-3.3 3.3A.5.5 0 0 1 4.7 10Z"),n(x,"class","chevron svelte-4ctbet"),n(x,"width","12"),n(x,"height","12"),n(x,"viewBox","0 0 12 12"),le(x,"expanded",t[4].host),n(Z,"class","section-name svelte-4ctbet"),n(X,"class","section-count svelte-4ctbet"),n($,"class","section-header svelte-4ctbet"),n(J,"class","field-section svelte-4ctbet"),n(e,"class","fields-sidebar svelte-4ctbet")},m(ve,me){O(ve,e,me),l(e,s),l(s,i),l(s,a),l(s,r),l(r,c),l(r,h),l(r,f),l(e,u),l(e,v),l(v,b),l(b,m),l(v,d),l(v,_),_e(_,t[0]),l(e,k),l(e,w),l(w,z),l(z,g),l(g,M),l(z,j),l(z,L),l(z,C),l(z,S),l(S,B),l(w,I),ee&&ee.m(w,null),l(e,H),l(e,R),l(R,T),l(T,y),l(y,F),l(T,A),l(T,U),l(T,V),l(T,K),l(K,Y),l(R,Q),se&&se.m(R,null),l(e,D),l(e,J),l(J,$),l($,x),l(x,ae),l($,ce),l($,Z),l($,te),l($,X),l(X,ke),l(J,re),ne&&ne.m(J,null),fe||(de=[P(c,"click",t[15]),P(f,"click",t[16]),P(_,"input",t[17]),P(z,"click",t[18]),P(T,"click",t[21]),P($,"click",t[24])],fe=!0)},p(ve,me){me[0]&1&&_.value!==ve[0]&&_e(_,ve[0]),me[0]&16&&le(g,"expanded",ve[4].level),me[0]&8&&q!==(q=ve[3].length+"")&&W(B,q),ve[4].level?ee?ee.p(ve,me):(ee=ci(ve),ee.c(),ee.m(w,null)):ee&&(ee.d(1),ee=null),me[0]&16&&le(y,"expanded",ve[4].service),me[0]&4&&G!==(G=ve[2].length+"")&&W(Y,G),ve[4].service?se?se.p(ve,me):(se=hi(ve),se.c(),se.m(R,null)):se&&(se.d(1),se=null),me[0]&16&&le(x,"expanded",ve[4].host),me[0]&2&&pe!==(pe=ve[1].length+"")&&W(ke,pe),ve[4].host?ne?ne.p(ve,me):(ne=vi(ve),ne.c(),ne.m(J,null)):ne&&(ne.d(1),ne=null)},i:he,o:he,d(ve){ve&&E(e),ee&&ee.d(),se&&se.d(),ne&&ne.d(),fe=!1,ze(de)}}}function mt(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t}function So(t,e,s){let i,a,r,c,h,f,u,v,b,m;Be(t,ss,A=>s(1,u=A)),Be(t,ls,A=>s(2,v=A)),Be(t,ts,A=>s(3,b=A)),Be(t,es,A=>s(27,m=A));const d=Ft();let _={level:!0,service:!0,host:!0},k="";function w(A){s(4,_[A]=!_[A],_)}function z(A){s(4,_={level:A,service:A,host:A})}function g(A,U,V=!1){d("filter",{field:A,value:`${V?"NOT ":""}${A}:${U}`})}function M(A){return Math.min(100,A/(m||1)*100)}const j=()=>z(!0),L=()=>z(!1);function C(){k=this.value,s(0,k)}const S=()=>w("level"),q=A=>g("level",A.value),B=A=>g("level",A.value,!0),I=()=>w("service"),H=A=>g("service",A.value),R=A=>g("service",A.value,!0),T=()=>w("host"),y=A=>g("host",A.value),F=A=>g("host",A.value,!0);return t.$$.update=()=>{t.$$.dirty[0]&9&&s(10,i=b.filter(A=>!k||A.value.toLowerCase().includes(k.toLowerCase()))),t.$$.dirty[0]&5&&s(9,a=v.filter(A=>!k||A.value.toLowerCase().includes(k.toLowerCase()))),t.$$.dirty[0]&3&&s(8,r=u.filter(A=>!k||A.value.toLowerCase().includes(k.toLowerCase()))),t.$$.dirty[0]&8&&s(7,c=Math.max(...b.map(A=>A.count),1)),t.$$.dirty[0]&4&&s(6,h=Math.max(...v.map(A=>A.count),1)),t.$$.dirty[0]&2&&s(5,f=Math.max(...u.map(A=>A.count),1))},[k,u,v,b,_,f,h,c,r,a,i,w,z,g,M,j,L,C,S,q,B,I,H,R,T,y,F]}class Lo extends Je{constructor(e){super(),Ue(this,e,So,Mo,Ie,{},null,[-1,-1])}}function gi(t,e,s){const i=t.slice();return i[27]=e[s],i[29]=s,i}function mi(t,e,s){const i=t.slice();return i[30]=e[s][0],i[31]=e[s][1],i}function bi(t,e,s){const i=t.slice();return i[34]=e[s],i}function ki(t,e,s){const i=t.slice();return i[34]=e[s],i}function wi(t){let e,s,i,a,r,c,h,f,u=ue(t[1]),v=[];for(let b=0;b<u.length;b+=1)v[b]=yi(ki(t,u,b));return{c(){e=o("div"),s=o("div"),i=o("span"),i.textContent="Show/Hide Columns",a=p(),r=o("button"),r.textContent="Reset",c=p();for(let b=0;b<v.length;b+=1)v[b].c();n(r,"class","reset-btn svelte-1agpyzi"),n(s,"class","column-menu-header svelte-1agpyzi"),n(e,"class","column-menu svelte-1agpyzi")},m(b,m){O(b,e,m),l(e,s),l(s,i),l(s,a),l(s,r),l(e,c);for(let d=0;d<v.length;d+=1)v[d]&&v[d].m(e,null);h||(f=P(r,"click",t[10]),h=!0)},p(b,m){if(m[0]&258){u=ue(b[1]);let d;for(d=0;d<u.length;d+=1){const _=ki(b,u,d);v[d]?v[d].p(_,m):(v[d]=yi(_),v[d].c(),v[d].m(e,null))}for(;d<v.length;d+=1)v[d].d(1);v.length=u.length}},d(b){b&&E(e),Se(v,b),h=!1,f()}}}function yi(t){let e,s,i,a,r,c=t[34].label+"",h,f,u,v;function b(){return t[12](t[34])}return{c(){e=o("label"),s=o("input"),a=p(),r=o("span"),h=N(c),f=p(),n(s,"type","checkbox"),s.checked=i=t[34].visible,n(s,"class","svelte-1agpyzi"),n(e,"class","column-option svelte-1agpyzi")},m(m,d){O(m,e,d),l(e,s),l(e,a),l(e,r),l(r,h),l(e,f),u||(v=P(s,"change",b),u=!0)},p(m,d){t=m,d[0]&2&&i!==(i=t[34].visible)&&(s.checked=i),d[0]&2&&c!==(c=t[34].label+"")&&W(h,c)},d(m){m&&E(e),u=!1,v()}}}function To(t){let e,s,i,a,r,c=[],h=new Map,f=ue(t[2]),u=[];for(let m=0;m<f.length;m+=1)u[m]=Ci(bi(t,f,m));let v=ue(t[0]);const b=m=>m[27].id||m[29];for(let m=0;m<v.length;m+=1){let d=gi(t,v,m),_=b(d);h.set(_,c[m]=Ai(_,d))}return{c(){e=o("table"),s=o("thead"),i=o("tr");for(let m=0;m<u.length;m+=1)u[m].c();a=p(),r=o("tbody");for(let m=0;m<c.length;m+=1)c[m].c();n(s,"class","svelte-1agpyzi"),n(e,"class","log-table svelte-1agpyzi"),le(e,"resizing",t[5]!==null)},m(m,d){O(m,e,d),l(e,s),l(s,i);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(i,null);l(e,a),l(e,r);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(r,null)},p(m,d){if(d[0]&516){f=ue(m[2]);let _;for(_=0;_<f.length;_+=1){const k=bi(m,f,_);u[_]?u[_].p(k,d):(u[_]=Ci(k),u[_].c(),u[_].m(i,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=f.length}d[0]&203&&(v=ue(m[0]),c=oo(c,d,b,1,m,v,h,r,ao,Ai,null,gi)),d[0]&32&&le(e,"resizing",m[5]!==null)},d(m){m&&E(e),Se(u,m);for(let d=0;d<c.length;d+=1)c[d].d()}}}function Ho(t){let e;return{c(){e=o("div"),e.innerHTML='<svg width="48" height="48" viewBox="0 0 48 48" class="svelte-1agpyzi"><path fill="currentColor" opacity="0.3" d="M24 4C12.954 4 4 12.954 4 24s8.954 20 20 20 20-8.954 20-20S35.046 4 24 4Zm0 36c-8.837 0-16-7.163-16-16S15.163 8 24 8s16 7.163 16 16-7.163 16-16 16Z"></path><path fill="currentColor" d="M24 14a2 2 0 0 1 2 2v8a2 2 0 0 1-4 0v-8a2 2 0 0 1 2-2Zm0 16a2 2 0 1 1 0 4 2 2 0 0 1 0-4Z"></path></svg> <p class="svelte-1agpyzi">No logs found</p> <span class="svelte-1agpyzi">Try adjusting your search or time range</span>',n(e,"class","empty-state svelte-1agpyzi")},m(s,i){O(s,e,i)},p:he,d(s){s&&E(e)}}}function zi(t){let e,s,i;function a(...r){return t[13](t[34],...r)}return{c(){e=o("div"),n(e,"class","resize-handle svelte-1agpyzi"),n(e,"role","separator"),n(e,"aria-orientation","vertical"),n(e,"tabindex","-1")},m(r,c){O(r,e,c),s||(i=P(e,"mousedown",a),s=!0)},p(r,c){t=r},d(r){r&&E(e),s=!1,i()}}}function Ci(t){let e,s=t[34].label+"",i,a,r,c,h=t[34].id!=="message"&&zi(t);return{c(){e=o("th"),i=N(s),a=p(),h&&h.c(),r=p(),n(e,"style",c=t[34].width?`width: ${t[34].width}px`:""),n(e,"class","svelte-1agpyzi")},m(f,u){O(f,e,u),l(e,i),l(e,a),h&&h.m(e,null),l(e,r)},p(f,u){u[0]&4&&s!==(s=f[34].label+"")&&W(i,s),f[34].id!=="message"?h?h.p(f,u):(h=zi(f),h.c(),h.m(e,r)):h&&(h.d(1),h=null),u[0]&4&&c!==(c=f[34].width?`width: ${f[34].width}px`:"")&&n(e,"style",c)},d(f){f&&E(e),h&&h.d()}}}function ji(t){let e,s,i=Un(t[27].timestamp)+"",a,r;return{c(){e=o("td"),s=o("span"),a=N(i),n(s,"class","timestamp svelte-1agpyzi"),n(s,"title",r=Jn(t[27].timestamp)),ge(e,"width",t[1].find(Fi).width+"px"),n(e,"class","svelte-1agpyzi")},m(c,h){O(c,e,h),l(e,s),l(s,a)},p(c,h){h[0]&1&&i!==(i=Un(c[27].timestamp)+"")&&W(a,i),h[0]&1&&r!==(r=Jn(c[27].timestamp))&&n(s,"title",r),h[0]&2&&ge(e,"width",c[1].find(Fi).width+"px")},d(c){c&&E(e)}}}function Mi(t){let e,s,i=t[27].level+"",a;return{c(){e=o("td"),s=o("span"),a=N(i),n(s,"class","level-badge svelte-1agpyzi"),ge(s,"background",Oe(t[27].level)+"20"),ge(s,"color",Oe(t[27].level)),ge(e,"width",t[1].find(Pi).width+"px"),n(e,"class","svelte-1agpyzi")},m(r,c){O(r,e,c),l(e,s),l(s,a)},p(r,c){c[0]&1&&i!==(i=r[27].level+"")&&W(a,i),c[0]&1&&ge(s,"background",Oe(r[27].level)+"20"),c[0]&1&&ge(s,"color",Oe(r[27].level)),c[0]&2&&ge(e,"width",r[1].find(Pi).width+"px")},d(r){r&&E(e)}}}function Si(t){let e,s,i=t[27].service+"",a;return{c(){e=o("td"),s=o("span"),a=N(i),n(s,"class","service svelte-1agpyzi"),ge(e,"width",t[1].find(Di).width+"px"),n(e,"class","svelte-1agpyzi")},m(r,c){O(r,e,c),l(e,s),l(s,a)},p(r,c){c[0]&1&&i!==(i=r[27].service+"")&&W(a,i),c[0]&2&&ge(e,"width",r[1].find(Di).width+"px")},d(r){r&&E(e)}}}function Li(t){let e,s,i=t[27].host+"",a;return{c(){e=o("td"),s=o("span"),a=N(i),n(s,"class","host svelte-1agpyzi"),ge(e,"width",t[1].find(Vi).width+"px"),n(e,"class","svelte-1agpyzi")},m(r,c){O(r,e,c),l(e,s),l(s,a)},p(r,c){c[0]&1&&i!==(i=r[27].host+"")&&W(a,i),c[0]&2&&ge(e,"width",r[1].find(Vi).width+"px")},d(r){r&&E(e)}}}function Ti(t){let e,s,i=t[27].message+"",a;return{c(){e=o("td"),s=o("span"),a=N(i),n(s,"class","message svelte-1agpyzi"),n(e,"class","svelte-1agpyzi")},m(r,c){O(r,e,c),l(e,s),l(s,a)},p(r,c){c[0]&1&&i!==(i=r[27].message+"")&&W(a,i)},d(r){r&&E(e)}}}function Hi(t){let e,s,i,a,r,c,h,f,u,v,b,m,d,_,k,w,z=t[27].timestamp+"",g,M,j,L,C,S,q,B=t[27].level+"",I,H,R,T,y,F,A=t[27].service+"",U,V,K,G,Y,Q,D=t[27].host+"",J,$,x,ae,ce,Z,te=t[27].message+"",X,pe,ke=t[27].meta&&Object.keys(t[27].meta).length>0,re,fe,de,ee,se,ne=t[27].raw+"",ve,me,be,Ae;function Ke(){return t[15](t[27])}function Te(){return t[16](t[27])}function Le(){return t[17](t[27])}function tt(){return t[18](t[27])}function Qe(){return t[19](t[27])}function Xe(){return t[20](t[27])}let oe=ke&&Ri(t);return{c(){e=o("tr"),s=o("td"),i=o("div"),a=o("div"),r=o("h4"),r.textContent="Log Details",c=p(),h=o("div"),f=o("button"),f.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1agpyzi"><path fill="currentColor" d="M4 2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H4Zm5 7H4V3h5v6Z"></path><path fill="currentColor" d="M2 4v6a2 2 0 0 0 2 2h5v-1H4a1 1 0 0 1-1-1V4H2Z"></path></svg>
                        Copy Raw`,u=p(),v=o("button"),v.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1agpyzi"><path fill="currentColor" d="M3 2a1 1 0 0 0-1 1v2a1 1 0 0 1-1 1 1 1 0 0 1 1 1v2a1 1 0 0 0 1 1M9 2a1 1 0 0 1 1 1v2a1 1 0 0 0 1 1 1 1 0 0 0-1 1v2a1 1 0 0 1-1 1"></path></svg>
                        Copy JSON`,b=p(),m=o("div"),d=o("button"),_=o("span"),_.textContent="timestamp",k=p(),w=o("span"),g=N(z),M=p(),j=o("button"),L=o("span"),L.textContent="level",C=p(),S=o("span"),q=o("span"),I=N(B),H=p(),R=o("button"),T=o("span"),T.textContent="service",y=p(),F=o("span"),U=N(A),V=p(),K=o("button"),G=o("span"),G.textContent="host",Y=p(),Q=o("span"),J=N(D),$=p(),x=o("div"),ae=o("span"),ae.textContent="message",ce=p(),Z=o("span"),X=N(te),pe=p(),oe&&oe.c(),re=p(),fe=o("div"),de=o("h5"),de.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1agpyzi"><path fill="currentColor" d="M1 2h10a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm0 1v6h10V3H1Zm1 1h2v1H2V4Zm3 0h5v1H5V4Zm-3 2h1v1H2V6Zm2 0h4v1H4V6Z"></path></svg>
                      Raw Log`,ee=p(),se=o("pre"),ve=N(ne),me=p(),n(r,"class","svelte-1agpyzi"),n(f,"class","action-btn svelte-1agpyzi"),n(f,"title","Copy raw log"),n(v,"class","action-btn svelte-1agpyzi"),n(v,"title","Copy as JSON"),n(h,"class","detail-actions svelte-1agpyzi"),n(a,"class","detail-header svelte-1agpyzi"),n(_,"class","field-name svelte-1agpyzi"),n(w,"class","field-value mono svelte-1agpyzi"),n(d,"class","detail-field clickable svelte-1agpyzi"),n(d,"title","Click to copy"),n(L,"class","field-name svelte-1agpyzi"),n(q,"class","level-badge-sm svelte-1agpyzi"),ge(q,"background",Oe(t[27].level)+"20"),ge(q,"color",Oe(t[27].level)),n(S,"class","field-value svelte-1agpyzi"),n(j,"class","detail-field clickable svelte-1agpyzi"),n(j,"title","Click to copy"),n(T,"class","field-name svelte-1agpyzi"),n(F,"class","field-value highlight-blue svelte-1agpyzi"),n(R,"class","detail-field clickable svelte-1agpyzi"),n(R,"title","Click to copy"),n(G,"class","field-name svelte-1agpyzi"),n(Q,"class","field-value highlight-purple svelte-1agpyzi"),n(K,"class","detail-field clickable svelte-1agpyzi"),n(K,"title","Click to copy"),n(m,"class","detail-grid svelte-1agpyzi"),n(ae,"class","field-name svelte-1agpyzi"),n(Z,"class","field-value mono svelte-1agpyzi"),n(x,"class","detail-field full-width svelte-1agpyzi"),n(de,"class","svelte-1agpyzi"),n(se,"class","raw-log svelte-1agpyzi"),n(fe,"class","detail-section svelte-1agpyzi"),n(i,"class","log-detail svelte-1agpyzi"),n(s,"colspan",t[6]),n(s,"class","svelte-1agpyzi"),n(e,"class","detail-row svelte-1agpyzi")},m(je,Me){O(je,e,Me),l(e,s),l(s,i),l(i,a),l(a,r),l(a,c),l(a,h),l(h,f),l(h,u),l(h,v),l(i,b),l(i,m),l(m,d),l(d,_),l(d,k),l(d,w),l(w,g),l(m,M),l(m,j),l(j,L),l(j,C),l(j,S),l(S,q),l(q,I),l(m,H),l(m,R),l(R,T),l(R,y),l(R,F),l(F,U),l(m,V),l(m,K),l(K,G),l(K,Y),l(K,Q),l(Q,J),l(i,$),l(i,x),l(x,ae),l(x,ce),l(x,Z),l(Z,X),l(i,pe),oe&&oe.m(i,null),l(i,re),l(i,fe),l(fe,de),l(fe,ee),l(fe,se),l(se,ve),l(e,me),be||(Ae=[P(f,"click",He(Ke)),P(v,"click",He(Te)),P(d,"click",He(Le)),P(j,"click",He(tt)),P(R,"click",He(Qe)),P(K,"click",He(Xe))],be=!0)},p(je,Me){t=je,Me[0]&1&&z!==(z=t[27].timestamp+"")&&W(g,z),Me[0]&1&&B!==(B=t[27].level+"")&&W(I,B),Me[0]&1&&ge(q,"background",Oe(t[27].level)+"20"),Me[0]&1&&ge(q,"color",Oe(t[27].level)),Me[0]&1&&A!==(A=t[27].service+"")&&W(U,A),Me[0]&1&&D!==(D=t[27].host+"")&&W(J,D),Me[0]&1&&te!==(te=t[27].message+"")&&W(X,te),Me[0]&1&&(ke=t[27].meta&&Object.keys(t[27].meta).length>0),ke?oe?oe.p(t,Me):(oe=Ri(t),oe.c(),oe.m(i,re)):oe&&(oe.d(1),oe=null),Me[0]&1&&ne!==(ne=t[27].raw+"")&&W(ve,ne),Me[0]&64&&n(s,"colspan",t[6])},d(je){je&&E(e),oe&&oe.d(),be=!1,ze(Ae)}}}function Ri(t){let e,s,i,a,r=ue(Object.entries(t[27].meta)),c=[];for(let h=0;h<r.length;h+=1)c[h]=qi(mi(t,r,h));return{c(){e=o("div"),s=o("h5"),s.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1agpyzi"><path fill="currentColor" d="M2 3h8v1H2V3Zm0 2h8v1H2V5Zm0 2h6v1H2V7Zm0 2h4v1H2V9Z"></path></svg>
                        Meta Fields`,i=p(),a=o("div");for(let h=0;h<c.length;h+=1)c[h].c();n(s,"class","svelte-1agpyzi"),n(a,"class","meta-grid svelte-1agpyzi"),n(e,"class","detail-section svelte-1agpyzi")},m(h,f){O(h,e,f),l(e,s),l(e,i),l(e,a);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(a,null)},p(h,f){if(f[0]&1){r=ue(Object.entries(h[27].meta));let u;for(u=0;u<r.length;u+=1){const v=mi(h,r,u);c[u]?c[u].p(v,f):(c[u]=qi(v),c[u].c(),c[u].m(a,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=r.length}},d(h){h&&E(e),Se(c,h)}}}function qi(t){let e,s,i=t[30]+"",a,r,c,h=(typeof t[31]=="object"?JSON.stringify(t[31]):t[31])+"",f,u,v,b;function m(){return t[21](t[31])}return{c(){e=o("button"),s=o("span"),a=N(i),r=p(),c=o("span"),f=N(h),u=p(),n(s,"class","meta-key svelte-1agpyzi"),n(c,"class","meta-value svelte-1agpyzi"),n(e,"class","meta-field svelte-1agpyzi"),n(e,"title","Click to copy")},m(d,_){O(d,e,_),l(e,s),l(s,a),l(e,r),l(e,c),l(c,f),l(e,u),v||(b=P(e,"click",He(m)),v=!0)},p(d,_){t=d,_[0]&1&&i!==(i=t[30]+"")&&W(a,i),_[0]&1&&h!==(h=(typeof t[31]=="object"?JSON.stringify(t[31]):t[31])+"")&&W(f,h)},d(d){d&&E(e),v=!1,b()}}}function Ai(t,e){var S,q,B,I,H,R;let s,i=(S=e[1].find(Ii))==null?void 0:S.visible,a,r=(q=e[1].find(Ni))==null?void 0:q.visible,c,h=(B=e[1].find(Oi))==null?void 0:B.visible,f,u=(I=e[1].find(Ei))==null?void 0:I.visible,v,b=(H=e[1].find(Bi))==null?void 0:H.visible,m,d,_,k,w=i&&ji(e),z=r&&Mi(e),g=h&&Si(e),M=u&&Li(e),j=b&&Ti(e);function L(){return e[14](e[27])}let C=((R=e[3])==null?void 0:R.id)===e[27].id&&Hi(e);return{key:t,first:null,c(){var T;s=o("tr"),w&&w.c(),a=p(),z&&z.c(),c=p(),g&&g.c(),f=p(),M&&M.c(),v=p(),j&&j.c(),m=p(),C&&C.c(),d=It(),n(s,"class","log-row svelte-1agpyzi"),le(s,"selected",((T=e[3])==null?void 0:T.id)===e[27].id),this.first=s},m(T,y){O(T,s,y),w&&w.m(s,null),l(s,a),z&&z.m(s,null),l(s,c),g&&g.m(s,null),l(s,f),M&&M.m(s,null),l(s,v),j&&j.m(s,null),O(T,m,y),C&&C.m(T,y),O(T,d,y),_||(k=P(s,"click",L),_=!0)},p(T,y){var F,A,U,V,K,G,Y;e=T,y[0]&2&&(i=(F=e[1].find(Ii))==null?void 0:F.visible),i?w?w.p(e,y):(w=ji(e),w.c(),w.m(s,a)):w&&(w.d(1),w=null),y[0]&2&&(r=(A=e[1].find(Ni))==null?void 0:A.visible),r?z?z.p(e,y):(z=Mi(e),z.c(),z.m(s,c)):z&&(z.d(1),z=null),y[0]&2&&(h=(U=e[1].find(Oi))==null?void 0:U.visible),h?g?g.p(e,y):(g=Si(e),g.c(),g.m(s,f)):g&&(g.d(1),g=null),y[0]&2&&(u=(V=e[1].find(Ei))==null?void 0:V.visible),u?M?M.p(e,y):(M=Li(e),M.c(),M.m(s,v)):M&&(M.d(1),M=null),y[0]&2&&(b=(K=e[1].find(Bi))==null?void 0:K.visible),b?j?j.p(e,y):(j=Ti(e),j.c(),j.m(s,null)):j&&(j.d(1),j=null),y[0]&9&&le(s,"selected",((G=e[3])==null?void 0:G.id)===e[27].id),((Y=e[3])==null?void 0:Y.id)===e[27].id?C?C.p(e,y):(C=Hi(e),C.c(),C.m(d.parentNode,d)):C&&(C.d(1),C=null)},d(T){T&&(E(s),E(m),E(d)),w&&w.d(),z&&z.d(),g&&g.d(),M&&M.d(),j&&j.d(),C&&C.d(T),_=!1,k()}}}function Ro(t){let e,s,i,a,r,c,h,f=t[0].length+"",u,v,b,m,d,_=t[4]&&wi(t);function k(g,M){return g[0].length===0?Ho:To}let w=k(t),z=w(t);return{c(){e=o("div"),s=o("div"),i=o("div"),a=o("button"),a.innerHTML=`<svg width="14" height="14" viewBox="0 0 14 14"><path fill="currentColor" d="M1 2h12v2H1V2Zm0 4h12v2H1V6Zm0 4h8v2H1v-2Z"></path></svg>
        Columns`,r=p(),_&&_.c(),c=p(),h=o("span"),u=N(f),v=N(" logs"),b=p(),z.c(),n(a,"class","toolbar-btn svelte-1agpyzi"),n(a,"title","Configure columns"),n(i,"class","column-menu-container svelte-1agpyzi"),n(h,"class","toolbar-info svelte-1agpyzi"),n(s,"class","table-toolbar svelte-1agpyzi"),n(e,"class","log-table-container svelte-1agpyzi")},m(g,M){O(g,e,M),l(e,s),l(s,i),l(i,a),l(i,r),_&&_.m(i,null),l(s,c),l(s,h),l(h,u),l(h,v),l(e,b),z.m(e,null),m||(d=P(a,"click",t[11]),m=!0)},p(g,M){g[4]?_?_.p(g,M):(_=wi(g),_.c(),_.m(i,null)):_&&(_.d(1),_=null),M[0]&1&&f!==(f=g[0].length+"")&&W(u,f),w===(w=k(g))&&z?z.p(g,M):(z.d(1),z=w(g),z&&(z.c(),z.m(e,null)))},i:he,o:he,d(g){g&&E(e),_&&_.d(),z.d(),m=!1,d()}}}function lt(t){navigator.clipboard.writeText(t)}const Bi=t=>t.id==="message",Ei=t=>t.id==="host",Oi=t=>t.id==="service",Ni=t=>t.id==="level",Ii=t=>t.id==="time",Fi=t=>t.id==="time",Pi=t=>t.id==="level",Di=t=>t.id==="service",Vi=t=>t.id==="host";function qo(t,e,s){let i,a,{logs:r=[]}=e,c=null,h=!1,f=[{id:"time",label:"Time",visible:!0,width:90,minWidth:60},{id:"level",label:"Level",visible:!0,width:100,minWidth:60},{id:"service",label:"Service",visible:!0,width:150,minWidth:80},{id:"host",label:"Host",visible:!1,width:120,minWidth:80},{id:"message",label:"Message",visible:!0,width:null,minWidth:200}],u=null,v=0,b=0;et(()=>{const y=localStorage.getItem("purl_column_config");if(y)try{const F=JSON.parse(y);s(1,f=f.map(A=>({...A,...F.find(U=>U.id===A.id)})))}catch{}});function m(){localStorage.setItem("purl_column_config",JSON.stringify(f.map(y=>({id:y.id,visible:y.visible,width:y.width}))))}function d(y){s(3,c=(c==null?void 0:c.id)===y.id?null:y)}function _(y){const F=f.find(A=>A.id===y);F&&(F.visible=!F.visible,s(1,f),m())}function k(y,F){y.preventDefault();const A=f.find(U=>U.id===F);!A||A.id==="message"||(s(5,u=F),v=y.clientX,b=A.width,document.addEventListener("mousemove",w),document.addEventListener("mouseup",z))}function w(y){if(!u)return;const F=f.find(U=>U.id===u);if(!F)return;const A=y.clientX-v;F.width=Math.max(F.minWidth,b+A),s(1,f)}function z(){u&&m(),s(5,u=null),document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",z)}function g(){s(1,f=[{id:"time",label:"Time",visible:!0,width:90,minWidth:60},{id:"level",label:"Level",visible:!0,width:100,minWidth:60},{id:"service",label:"Service",visible:!0,width:150,minWidth:80},{id:"host",label:"Host",visible:!1,width:120,minWidth:80},{id:"message",label:"Message",visible:!0,width:null,minWidth:200}]),m()}const M=()=>s(4,h=!h),j=y=>_(y.id),L=(y,F)=>k(F,y.id),C=y=>d(y),S=y=>lt(y.raw),q=y=>lt(JSON.stringify(y,null,2)),B=y=>lt(y.timestamp),I=y=>lt(y.level),H=y=>lt(y.service),R=y=>lt(y.host),T=y=>lt(String(y));return t.$$set=y=>{"logs"in y&&s(0,r=y.logs)},t.$$.update=()=>{t.$$.dirty[0]&2&&s(2,i=f.filter(y=>y.visible)),t.$$.dirty[0]&4&&s(6,a=i.length)},[r,f,i,c,h,u,a,d,_,k,g,M,j,L,C,S,q,B,I,H,R,T]}class Ao extends Je{constructor(e){super(),Ue(this,e,qo,Ro,Ie,{logs:0},null,[-1,-1])}}function Zi(t){let e,s,i,a,r=Ye(t[5])+"",c,h,f;return{c(){e=o("div"),s=p(),i=o("div"),a=o("span"),c=N(r),h=p(),f=o("span"),f.textContent="Errors",n(e,"class","stat-divider svelte-1cnat85"),n(a,"class","stat-value svelte-1cnat85"),n(f,"class","stat-label svelte-1cnat85"),n(i,"class","stat error svelte-1cnat85")},m(u,v){O(u,e,v),O(u,s,v),O(u,i,v),l(i,a),l(a,c),l(i,h),l(i,f)},p(u,v){v&32&&r!==(r=Ye(u[5])+"")&&W(c,r)},d(u){u&&(E(e),E(s),E(i))}}}function Wi(t){let e,s,i,a,r=Ye(t[4])+"",c,h,f;return{c(){e=o("div"),s=p(),i=o("div"),a=o("span"),c=N(r),h=p(),f=o("span"),f.textContent="Warnings",n(e,"class","stat-divider svelte-1cnat85"),n(a,"class","stat-value svelte-1cnat85"),n(f,"class","stat-label svelte-1cnat85"),n(i,"class","stat warning svelte-1cnat85")},m(u,v){O(u,e,v),O(u,s,v),O(u,i,v),l(i,a),l(a,c),l(i,h),l(i,f)},p(u,v){v&16&&r!==(r=Ye(u[4])+"")&&W(c,r)},d(u){u&&(E(e),E(s),E(i))}}}function Ui(t){let e,s,i=Xi(t[3].data.time)+"",a,r,c,h,f,u,v,b,m,d=t[3].data.count.toLocaleString()+"",_,k,w,z,g=t[3].data.errors&&Ji(t),M=t[3].data.warnings&&Ki(t),j=t[3].data.info&&Qi(t);return{c(){e=o("div"),s=o("div"),a=N(i),r=p(),c=o("div"),h=o("div"),f=o("span"),u=p(),v=o("span"),v.textContent="Total",b=p(),m=o("span"),_=N(d),k=p(),g&&g.c(),w=p(),M&&M.c(),z=p(),j&&j.c(),n(s,"class","tooltip-time svelte-1cnat85"),n(f,"class","tooltip-dot total svelte-1cnat85"),n(m,"class","tooltip-value svelte-1cnat85"),n(h,"class","tooltip-row svelte-1cnat85"),n(c,"class","tooltip-stats svelte-1cnat85"),n(e,"class","tooltip svelte-1cnat85"),ge(e,"left",t[3].x+"px"),ge(e,"top",t[3].y+"px")},m(L,C){O(L,e,C),l(e,s),l(s,a),l(e,r),l(e,c),l(c,h),l(h,f),l(h,u),l(h,v),l(h,b),l(h,m),l(m,_),l(c,k),g&&g.m(c,null),l(c,w),M&&M.m(c,null),l(c,z),j&&j.m(c,null)},p(L,C){C&8&&i!==(i=Xi(L[3].data.time)+"")&&W(a,i),C&8&&d!==(d=L[3].data.count.toLocaleString()+"")&&W(_,d),L[3].data.errors?g?g.p(L,C):(g=Ji(L),g.c(),g.m(c,w)):g&&(g.d(1),g=null),L[3].data.warnings?M?M.p(L,C):(M=Ki(L),M.c(),M.m(c,z)):M&&(M.d(1),M=null),L[3].data.info?j?j.p(L,C):(j=Qi(L),j.c(),j.m(c,null)):j&&(j.d(1),j=null),C&8&&ge(e,"left",L[3].x+"px"),C&8&&ge(e,"top",L[3].y+"px")},d(L){L&&E(e),g&&g.d(),M&&M.d(),j&&j.d()}}}function Ji(t){let e,s,i,a,r,c,h=t[3].data.errors.toLocaleString()+"",f;return{c(){e=o("div"),s=o("span"),i=p(),a=o("span"),a.textContent="Errors",r=p(),c=o("span"),f=N(h),n(s,"class","tooltip-dot error svelte-1cnat85"),n(c,"class","tooltip-value svelte-1cnat85"),n(e,"class","tooltip-row svelte-1cnat85")},m(u,v){O(u,e,v),l(e,s),l(e,i),l(e,a),l(e,r),l(e,c),l(c,f)},p(u,v){v&8&&h!==(h=u[3].data.errors.toLocaleString()+"")&&W(f,h)},d(u){u&&E(e)}}}function Ki(t){let e,s,i,a,r,c,h=t[3].data.warnings.toLocaleString()+"",f;return{c(){e=o("div"),s=o("span"),i=p(),a=o("span"),a.textContent="Warnings",r=p(),c=o("span"),f=N(h),n(s,"class","tooltip-dot warning svelte-1cnat85"),n(c,"class","tooltip-value svelte-1cnat85"),n(e,"class","tooltip-row svelte-1cnat85")},m(u,v){O(u,e,v),l(e,s),l(e,i),l(e,a),l(e,r),l(e,c),l(c,f)},p(u,v){v&8&&h!==(h=u[3].data.warnings.toLocaleString()+"")&&W(f,h)},d(u){u&&E(e)}}}function Qi(t){let e,s,i,a,r,c,h=t[3].data.info.toLocaleString()+"",f;return{c(){e=o("div"),s=o("span"),i=p(),a=o("span"),a.textContent="Info",r=p(),c=o("span"),f=N(h),n(s,"class","tooltip-dot info svelte-1cnat85"),n(c,"class","tooltip-value svelte-1cnat85"),n(e,"class","tooltip-row svelte-1cnat85")},m(u,v){O(u,e,v),l(e,s),l(e,i),l(e,a),l(e,r),l(e,c),l(c,f)},p(u,v){v&8&&h!==(h=u[3].data.info.toLocaleString()+"")&&W(f,h)},d(u){u&&E(e)}}}function Bo(t){let e,s,i,a,r,c,h,f,u,v,b,m,d,_,k=Ye(t[1])+"",w,z,g,M,j,L,C,S,q=Ye(t[6])+"",B,I,H,R,T,y,F,A,U,V,K,G,Y,Q=t[5]>0&&Zi(t),D=t[4]>0&&Wi(t),J=t[3].show&&t[3].data&&Ui(t);return{c(){e=o("div"),s=o("div"),i=o("div"),a=ie("svg"),r=ie("path"),c=p(),h=o("span"),h.textContent="Log Volume Over Time",f=p(),u=o("span"),v=N(t[7]),b=p(),m=o("div"),d=o("div"),_=o("span"),w=N(k),z=p(),g=o("span"),g.textContent="Total",M=p(),j=o("div"),L=p(),C=o("div"),S=o("span"),B=N(q),I=p(),H=o("span"),H.textContent="Avg/bucket",R=p(),Q&&Q.c(),T=p(),D&&D.c(),y=p(),F=o("div"),A=o("canvas"),U=p(),J&&J.c(),V=p(),K=o("div"),K.innerHTML=`<div class="legend-item svelte-1cnat85"><span class="legend-dot info svelte-1cnat85"></span> <span>Info/Debug</span></div> <div class="legend-item svelte-1cnat85"><span class="legend-dot warning svelte-1cnat85"></span> <span>Warning</span></div> <div class="legend-item svelte-1cnat85"><span class="legend-dot error svelte-1cnat85"></span> <span>Error</span></div> <div class="legend-hint svelte-1cnat85"><svg width="12" height="12" viewBox="0 0 12 12" class="svelte-1cnat85"><path fill="currentColor" d="M1 4h10v1H1V4Zm2-2h6v1H3V2Zm-2 4h10v1H1V6Z"></path></svg>
      Drag to zoom</div>`,n(r,"fill","currentColor"),n(r,"d","M1 14h14v1H1v-1Zm1-3h2v3H2v-3Zm3-2h2v5H5V9Zm3-3h2v8H8V6Zm3-2h2v10h-2V4Zm3-3h1v13h-1V1Z"),n(a,"width","16"),n(a,"height","16"),n(a,"viewBox","0 0 16 16"),n(a,"class","svelte-1cnat85"),n(h,"class","histogram-title svelte-1cnat85"),n(u,"class","time-range-badge svelte-1cnat85"),n(i,"class","header-left svelte-1cnat85"),n(_,"class","stat-value svelte-1cnat85"),n(g,"class","stat-label svelte-1cnat85"),n(d,"class","stat svelte-1cnat85"),n(j,"class","stat-divider svelte-1cnat85"),n(S,"class","stat-value avg svelte-1cnat85"),n(H,"class","stat-label svelte-1cnat85"),n(C,"class","stat svelte-1cnat85"),n(m,"class","header-stats svelte-1cnat85"),n(s,"class","histogram-header svelte-1cnat85"),n(A,"class","svelte-1cnat85"),n(F,"class","chart-wrapper svelte-1cnat85"),n(K,"class","legend svelte-1cnat85"),n(e,"class","histogram-container svelte-1cnat85")},m($,x){O($,e,x),l(e,s),l(s,i),l(i,a),l(a,r),l(i,c),l(i,h),l(i,f),l(i,u),l(u,v),l(s,b),l(s,m),l(m,d),l(d,_),l(_,w),l(d,z),l(d,g),l(m,M),l(m,j),l(m,L),l(m,C),l(C,S),l(S,B),l(C,I),l(C,H),l(m,R),Q&&Q.m(m,null),l(m,T),D&&D.m(m,null),l(e,y),l(e,F),l(F,A),t[13](A),l(F,U),J&&J.m(F,null),l(e,V),l(e,K),t[14](e),G||(Y=[P(A,"mousemove",t[8]),P(A,"mouseleave",t[9]),P(A,"mousedown",t[10]),P(A,"mouseup",t[11])],G=!0)},p($,[x]){x&128&&W(v,$[7]),x&2&&k!==(k=Ye($[1])+"")&&W(w,k),x&64&&q!==(q=Ye($[6])+"")&&W(B,q),$[5]>0?Q?Q.p($,x):(Q=Zi($),Q.c(),Q.m(m,T)):Q&&(Q.d(1),Q=null),$[4]>0?D?D.p($,x):(D=Wi($),D.c(),D.m(m,null)):D&&(D.d(1),D=null),$[3].show&&$[3].data?J?J.p($,x):(J=Ui($),J.c(),J.m(F,null)):J&&(J.d(1),J=null)},i:he,o:he,d($){$&&E(e),Q&&Q.d(),D&&D.d(),t[13](null),J&&J.d(),t[14](null),G=!1,ze(Y)}}}function Ye(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString()}function Eo(t){return t?new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}):""}function Xi(t){return t?new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):""}function Oo(t,e,s){let i,a,r,c,h,f,u;Be(t,Qa,H=>s(12,f=H)),Be(t,nt,H=>s(7,u=H));const v=Ft();let b,m,d={show:!1,x:0,y:0,data:null},_=-1,k=!1,w=null,z=null,g=null;function M(){const H=m==null?void 0:m.getBoundingClientRect();if(!H)return null;const R=H.width,T=100,y={left:50,right:20,top:10,bottom:30},F=R-y.left-y.right,A=T-y.top-y.bottom,U=Math.max(3,F/f.length-2);return{width:R,height:T,padding:y,chartWidth:F,chartHeight:A,barWidth:U,gap:2}}function j(){const H=b.getContext("2d"),R=M();if(!R)return;const{width:T,height:y,padding:F,chartHeight:A,barWidth:U,gap:V}=R;if(s(0,b.width=T*window.devicePixelRatio,b),s(0,b.height=y*window.devicePixelRatio,b),s(0,b.style.width=T+"px",b),s(0,b.style.height=y+"px",b),H.scale(window.devicePixelRatio,window.devicePixelRatio),H.clearRect(0,0,T,y),f.length===0)return;H.strokeStyle="#21262d",H.lineWidth=1;const K=4;for(let Q=0;Q<=K;Q++){const D=F.top+A/K*Q;H.beginPath(),H.moveTo(F.left,D),H.lineTo(T-F.right,D),H.stroke();const J=Math.round(a-a/K*Q);H.fillStyle="#6e7681",H.font="10px SFMono-Regular, Consolas, monospace",H.textAlign="right",H.fillText(Ye(J),F.left-8,D+3)}f.forEach((Q,D)=>{const J=F.left+D*(U+V),$=Q.count/a*A,x=Q.errors?Q.errors/Q.count*$:0,ae=Q.warnings?Q.warnings/Q.count*$:0,ce=$-x-ae;let Z=y-F.bottom;ce>0&&(H.fillStyle=_===D?"#4ade80":"#3fb950",H.fillRect(J,Z-ce,U,ce),Z-=ce),ae>0&&(H.fillStyle=_===D?"#fbbf24":"#d29922",H.fillRect(J,Z-ae,U,ae),Z-=ae),x>0&&(H.fillStyle=_===D?"#f87171":"#f85149",H.fillRect(J,Z-x,U,x)),_===D&&(H.strokeStyle="#58a6ff",H.lineWidth=2,H.strokeRect(J-1,y-F.bottom-$-1,U+2,$+2))}),g&&(H.fillStyle="rgba(88, 166, 255, 0.2)",H.strokeStyle="#58a6ff",H.lineWidth=1,H.fillRect(g.x,F.top,g.width,A),H.strokeRect(g.x,F.top,g.width,A));const G=Math.min(6,f.length),Y=Math.floor(f.length/G);H.fillStyle="#6e7681",H.font="10px SFMono-Regular, Consolas, monospace",H.textAlign="center";for(let Q=0;Q<f.length;Q+=Y){const D=F.left+Q*(U+V)+U/2,J=Eo(f[Q].time);H.fillText(J,D,y-8)}H.strokeStyle="#30363d",H.lineWidth=1,H.beginPath(),H.moveTo(F.left,y-F.bottom),H.lineTo(T-F.right,y-F.bottom),H.stroke()}function L(H){const R=M();if(!R)return;const T=b.getBoundingClientRect(),y=H.clientX-T.left,{padding:F,barWidth:A,gap:U}=R,V=Math.floor((y-F.left)/(A+U));if(V>=0&&V<f.length&&y>=F.left){_=V;const K=f[V];if(s(3,d={show:!0,x:H.clientX-T.left,y:H.clientY-T.top-10,data:K}),k&&w!==null){z=V;const G=F.left+Math.min(w,z)*(A+U),Y=F.left+(Math.max(w,z)+1)*(A+U)-U;g={x:G,width:Y-G},j()}}else _=-1,s(3,d.show=!1,d);j()}function C(){_=-1,s(3,d.show=!1,d),k||(g=null),j()}function S(H){const R=M();if(!R)return;const T=b.getBoundingClientRect(),y=H.clientX-T.left,{padding:F,barWidth:A,gap:U}=R,V=Math.floor((y-F.left)/(A+U));V>=0&&V<f.length&&(k=!0,w=V,z=V)}function q(){var H,R;if(k&&w!==null&&z!==null&&w!==z){const T=Math.min(w,z),y=Math.max(w,z),F=(H=f[T])==null?void 0:H.time,A=(R=f[y])==null?void 0:R.time;F&&A&&v("zoom",{start:F,end:A})}k=!1,w=null,z=null,g=null,j()}et(()=>{const H=new ResizeObserver(()=>{f.length>0&&j()});return H.observe(m),()=>H.disconnect()});function B(H){it[H?"unshift":"push"](()=>{b=H,s(0,b)})}function I(H){it[H?"unshift":"push"](()=>{m=H,s(2,m)})}return t.$$.update=()=>{t.$$.dirty&4096&&s(1,i=f.reduce((H,R)=>H+R.count,0)),t.$$.dirty&4096&&(a=Math.max(...f.map(H=>H.count),1)),t.$$.dirty&4098&&s(6,r=f.length>0?Math.round(i/f.length):0),t.$$.dirty&4096&&s(5,c=f.reduce((H,R)=>H+(R.errors||0),0)),t.$$.dirty&4096&&s(4,h=f.reduce((H,R)=>H+(R.warnings||0),0)),t.$$.dirty&4097&&f.length>0&&b&&j()},[b,i,m,d,h,c,r,u,L,C,S,q,f,B,I]}class No extends Je{constructor(e){super(),Ue(this,e,Oo,Bo,Ie,{})}}function Gi(t,e,s){const i=t.slice();return i[22]=e[s],i}function Io(t){let e,s=ue(t[0]),i=[];for(let a=0;a<s.length;a+=1)i[a]=Yi(Gi(t,s,a));return{c(){e=o("ul");for(let a=0;a<i.length;a+=1)i[a].c();n(e,"class","svelte-1octqfx")},m(a,r){O(a,e,r);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(a,r){if(r&193){s=ue(a[0]);let c;for(c=0;c<s.length;c+=1){const h=Gi(a,s,c);i[c]?i[c].p(h,r):(i[c]=Yi(h),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(a){a&&E(e),Se(i,a)}}}function Fo(t){let e;return{c(){e=o("p"),e.textContent="No saved searches",n(e,"class","empty svelte-1octqfx")},m(s,i){O(s,e,i)},p:he,d(s){s&&E(e)}}}function Yi(t){let e,s,i,a=t[22].name+"",r,c,h,f=t[22].query+"",u,v,b,m,d,_;function k(){return t[12](t[22])}function w(){return t[13](t[22])}return{c(){e=o("li"),s=o("button"),i=o("span"),r=N(a),c=p(),h=o("span"),u=N(f),v=p(),b=o("button"),b.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M9.5 3L3 9.5M3 3l6.5 6.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',m=p(),n(i,"class","name svelte-1octqfx"),n(h,"class","query svelte-1octqfx"),n(s,"class","search-item svelte-1octqfx"),n(b,"class","btn-delete svelte-1octqfx"),n(e,"class","svelte-1octqfx")},m(z,g){O(z,e,g),l(e,s),l(s,i),l(i,r),l(s,c),l(s,h),l(h,u),l(e,v),l(e,b),l(e,m),d||(_=[P(s,"click",k),P(b,"click",He(w))],d=!0)},p(z,g){t=z,g&1&&a!==(a=t[22].name+"")&&W(r,a),g&1&&f!==(f=t[22].query+"")&&W(u,f)},d(z){z&&E(e),d=!1,ze(_)}}}function $i(t){let e,s,i,a,r,c,h,f,u,v,b,m,d,_,k,w,z,g,M,j,L,C,S,q,B,I,H;return{c(){e=o("div"),s=o("div"),i=o("h3"),i.textContent="Save Search",a=p(),r=o("label"),c=N(`Name
        `),h=o("input"),f=p(),u=o("label"),v=N(`Query
        `),b=o("input"),m=p(),d=o("label"),_=N(`Time Range
        `),k=o("select"),w=o("option"),w.textContent="5 minutes",z=o("option"),z.textContent="15 minutes",g=o("option"),g.textContent="1 hour",M=o("option"),M.textContent="24 hours",j=o("option"),j.textContent="7 days",L=p(),C=o("div"),S=o("button"),S.textContent="Cancel",q=p(),B=o("button"),B.textContent="Save",n(i,"class","svelte-1octqfx"),n(h,"type","text"),n(h,"placeholder","Error logs"),n(h,"class","svelte-1octqfx"),n(r,"class","svelte-1octqfx"),n(b,"type","text"),n(b,"placeholder","level:ERROR"),n(b,"class","svelte-1octqfx"),n(u,"class","svelte-1octqfx"),w.__value="5m",_e(w,w.__value),z.__value="15m",_e(z,z.__value),g.__value="1h",_e(g,g.__value),M.__value="24h",_e(M,M.__value),j.__value="7d",_e(j,j.__value),n(k,"class","svelte-1octqfx"),t[4]===void 0&&Ne(()=>t[16].call(k)),n(d,"class","svelte-1octqfx"),n(S,"class","btn svelte-1octqfx"),n(B,"class","btn primary svelte-1octqfx"),n(C,"class","actions svelte-1octqfx"),n(s,"class","modal svelte-1octqfx"),n(s,"role","document"),n(e,"class","modal-overlay svelte-1octqfx"),n(e,"role","dialog"),n(e,"aria-modal","true")},m(R,T){O(R,e,T),l(e,s),l(s,i),l(s,a),l(s,r),l(r,c),l(r,h),_e(h,t[2]),l(s,f),l(s,u),l(u,v),l(u,b),_e(b,t[3]),l(s,m),l(s,d),l(d,_),l(d,k),l(k,w),l(k,z),l(k,g),l(k,M),l(k,j),Re(k,t[4],!0),l(s,L),l(s,C),l(C,S),l(C,q),l(C,B),I||(H=[P(h,"input",t[14]),P(b,"input",t[15]),P(k,"change",t[16]),P(S,"click",t[17]),P(B,"click",t[5]),P(s,"click",He(t[9])),P(s,"keydown",He(t[10])),P(e,"click",t[18]),P(e,"keydown",t[19])],I=!0)},p(R,T){T&4&&h.value!==R[2]&&_e(h,R[2]),T&8&&b.value!==R[3]&&_e(b,R[3]),T&16&&Re(k,R[4])},d(R){R&&E(e),I=!1,ze(H)}}}function Po(t){let e,s,i,a,r,c,h,f,u,v;function b(k,w){return k[0].length===0?Fo:Io}let m=b(t),d=m(t),_=t[1]&&$i(t);return{c(){e=o("div"),s=o("div"),i=o("h3"),i.textContent="Saved Searches",a=p(),r=o("button"),r.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14"><path fill="currentColor" d="M7 1v12M1 7h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>',c=p(),d.c(),h=p(),_&&_.c(),f=It(),n(i,"class","svelte-1octqfx"),n(r,"class","btn-icon svelte-1octqfx"),n(r,"title","Save current search"),n(s,"class","header svelte-1octqfx"),n(e,"class","saved-searches svelte-1octqfx")},m(k,w){O(k,e,w),l(e,s),l(s,i),l(s,a),l(s,r),l(e,c),d.m(e,null),O(k,h,w),_&&_.m(k,w),O(k,f,w),u||(v=P(r,"click",t[11]),u=!0)},p(k,[w]){m===(m=b(k))&&d?d.p(k,w):(d.d(1),d=m(k),d&&(d.c(),d.m(e,null))),k[1]?_?_.p(k,w):(_=$i(k),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},i:he,o:he,d(k){k&&(E(e),E(h),E(f)),d.d(),_&&_.d(k),u=!1,v()}}}const Kl="/api";function Do(t,e,s){const i=Ft();let a=[],r=!1,c="",h="",f="15m";et(u);async function u(){try{const I=await(await fetch(`${Kl}/saved-searches`)).json();s(0,a=I.searches||[])}catch(B){console.error("Failed to load saved searches:",B)}}async function v(){if(!(!c||!h))try{await fetch(`${Kl}/saved-searches`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,query:h,time_range:f})}),s(1,r=!1),s(2,c=""),s(3,h=""),await u()}catch(B){console.error("Failed to save search:",B)}}async function b(B){try{await fetch(`${Kl}/saved-searches/${B}`,{method:"DELETE"}),await u()}catch(I){console.error("Failed to delete search:",I)}}function m(B){i("apply",{query:B.query,timeRange:B.time_range})}function d(B,I){s(3,h=B),s(4,f=I),s(1,r=!0)}function _(B){jl.call(this,t,B)}function k(B){jl.call(this,t,B)}const w=()=>s(1,r=!0),z=B=>m(B),g=B=>b(B.id);function M(){c=this.value,s(2,c)}function j(){h=this.value,s(3,h)}function L(){f=xe(this),s(4,f)}return[a,r,c,h,f,v,b,m,d,_,k,w,z,g,M,j,L,()=>s(1,r=!1),()=>s(1,r=!1),B=>B.key==="Escape"&&s(1,r=!1)]}class Vo extends Je{constructor(e){super(),Ue(this,e,Do,Po,Ie,{openSaveModal:8})}get openSaveModal(){return this.$$.ctx[8]}}function xi(t,e,s){const i=t.slice();return i[26]=e[s],i}function Zo(t){let e,s=ue(t[0]),i=[];for(let a=0;a<s.length;a+=1)i[a]=ea(xi(t,s,a));return{c(){e=o("ul");for(let a=0;a<i.length;a+=1)i[a].c();n(e,"class","svelte-ib4i4r")},m(a,r){O(a,e,r);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null)},p(a,r){if(r&209){s=ue(a[0]);let c;for(c=0;c<s.length;c+=1){const h=xi(a,s,c);i[c]?i[c].p(h,r):(i[c]=ea(h),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(a){a&&E(e),Se(i,a)}}}function Wo(t){let e,s,i,a,r;return{c(){e=o("p"),e.textContent="No alerts configured",s=p(),i=o("button"),i.textContent="Enable notifications",n(e,"class","empty svelte-ib4i4r"),n(i,"class","btn-small svelte-ib4i4r")},m(c,h){O(c,e,h),O(c,s,h),O(c,i,h),a||(r=P(i,"click",Xo),a=!0)},p:he,d(c){c&&(E(e),E(s),E(i)),a=!1,r()}}}function Uo(t){let e,s;return{c(){e=ie("svg"),s=ie("circle"),n(s,"cx","7"),n(s,"cy","7"),n(s,"r","5"),n(s,"fill","none"),n(s,"stroke","#6e7681"),n(s,"stroke-width","1.5"),n(e,"width","14"),n(e,"height","14"),n(e,"viewBox","0 0 14 14")},m(i,a){O(i,e,a),l(e,s)},d(i){i&&E(e)}}}function Jo(t){let e,s;return{c(){e=ie("svg"),s=ie("circle"),n(s,"cx","7"),n(s,"cy","7"),n(s,"r","5"),n(s,"fill","#3fb950"),n(e,"width","14"),n(e,"height","14"),n(e,"viewBox","0 0 14 14")},m(i,a){O(i,e,a),l(e,s)},d(i){i&&E(e)}}}function ea(t){let e,s,i,a=t[26].name+"",r,c,h,f=(t[26].query||"All logs")+"",u,v,b=t[26].threshold+"",m,d,_=t[26].window_minutes+"",k,w,z,g,M,j,L,C,S,q;function B(){return t[11](t[26])}function I(F,A){return F[26].enabled?Jo:Uo}let H=I(t),R=H(t);function T(){return t[12](t[26])}function y(){return t[13](t[26])}return{c(){e=o("li"),s=o("button"),i=o("span"),r=N(a),c=p(),h=o("span"),u=N(f),v=N(" >= "),m=N(b),d=N(" in "),k=N(_),w=N("m"),z=p(),g=o("button"),R.c(),j=p(),L=o("button"),L.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12"><path fill="currentColor" d="M9.5 3L3 9.5M3 3l6.5 6.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',C=p(),n(i,"class","name svelte-ib4i4r"),n(h,"class","details svelte-ib4i4r"),n(s,"class","alert-info svelte-ib4i4r"),n(g,"class","btn-toggle svelte-ib4i4r"),n(g,"title",M=t[26].enabled?"Disable":"Enable"),n(L,"class","btn-delete svelte-ib4i4r"),n(e,"class","svelte-ib4i4r"),le(e,"disabled",!t[26].enabled)},m(F,A){O(F,e,A),l(e,s),l(s,i),l(i,r),l(s,c),l(s,h),l(h,u),l(h,v),l(h,m),l(h,d),l(h,k),l(h,w),l(e,z),l(e,g),R.m(g,null),l(e,j),l(e,L),l(e,C),S||(q=[P(s,"click",B),P(g,"click",He(T)),P(L,"click",He(y))],S=!0)},p(F,A){t=F,A&1&&a!==(a=t[26].name+"")&&W(r,a),A&1&&f!==(f=(t[26].query||"All logs")+"")&&W(u,f),A&1&&b!==(b=t[26].threshold+"")&&W(m,b),A&1&&_!==(_=t[26].window_minutes+"")&&W(k,_),H!==(H=I(t))&&(R.d(1),R=H(t),R&&(R.c(),R.m(g,null))),A&1&&M!==(M=t[26].enabled?"Disable":"Enable")&&n(g,"title",M),A&1&&le(e,"disabled",!t[26].enabled)},d(F){F&&E(e),R.d(),S=!1,ze(q)}}}function ta(t){let e,s,i,a=t[2]?"Edit Alert":"Create Alert",r,c,h,f,u,v,b,m,d,_,k,w,z,g,M,j,L,C,S,q,B,I,H,R,T,y,F,A,U,V,K,G,Y,Q=t[3].notify_type!=="browser"&&la(t);return{c(){e=o("div"),s=o("div"),i=o("h3"),r=N(a),c=p(),h=o("label"),f=N(`Name
        `),u=o("input"),v=p(),b=o("label"),m=N(`Query (optional)
        `),d=o("input"),_=p(),k=o("div"),w=o("label"),z=N(`Threshold
          `),g=o("input"),M=p(),j=o("label"),L=N(`Window (minutes)
          `),C=o("input"),S=p(),q=o("label"),B=N(`Notification Type
        `),I=o("select"),H=o("option"),H.textContent="Browser",R=o("option"),R.textContent="Webhook",T=o("option"),T.textContent="Slack",y=p(),Q&&Q.c(),F=p(),A=o("div"),U=o("button"),U.textContent="Cancel",V=p(),K=o("button"),K.textContent="Save",n(i,"class","svelte-ib4i4r"),n(u,"type","text"),n(u,"placeholder","High error rate"),n(u,"class","svelte-ib4i4r"),n(h,"class","svelte-ib4i4r"),n(d,"type","text"),n(d,"placeholder","level:ERROR"),n(d,"class","svelte-ib4i4r"),n(b,"class","svelte-ib4i4r"),n(g,"type","number"),n(g,"min","1"),n(g,"class","svelte-ib4i4r"),n(w,"class","svelte-ib4i4r"),n(C,"type","number"),n(C,"min","1"),n(C,"class","svelte-ib4i4r"),n(j,"class","svelte-ib4i4r"),n(k,"class","row svelte-ib4i4r"),H.__value="browser",_e(H,H.__value),R.__value="webhook",_e(R,R.__value),T.__value="slack",_e(T,T.__value),n(I,"class","svelte-ib4i4r"),t[3].notify_type===void 0&&Ne(()=>t[18].call(I)),n(q,"class","svelte-ib4i4r"),n(U,"class","btn svelte-ib4i4r"),n(K,"class","btn primary svelte-ib4i4r"),n(A,"class","actions svelte-ib4i4r"),n(s,"class","modal svelte-ib4i4r"),n(s,"role","document"),n(e,"class","modal-overlay svelte-ib4i4r"),n(e,"role","dialog"),n(e,"aria-modal","true")},m(D,J){O(D,e,J),l(e,s),l(s,i),l(i,r),l(s,c),l(s,h),l(h,f),l(h,u),_e(u,t[3].name),l(s,v),l(s,b),l(b,m),l(b,d),_e(d,t[3].query),l(s,_),l(s,k),l(k,w),l(w,z),l(w,g),_e(g,t[3].threshold),l(k,M),l(k,j),l(j,L),l(j,C),_e(C,t[3].window_minutes),l(s,S),l(s,q),l(q,B),l(q,I),l(I,H),l(I,R),l(I,T),Re(I,t[3].notify_type,!0),l(s,y),Q&&Q.m(s,null),l(s,F),l(s,A),l(A,U),l(A,V),l(A,K),G||(Y=[P(u,"input",t[14]),P(d,"input",t[15]),P(g,"input",t[16]),P(C,"input",t[17]),P(I,"change",t[18]),P(U,"click",t[20]),P(K,"click",t[5]),P(s,"click",He(t[8])),P(s,"keydown",He(t[9])),P(e,"click",t[21]),P(e,"keydown",t[22])],G=!0)},p(D,J){J&4&&a!==(a=D[2]?"Edit Alert":"Create Alert")&&W(r,a),J&8&&u.value!==D[3].name&&_e(u,D[3].name),J&8&&d.value!==D[3].query&&_e(d,D[3].query),J&8&&Cl(g.value)!==D[3].threshold&&_e(g,D[3].threshold),J&8&&Cl(C.value)!==D[3].window_minutes&&_e(C,D[3].window_minutes),J&8&&Re(I,D[3].notify_type),D[3].notify_type!=="browser"?Q?Q.p(D,J):(Q=la(D),Q.c(),Q.m(s,F)):Q&&(Q.d(1),Q=null)},d(D){D&&E(e),Q&&Q.d(),G=!1,ze(Y)}}}function la(t){let e,s=t[3].notify_type==="slack"?"Slack Webhook URL":"Webhook URL",i,a,r,c,h;return{c(){e=o("label"),i=N(s),a=p(),r=o("input"),n(r,"type","url"),n(r,"placeholder","https://..."),n(r,"class","svelte-ib4i4r"),n(e,"class","svelte-ib4i4r")},m(f,u){O(f,e,u),l(e,i),l(e,a),l(e,r),_e(r,t[3].notify_target),c||(h=P(r,"input",t[19]),c=!0)},p(f,u){u&8&&s!==(s=f[3].notify_type==="slack"?"Slack Webhook URL":"Webhook URL")&&W(i,s),u&8&&r.value!==f[3].notify_target&&_e(r,f[3].notify_target)},d(f){f&&E(e),c=!1,h()}}}function Ko(t){let e,s,i,a,r,c,h,f,u,v;function b(k,w){return k[0].length===0?Wo:Zo}let m=b(t),d=m(t),_=t[1]&&ta(t);return{c(){e=o("div"),s=o("div"),i=o("h3"),i.textContent="Alerts",a=p(),r=o("button"),r.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14"><path fill="currentColor" d="M7 1v12M1 7h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>',c=p(),d.c(),h=p(),_&&_.c(),f=It(),n(i,"class","svelte-ib4i4r"),n(r,"class","btn-icon svelte-ib4i4r"),n(r,"title","Create alert"),n(s,"class","header svelte-ib4i4r"),n(e,"class","alerts-panel svelte-ib4i4r")},m(k,w){O(k,e,w),l(e,s),l(s,i),l(s,a),l(s,r),l(e,c),d.m(e,null),O(k,h,w),_&&_.m(k,w),O(k,f,w),u||(v=P(r,"click",t[10]),u=!0)},p(k,[w]){m===(m=b(k))&&d?d.p(k,w):(d.d(1),d=m(k),d&&(d.c(),d.m(e,null))),k[1]?_?_.p(k,w):(_=ta(k),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},i:he,o:he,d(k){k&&(E(e),E(h),E(f)),d.d(),_&&_.d(k),u=!1,v()}}}const pt="/api";function Qo(t){"Notification"in window&&Notification.permission==="granted"&&new Notification(`Alert: ${t.name}`,{body:`${t.count} logs matched "${t.query}"`,icon:"/favicon.ico"})}function Xo(){"Notification"in window&&Notification.requestPermission()}function Go(t,e,s){let i=[],a=!1,r=null,c={name:"",query:"",threshold:10,window_minutes:5,notify_type:"webhook",notify_target:""},h;et(()=>{f(),h=setInterval(u,6e4)}),Ja(()=>{h&&clearInterval(h)});async function f(){try{const y=await(await fetch(`${pt}/alerts`)).json();s(0,i=y.alerts||[])}catch(T){console.error("Failed to load alerts:",T)}}async function u(){try{const y=await(await fetch(`${pt}/alerts/check`,{method:"POST"})).json();if(y.triggered&&y.triggered.length>0){for(const F of y.triggered)Qo(F);await f()}}catch(T){console.error("Alert check failed:",T)}}function v(T=null){T?(s(2,r=T),s(3,c={name:T.name,query:T.query,threshold:T.threshold,window_minutes:T.window_minutes,notify_type:T.notify_type,notify_target:T.notify_target})):(s(2,r=null),s(3,c={name:"",query:"",threshold:10,window_minutes:5,notify_type:"webhook",notify_target:""})),s(1,a=!0)}async function b(){if(c.name)try{r?await fetch(`${pt}/alerts/${r.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}):await fetch(`${pt}/alerts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),s(1,a=!1),await f()}catch(T){console.error("Failed to save alert:",T)}}async function m(T){try{await fetch(`${pt}/alerts/${T.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:T.enabled?0:1})}),await f()}catch(y){console.error("Failed to toggle alert:",y)}}async function d(T){if(confirm("Delete this alert?"))try{await fetch(`${pt}/alerts/${T}`,{method:"DELETE"}),await f()}catch(y){console.error("Failed to delete alert:",y)}}function _(T){jl.call(this,t,T)}function k(T){jl.call(this,t,T)}const w=()=>v(),z=T=>v(T),g=T=>m(T),M=T=>d(T.id);function j(){c.name=this.value,s(3,c)}function L(){c.query=this.value,s(3,c)}function C(){c.threshold=Cl(this.value),s(3,c)}function S(){c.window_minutes=Cl(this.value),s(3,c)}function q(){c.notify_type=xe(this),s(3,c)}function B(){c.notify_target=this.value,s(3,c)}return[i,a,r,c,v,b,m,d,_,k,w,z,g,M,j,L,C,S,q,B,()=>s(1,a=!1),()=>s(1,a=!1),T=>T.key==="Escape"&&s(1,a=!1)]}class Yo extends Je{constructor(e){super(),Ue(this,e,Go,Ko,Ie,{})}}function sa(t,e,s){const i=t.slice();return i[19]=e[s],i}function na(t,e,s){const i=t.slice();return i[22]=e[s],i}function ia(t,e,s){const i=t.slice();return i[22]=e[s],i}function aa(t,e,s){const i=t.slice();return i[27]=e[s][0],i[28]=e[s][1],i}function oa(t){let e,s;return{c(){e=o("div"),s=N(t[5]),n(e,"class","error-banner svelte-sk9hu5")},m(i,a){O(i,e,a),l(e,s)},p(i,a){a&32&&W(s,i[5])},d(i){i&&E(e)}}}function $o(t){var I,H;let e,s,i,a,r,c,h,f,u,v,b,m,d=(((H=(I=t[0])==null?void 0:I.cache)==null?void 0:H.hit_rate)||"0%")+"",_,k,w,z,g,M,j,L,C=t[6]==="overview"&&ca(t),S=t[6]==="performance"&&ra(t),q=t[6]==="storage"&&ha(t),B=t[6]==="queries"&&va(t);return{c(){e=o("div"),s=o("span"),s.innerHTML='<i class="svelte-sk9hu5"></i>System',i=p(),a=o("span"),r=o("i"),c=N("Errors: "),h=N(t[10]),f=N("%"),u=p(),v=o("span"),b=o("i"),m=N("Cache: "),_=N(d),k=p(),w=o("span"),w.innerHTML='<i class="svelte-sk9hu5"></i>ClickHouse',z=p(),C&&C.c(),g=p(),S&&S.c(),M=p(),q&&q.c(),j=p(),B&&B.c(),L=It(),n(s,"class","svelte-sk9hu5"),le(s,"ok",t[12]()==="healthy"),le(s,"warn",t[12]()==="warning"),n(r,"class","svelte-sk9hu5"),n(a,"class","svelte-sk9hu5"),le(a,"ok",t[10]<1),le(a,"warn",t[10]>=1),n(b,"class","svelte-sk9hu5"),n(v,"class","svelte-sk9hu5"),le(v,"ok",t[9]>50),le(v,"warn",t[9]<=50),n(w,"class","ok svelte-sk9hu5"),n(e,"class","status-bar svelte-sk9hu5")},m(R,T){O(R,e,T),l(e,s),l(e,i),l(e,a),l(a,r),l(a,c),l(a,h),l(a,f),l(e,u),l(e,v),l(v,b),l(v,m),l(v,_),l(e,k),l(e,w),O(R,z,T),C&&C.m(R,T),O(R,g,T),S&&S.m(R,T),O(R,M,T),q&&q.m(R,T),O(R,j,T),B&&B.m(R,T),O(R,L,T)},p(R,T){var y,F;T&1024&&W(h,R[10]),T&1024&&le(a,"ok",R[10]<1),T&1024&&le(a,"warn",R[10]>=1),T&1&&d!==(d=(((F=(y=R[0])==null?void 0:y.cache)==null?void 0:F.hit_rate)||"0%")+"")&&W(_,d),T&512&&le(v,"ok",R[9]>50),T&512&&le(v,"warn",R[9]<=50),R[6]==="overview"?C?C.p(R,T):(C=ca(R),C.c(),C.m(g.parentNode,g)):C&&(C.d(1),C=null),R[6]==="performance"?S?S.p(R,T):(S=ra(R),S.c(),S.m(M.parentNode,M)):S&&(S.d(1),S=null),R[6]==="storage"?q?q.p(R,T):(q=ha(R),q.c(),q.m(j.parentNode,j)):q&&(q.d(1),q=null),R[6]==="queries"?B?B.p(R,T):(B=va(R),B.c(),B.m(L.parentNode,L)):B&&(B.d(1),B=null)},d(R){R&&(E(e),E(z),E(g),E(M),E(j),E(L)),C&&C.d(R),S&&S.d(R),q&&q.d(R),B&&B.d(R)}}}function xo(t){let e;return{c(){e=o("div"),e.innerHTML='<div class="spinner svelte-sk9hu5"></div>',n(e,"class","loading svelte-sk9hu5")},m(s,i){O(s,e,i)},p:he,d(s){s&&E(e)}}}function ca(t){var ys,zs,Cs,js,Ms,Ss,Ls,Ts,Hs,Rs,qs,As,Bs,Es,Os,Ns,Is,Fs,Ps,Ds,Vs,Zs,Ws,Us,Js,Ks,Qs,Xs,Gs,Ys,$s,xs,en,tn,ln,sn;let e,s,i,a,r=we((ys=t[1])==null?void 0:ys.total_logs)+"",c,h,f,u,v,b,m=we(((Cs=(zs=t[0])==null?void 0:zs.ingestion)==null?void 0:Cs.total)||0)+"",d,_,k,w,z,g=(((js=t[1])==null?void 0:js.db_size_mb)||0)+"",M,j,L,C,S,q,B,I,H=(((Ss=(Ms=t[0])==null?void 0:Ms.server)==null?void 0:Ss.uptime_human)||"-")+"",R,T,y,F,A,U,V,K=we(((Ts=(Ls=t[0])==null?void 0:Ls.requests)==null?void 0:Ts.total)||0)+"",G,Y,Q,D,J,$=(((Rs=(Hs=t[0])==null?void 0:Hs.requests)==null?void 0:Rs.errors)||0)+"",x,ae,ce,Z,te,X,pe,ke,re=we((As=(qs=t[0])==null?void 0:qs.clickhouse)==null?void 0:As.queries_total)+"",fe,de,ee,se,ne,ve,me,be=(((Es=(Bs=t[0])==null?void 0:Bs.clickhouse)==null?void 0:Es.avg_query_time)||"0s")+"",Ae,Ke,Te,Le,tt,Qe,Xe=(((Ns=(Os=t[0])==null?void 0:Os.cache)==null?void 0:Ns.hit_rate)||"0%")+"",oe,je,Me,at,bt,kt,Ll,ns,is,ot,Pt,as,ct,rt,ut,Dt,wt,os,yt,Vt,Zt=(((Is=t[1])==null?void 0:Is.db_size_mb)||0)+"",Tl,Wt,cs,Pe,zt,Hl,Ut,Jt=we((Fs=t[1])==null?void 0:Fs.total_rows)+"",Rl,rs,Ct,ql,Kt,Qt=(((Ds=(Ps=t[1])==null?void 0:Ps.oldest_log)==null?void 0:Ds.split(" ")[0])||"-")+"",Al,us,jt,Bl,Xt,Gt=(((Zs=(Vs=t[1])==null?void 0:Vs.newest_log)==null?void 0:Zs.split(" ")[0])||"-")+"",El,hs,Yt,fs,ht,$t,ds,De,Mt,xt,el=we((Us=(Ws=t[0])==null?void 0:Ws.ingestion)==null?void 0:Us.total)+"",Ol,tl,vs,St,ll,sl=We((Ks=(Js=t[0])==null?void 0:Js.clickhouse)==null?void 0:Ks.bytes_inserted)+"",Nl,nl,ps,Lt,il,al=(((Xs=(Qs=t[0])==null?void 0:Qs.clickhouse)==null?void 0:Xs.buffer_size)||0)+"",Il,ol,_s,Tt,cl,rl=we((Ys=(Gs=t[0])==null?void 0:Gs.clickhouse)==null?void 0:Ys.inserts_total)+"",Fl,ul,gs,ft,hl,ms,$e,Ht,fl,dl=(((xs=($s=t[0])==null?void 0:$s.cache)==null?void 0:xs.hit_rate)||"0%")+"",Pl,vl,bs,Rt,pl,_l=(((tn=(en=t[0])==null?void 0:en.cache)==null?void 0:tn.entries)||0)+"",Dl,gl,ks,qt,At,ml=(((sn=(ln=t[0])==null?void 0:ln.cache)==null?void 0:sn.ttl_seconds)||60)+"",Vl,ws,bl;return{c(){e=o("div"),s=o("div"),i=o("div"),a=o("span"),c=N(r),h=p(),f=o("span"),f.textContent="Logs",u=p(),v=o("span"),b=N("+"),d=N(m),_=p(),k=o("div"),w=o("div"),z=o("span"),M=N(g),j=N(" MB"),L=p(),C=o("span"),C.textContent="Storage",S=p(),q=o("div"),B=o("div"),I=o("span"),R=N(H),T=p(),y=o("span"),y.textContent="Uptime",F=p(),A=o("div"),U=o("div"),V=o("span"),G=N(K),Y=p(),Q=o("span"),Q.textContent="Requests",D=p(),J=o("span"),x=N($),ae=N(" err"),ce=p(),Z=o("div"),te=o("div"),X=o("div"),pe=o("h3"),pe.textContent="Query Performance",ke=o("span"),fe=N(re),de=p(),ee=o("div"),se=o("div"),ne=o("span"),ne.textContent="Avg Response",ve=p(),me=o("span"),Ae=N(be),Ke=p(),Te=o("div"),Le=o("span"),Le.textContent="Cache Hit",tt=p(),Qe=o("span"),oe=N(Xe),je=p(),Me=o("div"),at=o("span"),at.textContent="Error Rate",bt=p(),kt=o("span"),Ll=N(t[10]),ns=N("%"),is=p(),ot=o("div"),Pt=o("div"),Pt.innerHTML='<h3 class="svelte-sk9hu5">Storage</h3>',as=p(),ct=o("div"),rt=o("div"),ut=ie("svg"),Dt=ie("path"),wt=ie("path"),os=p(),yt=o("div"),Vt=o("span"),Tl=N(Zt),Wt=o("small"),Wt.textContent="MB",cs=p(),Pe=o("div"),zt=o("div"),Hl=o("span"),Hl.textContent="Rows",Ut=o("span"),Rl=N(Jt),rs=p(),Ct=o("div"),ql=o("span"),ql.textContent="Oldest",Kt=o("span"),Al=N(Qt),us=p(),jt=o("div"),Bl=o("span"),Bl.textContent="Newest",Xt=o("span"),El=N(Gt),hs=p(),Yt=o("div"),Yt.innerHTML='<span>TTL</span><span class="mono svelte-sk9hu5">30d</span>',fs=p(),ht=o("div"),$t=o("div"),$t.innerHTML='<h3 class="svelte-sk9hu5">Ingestion</h3><span class="badge live svelte-sk9hu5">Live</span>',ds=p(),De=o("div"),Mt=o("div"),xt=o("span"),Ol=N(el),tl=o("span"),tl.textContent="Ingested",vs=p(),St=o("div"),ll=o("span"),Nl=N(sl),nl=o("span"),nl.textContent="Written",ps=p(),Lt=o("div"),il=o("span"),Il=N(al),ol=o("span"),ol.textContent="Buffer",_s=p(),Tt=o("div"),cl=o("span"),Fl=N(rl),ul=o("span"),ul.textContent="Inserts",gs=p(),ft=o("div"),hl=o("div"),hl.innerHTML='<h3 class="svelte-sk9hu5">Cache</h3>',ms=p(),$e=o("div"),Ht=o("div"),fl=o("span"),Pl=N(dl),vl=o("span"),vl.textContent="Hit Rate",bs=p(),Rt=o("div"),pl=o("span"),Dl=N(_l),gl=o("span"),gl.textContent="Entries",ks=p(),qt=o("div"),At=o("span"),Vl=N(ml),ws=N("s"),bl=o("span"),bl.textContent="TTL",n(a,"class","metric-val svelte-sk9hu5"),n(f,"class","metric-lbl svelte-sk9hu5"),n(i,"class","metric-main svelte-sk9hu5"),n(v,"class","metric-trend svelte-sk9hu5"),n(s,"class","metric svelte-sk9hu5"),n(z,"class","metric-val svelte-sk9hu5"),n(C,"class","metric-lbl svelte-sk9hu5"),n(w,"class","metric-main svelte-sk9hu5"),n(k,"class","metric svelte-sk9hu5"),n(I,"class","metric-val svelte-sk9hu5"),n(y,"class","metric-lbl svelte-sk9hu5"),n(B,"class","metric-main svelte-sk9hu5"),n(q,"class","metric svelte-sk9hu5"),n(V,"class","metric-val svelte-sk9hu5"),n(Q,"class","metric-lbl svelte-sk9hu5"),n(U,"class","metric-main svelte-sk9hu5"),n(J,"class","metric-err svelte-sk9hu5"),n(A,"class","metric svelte-sk9hu5"),n(e,"class","metrics-row svelte-sk9hu5"),n(pe,"class","svelte-sk9hu5"),n(ke,"class","badge svelte-sk9hu5"),n(X,"class","card-head svelte-sk9hu5"),n(me,"class","mono svelte-sk9hu5"),n(se,"class","perf-row svelte-sk9hu5"),n(Qe,"class","mono svelte-sk9hu5"),n(Te,"class","perf-row svelte-sk9hu5"),n(kt,"class","mono svelte-sk9hu5"),n(Me,"class","perf-row svelte-sk9hu5"),n(ee,"class","perf-list svelte-sk9hu5"),n(te,"class","card svelte-sk9hu5"),n(Pt,"class","card-head svelte-sk9hu5"),n(Dt,"class","ring-bg svelte-sk9hu5"),n(Dt,"d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"),n(wt,"class","ring-fill svelte-sk9hu5"),n(wt,"stroke-dasharray","75, 100"),n(wt,"d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"),n(ut,"viewBox","0 0 36 36"),n(ut,"class","svelte-sk9hu5"),n(Vt,"class","svelte-sk9hu5"),n(Wt,"class","svelte-sk9hu5"),n(yt,"class","ring-text svelte-sk9hu5"),n(rt,"class","storage-ring svelte-sk9hu5"),n(Ut,"class","mono svelte-sk9hu5"),n(zt,"class","svelte-sk9hu5"),n(Kt,"class","mono svelte-sk9hu5"),n(Ct,"class","svelte-sk9hu5"),n(Xt,"class","mono svelte-sk9hu5"),n(jt,"class","svelte-sk9hu5"),n(Yt,"class","svelte-sk9hu5"),n(Pe,"class","storage-info svelte-sk9hu5"),n(ct,"class","storage-grid svelte-sk9hu5"),n(ot,"class","card svelte-sk9hu5"),n($t,"class","card-head svelte-sk9hu5"),n(xt,"class","stat-val svelte-sk9hu5"),n(tl,"class","stat-lbl svelte-sk9hu5"),n(Mt,"class","svelte-sk9hu5"),n(ll,"class","stat-val svelte-sk9hu5"),n(nl,"class","stat-lbl svelte-sk9hu5"),n(St,"class","svelte-sk9hu5"),n(il,"class","stat-val svelte-sk9hu5"),n(ol,"class","stat-lbl svelte-sk9hu5"),n(Lt,"class","svelte-sk9hu5"),n(cl,"class","stat-val svelte-sk9hu5"),n(ul,"class","stat-lbl svelte-sk9hu5"),n(Tt,"class","svelte-sk9hu5"),n(De,"class","stats-grid svelte-sk9hu5"),n(ht,"class","card svelte-sk9hu5"),n(hl,"class","card-head svelte-sk9hu5"),n(fl,"class","cache-val svelte-sk9hu5"),n(vl,"class","cache-lbl svelte-sk9hu5"),n(Ht,"class","svelte-sk9hu5"),n(pl,"class","cache-val svelte-sk9hu5"),n(gl,"class","cache-lbl svelte-sk9hu5"),n(Rt,"class","svelte-sk9hu5"),n(At,"class","cache-val svelte-sk9hu5"),n(bl,"class","cache-lbl svelte-sk9hu5"),n(qt,"class","svelte-sk9hu5"),n($e,"class","cache-row svelte-sk9hu5"),n(ft,"class","card svelte-sk9hu5"),n(Z,"class","grid svelte-sk9hu5")},m(ye,Ce){O(ye,e,Ce),l(e,s),l(s,i),l(i,a),l(a,c),l(i,h),l(i,f),l(s,u),l(s,v),l(v,b),l(v,d),l(e,_),l(e,k),l(k,w),l(w,z),l(z,M),l(z,j),l(w,L),l(w,C),l(e,S),l(e,q),l(q,B),l(B,I),l(I,R),l(B,T),l(B,y),l(e,F),l(e,A),l(A,U),l(U,V),l(V,G),l(U,Y),l(U,Q),l(A,D),l(A,J),l(J,x),l(J,ae),O(ye,ce,Ce),O(ye,Z,Ce),l(Z,te),l(te,X),l(X,pe),l(X,ke),l(ke,fe),l(te,de),l(te,ee),l(ee,se),l(se,ne),l(se,ve),l(se,me),l(me,Ae),l(ee,Ke),l(ee,Te),l(Te,Le),l(Te,tt),l(Te,Qe),l(Qe,oe),l(ee,je),l(ee,Me),l(Me,at),l(Me,bt),l(Me,kt),l(kt,Ll),l(kt,ns),l(Z,is),l(Z,ot),l(ot,Pt),l(ot,as),l(ot,ct),l(ct,rt),l(rt,ut),l(ut,Dt),l(ut,wt),l(rt,os),l(rt,yt),l(yt,Vt),l(Vt,Tl),l(yt,Wt),l(ct,cs),l(ct,Pe),l(Pe,zt),l(zt,Hl),l(zt,Ut),l(Ut,Rl),l(Pe,rs),l(Pe,Ct),l(Ct,ql),l(Ct,Kt),l(Kt,Al),l(Pe,us),l(Pe,jt),l(jt,Bl),l(jt,Xt),l(Xt,El),l(Pe,hs),l(Pe,Yt),l(Z,fs),l(Z,ht),l(ht,$t),l(ht,ds),l(ht,De),l(De,Mt),l(Mt,xt),l(xt,Ol),l(Mt,tl),l(De,vs),l(De,St),l(St,ll),l(ll,Nl),l(St,nl),l(De,ps),l(De,Lt),l(Lt,il),l(il,Il),l(Lt,ol),l(De,_s),l(De,Tt),l(Tt,cl),l(cl,Fl),l(Tt,ul),l(Z,gs),l(Z,ft),l(ft,hl),l(ft,ms),l(ft,$e),l($e,Ht),l(Ht,fl),l(fl,Pl),l(Ht,vl),l($e,bs),l($e,Rt),l(Rt,pl),l(pl,Dl),l(Rt,gl),l($e,ks),l($e,qt),l(qt,At),l(At,Vl),l(At,ws),l(qt,bl)},p(ye,Ce){var nn,an,on,cn,rn,un,hn,fn,dn,vn,pn,_n,gn,mn,bn,kn,wn,yn,zn,Cn,jn,Mn,Sn,Ln,Tn,Hn,Rn,qn,An,Bn,En,On,Nn,In,Fn,Pn;Ce&2&&r!==(r=we((nn=ye[1])==null?void 0:nn.total_logs)+"")&&W(c,r),Ce&1&&m!==(m=we(((on=(an=ye[0])==null?void 0:an.ingestion)==null?void 0:on.total)||0)+"")&&W(d,m),Ce&2&&g!==(g=(((cn=ye[1])==null?void 0:cn.db_size_mb)||0)+"")&&W(M,g),Ce&1&&H!==(H=(((un=(rn=ye[0])==null?void 0:rn.server)==null?void 0:un.uptime_human)||"-")+"")&&W(R,H),Ce&1&&K!==(K=we(((fn=(hn=ye[0])==null?void 0:hn.requests)==null?void 0:fn.total)||0)+"")&&W(G,K),Ce&1&&$!==($=(((vn=(dn=ye[0])==null?void 0:dn.requests)==null?void 0:vn.errors)||0)+"")&&W(x,$),Ce&1&&re!==(re=we((_n=(pn=ye[0])==null?void 0:pn.clickhouse)==null?void 0:_n.queries_total)+"")&&W(fe,re),Ce&1&&be!==(be=(((mn=(gn=ye[0])==null?void 0:gn.clickhouse)==null?void 0:mn.avg_query_time)||"0s")+"")&&W(Ae,be),Ce&1&&Xe!==(Xe=(((kn=(bn=ye[0])==null?void 0:bn.cache)==null?void 0:kn.hit_rate)||"0%")+"")&&W(oe,Xe),Ce&1024&&W(Ll,ye[10]),Ce&2&&Zt!==(Zt=(((wn=ye[1])==null?void 0:wn.db_size_mb)||0)+"")&&W(Tl,Zt),Ce&2&&Jt!==(Jt=we((yn=ye[1])==null?void 0:yn.total_rows)+"")&&W(Rl,Jt),Ce&2&&Qt!==(Qt=(((Cn=(zn=ye[1])==null?void 0:zn.oldest_log)==null?void 0:Cn.split(" ")[0])||"-")+"")&&W(Al,Qt),Ce&2&&Gt!==(Gt=(((Mn=(jn=ye[1])==null?void 0:jn.newest_log)==null?void 0:Mn.split(" ")[0])||"-")+"")&&W(El,Gt),Ce&1&&el!==(el=we((Ln=(Sn=ye[0])==null?void 0:Sn.ingestion)==null?void 0:Ln.total)+"")&&W(Ol,el),Ce&1&&sl!==(sl=We((Hn=(Tn=ye[0])==null?void 0:Tn.clickhouse)==null?void 0:Hn.bytes_inserted)+"")&&W(Nl,sl),Ce&1&&al!==(al=(((qn=(Rn=ye[0])==null?void 0:Rn.clickhouse)==null?void 0:qn.buffer_size)||0)+"")&&W(Il,al),Ce&1&&rl!==(rl=we((Bn=(An=ye[0])==null?void 0:An.clickhouse)==null?void 0:Bn.inserts_total)+"")&&W(Fl,rl),Ce&1&&dl!==(dl=(((On=(En=ye[0])==null?void 0:En.cache)==null?void 0:On.hit_rate)||"0%")+"")&&W(Pl,dl),Ce&1&&_l!==(_l=(((In=(Nn=ye[0])==null?void 0:Nn.cache)==null?void 0:In.entries)||0)+"")&&W(Dl,_l),Ce&1&&ml!==(ml=(((Pn=(Fn=ye[0])==null?void 0:Fn.cache)==null?void 0:Pn.ttl_seconds)||60)+"")&&W(Vl,ml)},d(ye){ye&&(E(e),E(ce),E(Z))}}}function ra(t){var x,ae,ce,Z,te,X,pe,ke;let e,s,i,a,r,c,h,f,u,v,b,m,d,_=(((ae=(x=t[0])==null?void 0:x.requests)==null?void 0:ae.avg_duration)||"0")+"",k,w,z,g,M,j,L=Ml((((Z=(ce=t[0])==null?void 0:ce.clickhouse)==null?void 0:Z.queries_total)||0)*t[8]*1e3)+"",C,S,q,B,I,H,R,T,y=we(((X=(te=t[0])==null?void 0:te.requests)==null?void 0:X.total)||0)+"",F,A,U,V,K,G=We(((ke=(pe=t[0])==null?void 0:pe.clickhouse)==null?void 0:ke.bytes_inserted)||0)+"",Y,Q;function D(re,fe){var de,ee;return(ee=(de=re[0])==null?void 0:de.requests)!=null&&ee.by_path?tc:ec}let J=D(t),$=J(t);return{c(){e=o("div"),s=o("div"),s.innerHTML='<h3 class="svelte-sk9hu5">Endpoints</h3>',i=p(),a=o("div"),$.c(),r=p(),c=o("div"),h=o("div"),f=o("div"),f.innerHTML='<h3 class="svelte-sk9hu5">Response Times</h3>',u=p(),v=o("div"),b=o("div"),m=o("span"),m.textContent="Average",d=o("span"),k=N(_),w=N("s"),z=p(),g=o("div"),M=o("span"),M.textContent="Total Time",j=o("span"),C=N(L),S=p(),q=o("div"),B=o("div"),B.innerHTML='<h3 class="svelte-sk9hu5">Throughput</h3>',I=p(),H=o("div"),R=o("div"),T=o("span"),F=N(y),A=o("span"),A.textContent="Requests",U=p(),V=o("div"),K=o("span"),Y=N(G),Q=o("span"),Q.textContent="Processed",n(s,"class","card-head svelte-sk9hu5"),n(a,"class","endpoint-list svelte-sk9hu5"),n(e,"class","card wide svelte-sk9hu5"),n(f,"class","card-head svelte-sk9hu5"),n(d,"class","mono svelte-sk9hu5"),n(b,"class","svelte-sk9hu5"),n(j,"class","mono svelte-sk9hu5"),n(g,"class","svelte-sk9hu5"),n(v,"class","time-list svelte-sk9hu5"),n(h,"class","card svelte-sk9hu5"),n(B,"class","card-head svelte-sk9hu5"),n(T,"class","tp-val svelte-sk9hu5"),n(A,"class","tp-lbl svelte-sk9hu5"),n(R,"class","svelte-sk9hu5"),n(K,"class","tp-val svelte-sk9hu5"),n(Q,"class","tp-lbl svelte-sk9hu5"),n(V,"class","svelte-sk9hu5"),n(H,"class","throughput svelte-sk9hu5"),n(q,"class","card svelte-sk9hu5"),n(c,"class","grid cols-2 svelte-sk9hu5")},m(re,fe){O(re,e,fe),l(e,s),l(e,i),l(e,a),$.m(a,null),O(re,r,fe),O(re,c,fe),l(c,h),l(h,f),l(h,u),l(h,v),l(v,b),l(b,m),l(b,d),l(d,k),l(d,w),l(v,z),l(v,g),l(g,M),l(g,j),l(j,C),l(c,S),l(c,q),l(q,B),l(q,I),l(q,H),l(H,R),l(R,T),l(T,F),l(R,A),l(H,U),l(H,V),l(V,K),l(K,Y),l(V,Q)},p(re,fe){var de,ee,se,ne,ve,me,be,Ae;J===(J=D(re))&&$?$.p(re,fe):($.d(1),$=J(re),$&&($.c(),$.m(a,null))),fe&1&&_!==(_=(((ee=(de=re[0])==null?void 0:de.requests)==null?void 0:ee.avg_duration)||"0")+"")&&W(k,_),fe&257&&L!==(L=Ml((((ne=(se=re[0])==null?void 0:se.clickhouse)==null?void 0:ne.queries_total)||0)*re[8]*1e3)+"")&&W(C,L),fe&1&&y!==(y=we(((me=(ve=re[0])==null?void 0:ve.requests)==null?void 0:me.total)||0)+"")&&W(F,y),fe&1&&G!==(G=We(((Ae=(be=re[0])==null?void 0:be.clickhouse)==null?void 0:Ae.bytes_inserted)||0)+"")&&W(Y,G)},d(re){re&&(E(e),E(r),E(c)),$.d()}}}function ec(t){let e;return{c(){e=o("div"),e.textContent="No data",n(e,"class","no-data svelte-sk9hu5")},m(s,i){O(s,e,i)},p:he,d(s){s&&E(e)}}}function tc(t){let e,s=ue(Object.entries(t[0].requests.by_path).sort(_a).slice(0,8)),i=[];for(let a=0;a<s.length;a+=1)i[a]=ua(aa(t,s,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=It()},m(a,r){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(a,r);O(a,e,r)},p(a,r){if(r&1){s=ue(Object.entries(a[0].requests.by_path).sort(_a).slice(0,8));let c;for(c=0;c<s.length;c+=1){const h=aa(a,s,c);i[c]?i[c].p(h,r):(i[c]=ua(h),i[c].c(),i[c].m(e.parentNode,e))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(a){a&&E(e),Se(i,a)}}}function ua(t){let e,s,i=t[27]+"",a,r,c,h,f,u,v=we(t[28])+"",b,m;return{c(){e=o("div"),s=o("code"),a=N(i),r=p(),c=o("div"),h=o("div"),f=p(),u=o("span"),b=N(v),m=p(),n(s,"class","svelte-sk9hu5"),ge(h,"width",Math.min(t[28]/Math.max(...Object.values(t[0].requests.by_path))*100,100)+"%"),n(h,"class","svelte-sk9hu5"),n(c,"class","endpoint-bar svelte-sk9hu5"),n(u,"class","svelte-sk9hu5"),n(e,"class","endpoint-row svelte-sk9hu5")},m(d,_){O(d,e,_),l(e,s),l(s,a),l(e,r),l(e,c),l(c,h),l(e,f),l(e,u),l(u,b),l(e,m)},p(d,_){_&1&&i!==(i=d[27]+"")&&W(a,i),_&1&&ge(h,"width",Math.min(d[28]/Math.max(...Object.values(d[0].requests.by_path))*100,100)+"%"),_&1&&v!==(v=we(d[28])+"")&&W(b,v)},d(d){d&&E(e)}}}function ha(t){let e,s,i,a,r=t[3].length+"",c,h,f,u,v,b,m,d,_,k;function w(L,C){return L[3].length>0?sc:lc}let z=w(t),g=z(t),M=ue(t[3].slice(0,4)),j=[];for(let L=0;L<M.length;L+=1)j[L]=da(na(t,M,L));return{c(){e=o("div"),s=o("div"),i=o("h3"),i.textContent="Tables",a=o("span"),c=N(r),h=p(),g.c(),f=p(),u=o("div"),v=o("div"),b=o("div"),b.innerHTML='<h3 class="svelte-sk9hu5">Distribution</h3>',m=p(),d=o("div");for(let L=0;L<j.length;L+=1)j[L].c();_=p(),k=o("div"),k.innerHTML='<div class="card-head svelte-sk9hu5"><h3 class="svelte-sk9hu5">Retention</h3></div> <div class="retention svelte-sk9hu5"><div class="svelte-sk9hu5"><span class="svelte-sk9hu5">Policy</span><span class="svelte-sk9hu5">30 days</span></div> <div class="svelte-sk9hu5"><span class="svelte-sk9hu5">Cleanup</span><span class="ok-text svelte-sk9hu5">Enabled</span></div> <div class="svelte-sk9hu5"><span class="svelte-sk9hu5">Compression</span><span class="svelte-sk9hu5">ZSTD L3</span></div></div>',n(i,"class","svelte-sk9hu5"),n(a,"class","badge svelte-sk9hu5"),n(s,"class","card-head svelte-sk9hu5"),n(e,"class","card wide svelte-sk9hu5"),n(b,"class","card-head svelte-sk9hu5"),n(d,"class","dist-list svelte-sk9hu5"),n(v,"class","card svelte-sk9hu5"),n(k,"class","card svelte-sk9hu5"),n(u,"class","grid cols-2 svelte-sk9hu5")},m(L,C){O(L,e,C),l(e,s),l(s,i),l(s,a),l(a,c),l(e,h),g.m(e,null),O(L,f,C),O(L,u,C),l(u,v),l(v,b),l(v,m),l(v,d);for(let S=0;S<j.length;S+=1)j[S]&&j[S].m(d,null);l(u,_),l(u,k)},p(L,C){if(C&8&&r!==(r=L[3].length+"")&&W(c,r),z===(z=w(L))&&g?g.p(L,C):(g.d(1),g=z(L),g&&(g.c(),g.m(e,null))),C&8){M=ue(L[3].slice(0,4));let S;for(S=0;S<M.length;S+=1){const q=na(L,M,S);j[S]?j[S].p(q,C):(j[S]=da(q),j[S].c(),j[S].m(d,null))}for(;S<j.length;S+=1)j[S].d(1);j.length=M.length}},d(L){L&&(E(e),E(f),E(u)),g.d(),Se(j,L)}}}function lc(t){let e;return{c(){e=o("div"),e.textContent="No tables",n(e,"class","no-data svelte-sk9hu5")},m(s,i){O(s,e,i)},p:he,d(s){s&&E(e)}}}function sc(t){let e,s,i,a,r=ue(t[3]),c=[];for(let h=0;h<r.length;h+=1)c[h]=fa(ia(t,r,h));return{c(){e=o("table"),s=o("thead"),s.innerHTML='<tr><th class="svelte-sk9hu5">Table</th><th class="svelte-sk9hu5">Rows</th><th class="svelte-sk9hu5">Size</th><th class="svelte-sk9hu5">Parts</th><th class="svelte-sk9hu5">Comp</th></tr>',i=p(),a=o("tbody");for(let h=0;h<c.length;h+=1)c[h].c();n(e,"class","data-table svelte-sk9hu5")},m(h,f){O(h,e,f),l(e,s),l(e,i),l(e,a);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(a,null)},p(h,f){if(f&8){r=ue(h[3]);let u;for(u=0;u<r.length;u+=1){const v=ia(h,r,u);c[u]?c[u].p(v,f):(c[u]=fa(v),c[u].c(),c[u].m(a,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=r.length}},d(h){h&&E(e),Se(c,h)}}}function fa(t){let e,s,i,a=t[22].table+"",r,c,h,f=we(t[22].rows)+"",u,v,b,m=We(t[22].bytes)+"",d,_,k,w=(t[22].partitions||"-")+"",z,g,M,j;return{c(){e=o("tr"),s=o("td"),i=o("code"),r=N(a),c=p(),h=o("td"),u=N(f),v=p(),b=o("td"),d=N(m),_=p(),k=o("td"),z=N(w),g=p(),M=o("td"),M.textContent="ZSTD",j=p(),n(i,"class","svelte-sk9hu5"),n(s,"class","svelte-sk9hu5"),n(h,"class","mono svelte-sk9hu5"),n(b,"class","mono svelte-sk9hu5"),n(k,"class","mono svelte-sk9hu5"),n(M,"class","svelte-sk9hu5")},m(L,C){O(L,e,C),l(e,s),l(s,i),l(i,r),l(e,c),l(e,h),l(h,u),l(e,v),l(e,b),l(b,d),l(e,_),l(e,k),l(k,z),l(e,g),l(e,M),l(e,j)},p(L,C){C&8&&a!==(a=L[22].table+"")&&W(r,a),C&8&&f!==(f=we(L[22].rows)+"")&&W(u,f),C&8&&m!==(m=We(L[22].bytes)+"")&&W(d,m),C&8&&w!==(w=(L[22].partitions||"-")+"")&&W(z,w)},d(L){L&&E(e)}}}function da(t){let e,s,i=t[22].table+"",a,r,c,h,f,u,v=We(t[22].bytes)+"",b,m;return{c(){e=o("div"),s=o("span"),a=N(i),r=p(),c=o("div"),h=o("div"),f=p(),u=o("span"),b=N(v),m=p(),n(s,"class","svelte-sk9hu5"),ge(h,"width",t[22].bytes/Math.max(...t[3].map(ga))*100+"%"),n(h,"class","svelte-sk9hu5"),n(c,"class","dist-bar svelte-sk9hu5"),n(u,"class","mono svelte-sk9hu5"),n(e,"class","dist-row svelte-sk9hu5")},m(d,_){O(d,e,_),l(e,s),l(s,a),l(e,r),l(e,c),l(c,h),l(e,f),l(e,u),l(u,b),l(e,m)},p(d,_){_&8&&i!==(i=d[22].table+"")&&W(a,i),_&8&&ge(h,"width",d[22].bytes/Math.max(...d[3].map(ga))*100+"%"),_&8&&v!==(v=We(d[22].bytes)+"")&&W(b,v)},d(d){d&&E(e)}}}function va(t){var Q,D,J,$,x,ae,ce,Z;let e,s,i,a,r,c,h,f,u,v,b,m,d=we((D=(Q=t[0])==null?void 0:Q.clickhouse)==null?void 0:D.queries_total)+"",_,k,w,z,g,M=we(($=(J=t[0])==null?void 0:J.clickhouse)==null?void 0:$.queries_cached)+"",j,L,C,S,q,B=we((ae=(x=t[0])==null?void 0:x.clickhouse)==null?void 0:ae.errors_total)+"",I,H,R,T,y,F=(((Z=(ce=t[0])==null?void 0:ce.clickhouse)==null?void 0:Z.avg_query_time)||"0s")+"",A,U,V;function K(te,X){return te[2].length>0?ic:nc}let G=K(t),Y=G(t);return{c(){e=o("div"),s=o("div"),s.innerHTML='<h3 class="svelte-sk9hu5">Slow Queries</h3><span class="badge warn svelte-sk9hu5">&gt;100ms</span>',i=p(),Y.c(),a=p(),r=o("div"),c=o("div"),h=o("div"),h.innerHTML='<h3 class="svelte-sk9hu5">Query Stats</h3>',f=p(),u=o("div"),v=o("div"),b=o("span"),b.textContent="Total",m=o("span"),_=N(d),k=p(),w=o("div"),z=o("span"),z.textContent="Cached",g=o("span"),j=N(M),L=p(),C=o("div"),S=o("span"),S.textContent="Failed",q=o("span"),I=N(B),H=p(),R=o("div"),T=o("span"),T.textContent="Avg Time",y=o("span"),A=N(F),U=p(),V=o("div"),V.innerHTML='<div class="card-head svelte-sk9hu5"><h3 class="svelte-sk9hu5">Tips</h3></div> <div class="tips svelte-sk9hu5"><p class="svelte-sk9hu5">Use time filters to reduce scans</p> <p class="svelte-sk9hu5">Leverage indexed columns</p> <p class="svelte-sk9hu5">Use LIMIT clause</p></div>',n(s,"class","card-head svelte-sk9hu5"),n(e,"class","card wide svelte-sk9hu5"),n(h,"class","card-head svelte-sk9hu5"),n(m,"class","mono svelte-sk9hu5"),n(v,"class","svelte-sk9hu5"),n(g,"class","mono svelte-sk9hu5"),n(w,"class","svelte-sk9hu5"),n(q,"class","mono err svelte-sk9hu5"),n(C,"class","svelte-sk9hu5"),n(y,"class","mono svelte-sk9hu5"),n(R,"class","svelte-sk9hu5"),n(u,"class","query-stats svelte-sk9hu5"),n(c,"class","card svelte-sk9hu5"),n(V,"class","card svelte-sk9hu5"),n(r,"class","grid cols-2 svelte-sk9hu5")},m(te,X){O(te,e,X),l(e,s),l(e,i),Y.m(e,null),O(te,a,X),O(te,r,X),l(r,c),l(c,h),l(c,f),l(c,u),l(u,v),l(v,b),l(v,m),l(m,_),l(u,k),l(u,w),l(w,z),l(w,g),l(g,j),l(u,L),l(u,C),l(C,S),l(C,q),l(q,I),l(u,H),l(u,R),l(R,T),l(R,y),l(y,A),l(r,U),l(r,V)},p(te,X){var pe,ke,re,fe,de,ee,se,ne;G===(G=K(te))&&Y?Y.p(te,X):(Y.d(1),Y=G(te),Y&&(Y.c(),Y.m(e,null))),X&1&&d!==(d=we((ke=(pe=te[0])==null?void 0:pe.clickhouse)==null?void 0:ke.queries_total)+"")&&W(_,d),X&1&&M!==(M=we((fe=(re=te[0])==null?void 0:re.clickhouse)==null?void 0:fe.queries_cached)+"")&&W(j,M),X&1&&B!==(B=we((ee=(de=te[0])==null?void 0:de.clickhouse)==null?void 0:ee.errors_total)+"")&&W(I,B),X&1&&F!==(F=(((ne=(se=te[0])==null?void 0:se.clickhouse)==null?void 0:ne.avg_query_time)||"0s")+"")&&W(A,F)},d(te){te&&(E(e),E(a),E(r)),Y.d()}}}function nc(t){let e;return{c(){e=o("div"),e.textContent="No slow queries",n(e,"class","no-data svelte-sk9hu5")},m(s,i){O(s,e,i)},p:he,d(s){s&&E(e)}}}function ic(t){let e,s,i,a,r=ue(t[2]),c=[];for(let h=0;h<r.length;h+=1)c[h]=pa(sa(t,r,h));return{c(){e=o("table"),s=o("thead"),s.innerHTML='<tr><th class="svelte-sk9hu5">Query</th><th class="svelte-sk9hu5">Time</th><th class="svelte-sk9hu5">Rows</th><th class="svelte-sk9hu5">Mem</th></tr>',i=p(),a=o("tbody");for(let h=0;h<c.length;h+=1)c[h].c();n(e,"class","data-table svelte-sk9hu5")},m(h,f){O(h,e,f),l(e,s),l(e,i),l(e,a);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(a,null)},p(h,f){if(f&4){r=ue(h[2]);let u;for(u=0;u<r.length;u+=1){const v=sa(h,r,u);c[u]?c[u].p(v,f):(c[u]=pa(v),c[u].c(),c[u].m(a,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=r.length}},d(h){h&&E(e),Se(c,h)}}}function pa(t){var j;let e,s,i,a=((j=t[19].query)==null?void 0:j.substring(0,60))+"",r,c,h,f,u=Ml(t[19].duration_ms)+"",v,b,m,d=we(t[19].read_rows)+"",_,k,w,z=We(t[19].memory_usage)+"",g,M;return{c(){e=o("tr"),s=o("td"),i=o("code"),r=N(a),c=N("..."),h=p(),f=o("td"),v=N(u),b=p(),m=o("td"),_=N(d),k=p(),w=o("td"),g=N(z),M=p(),n(i,"class","query-text svelte-sk9hu5"),n(s,"class","svelte-sk9hu5"),n(f,"class","mono svelte-sk9hu5"),le(f,"slow",t[19].duration_ms>500),n(m,"class","mono svelte-sk9hu5"),n(w,"class","mono svelte-sk9hu5")},m(L,C){O(L,e,C),l(e,s),l(s,i),l(i,r),l(i,c),l(e,h),l(e,f),l(f,v),l(e,b),l(e,m),l(m,_),l(e,k),l(e,w),l(w,g),l(e,M)},p(L,C){var S;C&4&&a!==(a=((S=L[19].query)==null?void 0:S.substring(0,60))+"")&&W(r,a),C&4&&u!==(u=Ml(L[19].duration_ms)+"")&&W(v,u),C&4&&le(f,"slow",L[19].duration_ms>500),C&4&&d!==(d=we(L[19].read_rows)+"")&&W(_,d),C&4&&z!==(z=We(L[19].memory_usage)+"")&&W(g,z)},d(L){L&&E(e)}}}function ac(t){let e,s,i,a,r,c,h,f,u,v,b,m,d,_,k,w,z,g,M,j,L,C,S,q,B,I,H,R,T,y=t[5]&&oa(t);function F(V,K){return V[4]&&!V[1]?xo:$o}let A=F(t),U=A(t);return{c(){e=o("div"),s=o("header"),i=o("div"),a=o("h1"),a.textContent="Analytics",r=p(),c=o("div"),h=o("button"),h.textContent="Overview",f=p(),u=o("button"),u.textContent="Performance",v=p(),b=o("button"),b.textContent="Storage",m=p(),d=o("button"),d.textContent="Queries",_=p(),k=o("div"),w=o("select"),z=o("option"),z.textContent="15m",g=o("option"),g.textContent="1h",M=o("option"),M.textContent="6h",j=o("option"),j.textContent="24h",L=p(),C=o("button"),S=ie("svg"),q=ie("path"),B=ie("path"),I=p(),y&&y.c(),H=p(),U.c(),n(a,"class","svelte-sk9hu5"),n(h,"class","svelte-sk9hu5"),le(h,"active",t[6]==="overview"),n(u,"class","svelte-sk9hu5"),le(u,"active",t[6]==="performance"),n(b,"class","svelte-sk9hu5"),le(b,"active",t[6]==="storage"),n(d,"class","svelte-sk9hu5"),le(d,"active",t[6]==="queries"),n(c,"class","tabs svelte-sk9hu5"),n(i,"class","header-left svelte-sk9hu5"),z.__value="15m",_e(z,z.__value),g.__value="1h",_e(g,g.__value),M.__value="6h",_e(M,M.__value),j.__value="24h",_e(j,j.__value),n(w,"class","time-select svelte-sk9hu5"),t[7]===void 0&&Ne(()=>t[17].call(w)),n(q,"d","M23 4v6h-6M1 20v-6h6"),n(B,"d","M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"),n(S,"width","12"),n(S,"height","12"),n(S,"viewBox","0 0 24 24"),n(S,"fill","none"),n(S,"stroke","currentColor"),n(S,"stroke-width","2"),n(S,"class","svelte-sk9hu5"),le(S,"spinning",t[4]),n(C,"class","refresh-btn svelte-sk9hu5"),C.disabled=t[4],n(k,"class","header-right svelte-sk9hu5"),n(s,"class","header svelte-sk9hu5"),n(e,"class","analytics-page svelte-sk9hu5")},m(V,K){O(V,e,K),l(e,s),l(s,i),l(i,a),l(i,r),l(i,c),l(c,h),l(c,f),l(c,u),l(c,v),l(c,b),l(c,m),l(c,d),l(s,_),l(s,k),l(k,w),l(w,z),l(w,g),l(w,M),l(w,j),Re(w,t[7],!0),l(k,L),l(k,C),l(C,S),l(S,q),l(S,B),l(e,I),y&&y.m(e,null),l(e,H),U.m(e,null),R||(T=[P(h,"click",t[13]),P(u,"click",t[14]),P(b,"click",t[15]),P(d,"click",t[16]),P(w,"change",t[17]),P(C,"click",t[11])],R=!0)},p(V,[K]){K&64&&le(h,"active",V[6]==="overview"),K&64&&le(u,"active",V[6]==="performance"),K&64&&le(b,"active",V[6]==="storage"),K&64&&le(d,"active",V[6]==="queries"),K&128&&Re(w,V[7]),K&16&&le(S,"spinning",V[4]),K&16&&(C.disabled=V[4]),V[5]?y?y.p(V,K):(y=oa(V),y.c(),y.m(e,H)):y&&(y.d(1),y=null),A===(A=F(V))&&U?U.p(V,K):(U.d(1),U=A(V),U&&(U.c(),U.m(e,null)))},i:he,o:he,d(V){V&&E(e),y&&y.d(),U.d(),R=!1,ze(T)}}}const wl="/api";function We(t){if(!t)return"0 B";const e=1024,s=["B","KB","MB","GB","TB"],i=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,i)).toFixed(2))+" "+s[i]}function we(t){return t?t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toLocaleString():"0"}function Ml(t){return t?t<1e3?t.toFixed(0)+"ms":t<6e4?(t/1e3).toFixed(2)+"s":(t/6e4).toFixed(1)+"m":"0ms"}const _a=(t,e)=>e[1]-t[1],ga=t=>t.bytes;function oc(t,e,s){let i,a,r,c=null,h=null,f=[],u=[],v=!0,b=null,m,d="overview",_="1h";async function k(){try{const[C,S,q,B]=await Promise.all([fetch(`${wl}/stats`),fetch(`${wl}/metrics/json`),fetch(`${wl}/analytics/queries`),fetch(`${wl}/analytics/tables`)]);if(s(1,c=await C.json()),s(0,h=await S.json()),q.ok){const I=await q.json();s(2,f=I.queries||[])}if(B.ok){const I=await B.json();s(3,u=I.tables||[])}s(5,b=null)}catch(C){s(5,b=C.message)}finally{s(4,v=!1)}}et(()=>{k(),m=setInterval(k,1e4)}),Ja(()=>{m&&clearInterval(m)});function w(){var S;return(((S=h==null?void 0:h.server)==null?void 0:S.uptime_secs)||0)<300?"warning":"healthy"}const z=()=>s(6,d="overview"),g=()=>s(6,d="performance"),M=()=>s(6,d="storage"),j=()=>s(6,d="queries");function L(){_=xe(this),s(7,_)}return t.$$.update=()=>{var C,S,q,B;t.$$.dirty&1&&s(10,i=((C=h==null?void 0:h.clickhouse)==null?void 0:C.queries_total)>0?((((S=h==null?void 0:h.clickhouse)==null?void 0:S.errors_total)||0)/h.clickhouse.queries_total*100).toFixed(2):0),t.$$.dirty&1&&s(9,a=parseFloat(((q=h==null?void 0:h.cache)==null?void 0:q.hit_rate)||"0%")||0),t.$$.dirty&1&&s(8,r=parseFloat(((B=h==null?void 0:h.clickhouse)==null?void 0:B.avg_query_time)||"0")||0)},[h,c,f,u,v,b,d,_,r,a,i,k,w,z,g,M,j,L]}class cc extends Je{constructor(e){super(),Ue(this,e,oc,ac,Ie,{})}}function ma(t,e,s){const i=t.slice();return i[36]=e[s],i}function ba(t,e,s){const i=t.slice();return i[39]=e[s],i}function ka(t,e,s){const i=t.slice();return i[39]=e[s],i}function wa(t,e,s){const i=t.slice();return i[39]=e[s],i}function ya(t,e,s){const i=t.slice();return i[39]=e[s],i}function za(t,e,s){const i=t.slice();return i[48]=e[s],i}function Ca(t){let e;return{c(){e=o("span"),e.textContent="Saved",n(e,"class","saved-badge svelte-3hzjxh")},m(s,i){O(s,e,i)},d(s){s&&E(e)}}}function rc(t){let e,s,i,a;return{c(){e=ie("svg"),s=ie("circle"),i=ie("line"),a=ie("line"),n(s,"cx","12"),n(s,"cy","12"),n(s,"r","10"),n(i,"x1","12"),n(i,"y1","16"),n(i,"x2","12"),n(i,"y2","12"),n(a,"x1","12"),n(a,"y1","8"),n(a,"x2","12.01"),n(a,"y2","8"),n(e,"width","16"),n(e,"height","16"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","2")},m(r,c){O(r,e,c),l(e,s),l(e,i),l(e,a)},d(r){r&&E(e)}}}function uc(t){let e,s,i,a;return{c(){e=ie("svg"),s=ie("ellipse"),i=ie("path"),a=ie("path"),n(s,"cx","12"),n(s,"cy","5"),n(s,"rx","9"),n(s,"ry","3"),n(i,"d","M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"),n(a,"d","M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"),n(e,"width","16"),n(e,"height","16"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","2")},m(r,c){O(r,e,c),l(e,s),l(e,i),l(e,a)},d(r){r&&E(e)}}}function hc(t){let e,s,i;return{c(){e=ie("svg"),s=ie("rect"),i=ie("path"),n(s,"x","2"),n(s,"y","4"),n(s,"width","20"),n(s,"height","16"),n(s,"rx","2"),n(i,"d","M6 8h.01M10 8h.01M14 8h.01M18 8h.01M8 12h.01M12 12h.01M16 12h.01M7 16h10"),n(e,"width","16"),n(e,"height","16"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","2")},m(a,r){O(a,e,r),l(e,s),l(e,i)},d(a){a&&E(e)}}}function fc(t){let e,s;return{c(){e=ie("svg"),s=ie("path"),n(s,"d","M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9M13.73 21a2 2 0 01-3.46 0"),n(e,"width","16"),n(e,"height","16"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","2")},m(i,a){O(i,e,a),l(e,s)},d(i){i&&E(e)}}}function dc(t){let e,s,i;return{c(){e=ie("svg"),s=ie("path"),i=ie("path"),n(s,"d","M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"),n(i,"d","M14 2v6h6M16 13H8M16 17H8M10 9H8"),n(e,"width","16"),n(e,"height","16"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","2")},m(a,r){O(a,e,r),l(e,s),l(e,i)},d(a){a&&E(e)}}}function vc(t){let e,s,i,a;return{c(){e=ie("svg"),s=ie("rect"),i=ie("line"),a=ie("line"),n(s,"x","2"),n(s,"y","3"),n(s,"width","20"),n(s,"height","14"),n(s,"rx","2"),n(i,"x1","8"),n(i,"y1","21"),n(i,"x2","16"),n(i,"y2","21"),n(a,"x1","12"),n(a,"y1","17"),n(a,"x2","12"),n(a,"y2","21"),n(e,"width","16"),n(e,"height","16"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","2")},m(r,c){O(r,e,c),l(e,s),l(e,i),l(e,a)},d(r){r&&E(e)}}}function ja(t){let e,s,i,a,r,c;function h(b,m){if(b[48].icon==="monitor")return vc;if(b[48].icon==="file-text")return dc;if(b[48].icon==="bell")return fc;if(b[48].icon==="keyboard")return hc;if(b[48].icon==="database")return uc;if(b[48].icon==="info")return rc}let f=h(t),u=f&&f(t);function v(){return t[16](t[48])}return{c(){e=o("button"),u&&u.c(),s=p(),i=o("span"),i.textContent=`${t[48].label}`,a=p(),n(e,"class","nav-item svelte-3hzjxh"),le(e,"active",t[1]===t[48].id)},m(b,m){O(b,e,m),u&&u.m(e,null),l(e,s),l(e,i),l(e,a),r||(c=P(e,"click",v),r=!0)},p(b,m){t=b,m[0]&66&&le(e,"active",t[1]===t[48].id)},d(b){b&&E(e),u&&u.d(),r=!1,c()}}}function Ma(t){let e,s,i,a,r,c,h,f,u,v,b,m,d,_,k,w,z,g,M,j,L,C,S,q,B,I,H,R,T,y,F,A,U,V,K,G,Y,Q,D=ue(t[7]),J=[];for(let Z=0;Z<D.length;Z+=1)J[Z]=Sa(ya(t,D,Z));let $=ue(t[8]),x=[];for(let Z=0;Z<$.length;Z+=1)x[Z]=La(wa(t,$,Z));let ae=ue(t[9]),ce=[];for(let Z=0;Z<ae.length;Z+=1)ce[Z]=Ta(ka(t,ae,Z));return{c(){e=o("section"),s=o("div"),s.innerHTML='<h3 class="svelte-3hzjxh">Display Settings</h3> <p class="svelte-3hzjxh">Customize the appearance of your dashboard</p>',i=p(),a=o("div"),r=o("div"),c=o("div"),c.innerHTML='<label for="time-range" class="svelte-3hzjxh">Default Time Range</label> <span class="setting-hint svelte-3hzjxh">Initial time range when loading</span>',h=p(),f=o("select");for(let Z=0;Z<J.length;Z+=1)J[Z].c();u=p(),v=o("div"),b=o("div"),b.innerHTML='<label for="auto-refresh" class="svelte-3hzjxh">Auto Refresh</label> <span class="setting-hint svelte-3hzjxh">Automatically refresh log data</span>',m=p(),d=o("select");for(let Z=0;Z<x.length;Z+=1)x[Z].c();_=p(),k=o("div"),w=o("div"),w.innerHTML='<label for="max-results" class="svelte-3hzjxh">Max Results</label> <span class="setting-hint svelte-3hzjxh">Maximum logs per query</span>',z=p(),g=o("select"),M=o("option"),M.textContent="100",j=o("option"),j.textContent="250",L=o("option"),L.textContent="500",C=o("option"),C.textContent="1,000",S=o("option"),S.textContent="2,000",q=p(),B=o("div"),I=o("div"),I.innerHTML='<label for="font-size" class="svelte-3hzjxh">Font Size</label> <span class="setting-hint svelte-3hzjxh">Log viewer text size</span>',H=p(),R=o("select");for(let Z=0;Z<ce.length;Z+=1)ce[Z].c();T=p(),y=o("div"),F=o("div"),F.innerHTML='<span class="setting-label svelte-3hzjxh">Compact Mode</span> <span class="setting-hint svelte-3hzjxh">Reduce padding for more logs</span>',A=p(),U=o("label"),V=o("input"),K=p(),G=o("span"),n(s,"class","section-header svelte-3hzjxh"),n(c,"class","setting-info svelte-3hzjxh"),n(f,"id","time-range"),n(f,"class","svelte-3hzjxh"),t[0].defaultTimeRange===void 0&&Ne(()=>t[17].call(f)),n(r,"class","setting-item svelte-3hzjxh"),n(b,"class","setting-info svelte-3hzjxh"),n(d,"id","auto-refresh"),n(d,"class","svelte-3hzjxh"),t[0].refreshInterval===void 0&&Ne(()=>t[18].call(d)),n(v,"class","setting-item svelte-3hzjxh"),n(w,"class","setting-info svelte-3hzjxh"),M.__value=100,_e(M,M.__value),j.__value=250,_e(j,j.__value),L.__value=500,_e(L,L.__value),C.__value=1e3,_e(C,C.__value),S.__value=2e3,_e(S,S.__value),n(g,"id","max-results"),n(g,"class","svelte-3hzjxh"),t[0].maxResults===void 0&&Ne(()=>t[19].call(g)),n(k,"class","setting-item svelte-3hzjxh"),n(I,"class","setting-info svelte-3hzjxh"),n(R,"id","font-size"),n(R,"class","svelte-3hzjxh"),t[0].fontSize===void 0&&Ne(()=>t[20].call(R)),n(B,"class","setting-item svelte-3hzjxh"),n(F,"class","setting-info svelte-3hzjxh"),n(V,"type","checkbox"),n(V,"class","svelte-3hzjxh"),n(G,"class","toggle-slider svelte-3hzjxh"),n(U,"class","toggle svelte-3hzjxh"),n(y,"class","setting-item svelte-3hzjxh"),n(a,"class","settings-group svelte-3hzjxh"),n(e,"class","settings-section svelte-3hzjxh")},m(Z,te){O(Z,e,te),l(e,s),l(e,i),l(e,a),l(a,r),l(r,c),l(r,h),l(r,f);for(let X=0;X<J.length;X+=1)J[X]&&J[X].m(f,null);Re(f,t[0].defaultTimeRange,!0),l(a,u),l(a,v),l(v,b),l(v,m),l(v,d);for(let X=0;X<x.length;X+=1)x[X]&&x[X].m(d,null);Re(d,t[0].refreshInterval,!0),l(a,_),l(a,k),l(k,w),l(k,z),l(k,g),l(g,M),l(g,j),l(g,L),l(g,C),l(g,S),Re(g,t[0].maxResults,!0),l(a,q),l(a,B),l(B,I),l(B,H),l(B,R);for(let X=0;X<ce.length;X+=1)ce[X]&&ce[X].m(R,null);Re(R,t[0].fontSize,!0),l(a,T),l(a,y),l(y,F),l(y,A),l(y,U),l(U,V),V.checked=t[0].compactMode,l(U,K),l(U,G),Y||(Q=[P(f,"change",t[17]),P(f,"change",t[12]),P(d,"change",t[18]),P(d,"change",t[12]),P(g,"change",t[19]),P(g,"change",t[12]),P(R,"change",t[20]),P(R,"change",t[12]),P(V,"change",t[21]),P(V,"change",t[12])],Y=!0)},p(Z,te){if(te[0]&128){D=ue(Z[7]);let X;for(X=0;X<D.length;X+=1){const pe=ya(Z,D,X);J[X]?J[X].p(pe,te):(J[X]=Sa(pe),J[X].c(),J[X].m(f,null))}for(;X<J.length;X+=1)J[X].d(1);J.length=D.length}if(te[0]&129&&Re(f,Z[0].defaultTimeRange),te[0]&256){$=ue(Z[8]);let X;for(X=0;X<$.length;X+=1){const pe=wa(Z,$,X);x[X]?x[X].p(pe,te):(x[X]=La(pe),x[X].c(),x[X].m(d,null))}for(;X<x.length;X+=1)x[X].d(1);x.length=$.length}if(te[0]&129&&Re(d,Z[0].refreshInterval),te[0]&129&&Re(g,Z[0].maxResults),te[0]&512){ae=ue(Z[9]);let X;for(X=0;X<ae.length;X+=1){const pe=ka(Z,ae,X);ce[X]?ce[X].p(pe,te):(ce[X]=Ta(pe),ce[X].c(),ce[X].m(R,null))}for(;X<ce.length;X+=1)ce[X].d(1);ce.length=ae.length}te[0]&129&&Re(R,Z[0].fontSize),te[0]&129&&(V.checked=Z[0].compactMode)},d(Z){Z&&E(e),Se(J,Z),Se(x,Z),Se(ce,Z),Y=!1,ze(Q)}}}function Sa(t){let e,s=t[39].label+"",i;return{c(){e=o("option"),i=N(s),e.__value=t[39].value,_e(e,e.__value)},m(a,r){O(a,e,r),l(e,i)},p:he,d(a){a&&E(e)}}}function La(t){let e,s=t[39].label+"",i;return{c(){e=o("option"),i=N(s),e.__value=t[39].value,_e(e,e.__value)},m(a,r){O(a,e,r),l(e,i)},p:he,d(a){a&&E(e)}}}function Ta(t){let e,s=t[39].label+"",i;return{c(){e=o("option"),i=N(s),e.__value=t[39].value,_e(e,e.__value)},m(a,r){O(a,e,r),l(e,i)},p:he,d(a){a&&E(e)}}}function Ha(t){let e,s,i,a,r,c,h,f,u,v,b,m,d,_,k,w,z,g,M,j,L,C,S,q,B,I,H,R,T,y,F,A,U,V,K,G,Y,Q,D,J,$,x,ae,ce,Z,te,X,pe,ke,re,fe=ue(t[10]),de=[];for(let ee=0;ee<fe.length;ee+=1)de[ee]=Ra(ba(t,fe,ee));return{c(){e=o("section"),s=o("div"),s.innerHTML='<h3 class="svelte-3hzjxh">Log Viewer Settings</h3> <p class="svelte-3hzjxh">Configure how logs are displayed and formatted</p>',i=p(),a=o("div"),r=o("div"),c=o("div"),c.innerHTML='<label for="timestamp-format" class="svelte-3hzjxh">Timestamp Format</label> <span class="setting-hint svelte-3hzjxh">How to display log timestamps</span>',h=p(),f=o("select");for(let ee=0;ee<de.length;ee+=1)de[ee].c();u=p(),v=o("div"),b=o("div"),b.innerHTML='<span class="setting-label svelte-3hzjxh">Show Host Column</span> <span class="setting-hint svelte-3hzjxh">Display hostname in log table</span>',m=p(),d=o("label"),_=o("input"),k=p(),w=o("span"),z=p(),g=o("div"),M=o("div"),M.innerHTML='<span class="setting-label svelte-3hzjxh">Show Raw Logs</span> <span class="setting-hint svelte-3hzjxh">Display raw log data column</span>',j=p(),L=o("label"),C=o("input"),S=p(),q=o("span"),B=p(),I=o("div"),H=o("div"),H.innerHTML='<span class="setting-label svelte-3hzjxh">Line Wrap</span> <span class="setting-hint svelte-3hzjxh">Wrap long log messages</span>',R=p(),T=o("label"),y=o("input"),F=p(),A=o("span"),U=p(),V=o("div"),K=o("div"),K.innerHTML='<span class="setting-label svelte-3hzjxh">Highlight Errors</span> <span class="setting-hint svelte-3hzjxh">Highlight error/critical logs</span>',G=p(),Y=o("label"),Q=o("input"),D=p(),J=o("span"),$=p(),x=o("div"),ae=o("div"),ae.innerHTML='<span class="setting-label svelte-3hzjxh">Auto Scroll</span> <span class="setting-hint svelte-3hzjxh">Scroll to new logs in live mode</span>',ce=p(),Z=o("label"),te=o("input"),X=p(),pe=o("span"),n(s,"class","section-header svelte-3hzjxh"),n(c,"class","setting-info svelte-3hzjxh"),n(f,"id","timestamp-format"),n(f,"class","svelte-3hzjxh"),t[0].timestampFormat===void 0&&Ne(()=>t[22].call(f)),n(r,"class","setting-item svelte-3hzjxh"),n(b,"class","setting-info svelte-3hzjxh"),n(_,"type","checkbox"),n(_,"class","svelte-3hzjxh"),n(w,"class","toggle-slider svelte-3hzjxh"),n(d,"class","toggle svelte-3hzjxh"),n(v,"class","setting-item svelte-3hzjxh"),n(M,"class","setting-info svelte-3hzjxh"),n(C,"type","checkbox"),n(C,"class","svelte-3hzjxh"),n(q,"class","toggle-slider svelte-3hzjxh"),n(L,"class","toggle svelte-3hzjxh"),n(g,"class","setting-item svelte-3hzjxh"),n(H,"class","setting-info svelte-3hzjxh"),n(y,"type","checkbox"),n(y,"class","svelte-3hzjxh"),n(A,"class","toggle-slider svelte-3hzjxh"),n(T,"class","toggle svelte-3hzjxh"),n(I,"class","setting-item svelte-3hzjxh"),n(K,"class","setting-info svelte-3hzjxh"),n(Q,"type","checkbox"),n(Q,"class","svelte-3hzjxh"),n(J,"class","toggle-slider svelte-3hzjxh"),n(Y,"class","toggle svelte-3hzjxh"),n(V,"class","setting-item svelte-3hzjxh"),n(ae,"class","setting-info svelte-3hzjxh"),n(te,"type","checkbox"),n(te,"class","svelte-3hzjxh"),n(pe,"class","toggle-slider svelte-3hzjxh"),n(Z,"class","toggle svelte-3hzjxh"),n(x,"class","setting-item svelte-3hzjxh"),n(a,"class","settings-group svelte-3hzjxh"),n(e,"class","settings-section svelte-3hzjxh")},m(ee,se){O(ee,e,se),l(e,s),l(e,i),l(e,a),l(a,r),l(r,c),l(r,h),l(r,f);for(let ne=0;ne<de.length;ne+=1)de[ne]&&de[ne].m(f,null);Re(f,t[0].timestampFormat,!0),l(a,u),l(a,v),l(v,b),l(v,m),l(v,d),l(d,_),_.checked=t[0].showHost,l(d,k),l(d,w),l(a,z),l(a,g),l(g,M),l(g,j),l(g,L),l(L,C),C.checked=t[0].showRaw,l(L,S),l(L,q),l(a,B),l(a,I),l(I,H),l(I,R),l(I,T),l(T,y),y.checked=t[0].lineWrap,l(T,F),l(T,A),l(a,U),l(a,V),l(V,K),l(V,G),l(V,Y),l(Y,Q),Q.checked=t[0].highlightErrors,l(Y,D),l(Y,J),l(a,$),l(a,x),l(x,ae),l(x,ce),l(x,Z),l(Z,te),te.checked=t[0].autoScroll,l(Z,X),l(Z,pe),ke||(re=[P(f,"change",t[22]),P(f,"change",t[12]),P(_,"change",t[23]),P(_,"change",t[12]),P(C,"change",t[24]),P(C,"change",t[12]),P(y,"change",t[25]),P(y,"change",t[12]),P(Q,"change",t[26]),P(Q,"change",t[12]),P(te,"change",t[27]),P(te,"change",t[12])],ke=!0)},p(ee,se){if(se[0]&1024){fe=ue(ee[10]);let ne;for(ne=0;ne<fe.length;ne+=1){const ve=ba(ee,fe,ne);de[ne]?de[ne].p(ve,se):(de[ne]=Ra(ve),de[ne].c(),de[ne].m(f,null))}for(;ne<de.length;ne+=1)de[ne].d(1);de.length=fe.length}se[0]&129&&Re(f,ee[0].timestampFormat),se[0]&129&&(_.checked=ee[0].showHost),se[0]&129&&(C.checked=ee[0].showRaw),se[0]&129&&(y.checked=ee[0].lineWrap),se[0]&129&&(Q.checked=ee[0].highlightErrors),se[0]&129&&(te.checked=ee[0].autoScroll)},d(ee){ee&&E(e),Se(de,ee),ke=!1,ze(re)}}}function Ra(t){let e,s=t[39].label+"",i;return{c(){e=o("option"),i=N(s),e.__value=t[39].value,_e(e,e.__value)},m(a,r){O(a,e,r),l(e,i)},p:he,d(a){a&&E(e)}}}function qa(t){var tt,Qe,Xe;let e,s,i,a,r,c,h,f,u,v,b,m,d,_,k,w,z,g,M,j,L,C,S,q,B,I,H,R,T,y,F,A,U,V,K,G,Y,Q,D,J,$,x,ae,ce,Z,te,X,pe,ke,re;function fe(oe,je){return oe[0].notifications.telegram.configured?_c:pc}let de=fe(t),ee=de(t),se=((tt=t[3])==null?void 0:tt.type)==="telegram"&&Aa(t);function ne(oe,je){return oe[0].notifications.slack.configured?mc:gc}let ve=ne(t),me=ve(t),be=((Qe=t[3])==null?void 0:Qe.type)==="slack"&&Ba(t);function Ae(oe,je){return oe[0].notifications.webhook.configured?kc:bc}let Ke=Ae(t),Te=Ke(t),Le=((Xe=t[3])==null?void 0:Xe.type)==="webhook"&&Ea(t);return{c(){e=o("section"),s=o("div"),s.innerHTML='<h3 class="svelte-3hzjxh">Alert Notifications</h3> <p class="svelte-3hzjxh">Configure notification channels for alerts. Set environment variables on the server.</p>',i=p(),a=o("div"),r=o("div"),c=o("div"),c.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"></path></svg>',h=p(),f=o("div"),u=o("h4"),u.textContent="Telegram",v=p(),b=o("p"),b.textContent="Receive alerts via Telegram bot",m=p(),d=o("div"),d.innerHTML='<code class="svelte-3hzjxh">PURL_TELEGRAM_BOT_TOKEN</code> <code class="svelte-3hzjxh">PURL_TELEGRAM_CHAT_ID</code>',_=p(),ee.c(),k=p(),se&&se.c(),w=p(),z=o("div"),g=o("div"),g.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"></path></svg>',M=p(),j=o("div"),L=o("h4"),L.textContent="Slack",C=p(),S=o("p"),S.textContent="Post alerts to Slack channel",q=p(),B=o("div"),B.innerHTML='<code class="svelte-3hzjxh">PURL_SLACK_WEBHOOK_URL</code>',I=p(),me.c(),H=p(),be&&be.c(),R=p(),T=o("div"),y=o("div"),y.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"></path></svg>',F=p(),A=o("div"),U=o("h4"),U.textContent="Webhook",V=p(),K=o("p"),K.textContent="Send to custom HTTP endpoint",G=p(),Y=o("div"),Y.innerHTML='<code class="svelte-3hzjxh">PURL_ALERT_WEBHOOK_URL</code>',Q=p(),Te.c(),D=p(),Le&&Le.c(),J=p(),$=o("div"),x=o("div"),ae=o("div"),ae.innerHTML='<span class="setting-label svelte-3hzjxh">Sound Alerts</span> <span class="setting-hint svelte-3hzjxh">Play sound for new alerts</span>',ce=p(),Z=o("label"),te=o("input"),X=p(),pe=o("span"),n(s,"class","section-header svelte-3hzjxh"),n(c,"class","notification-icon telegram svelte-3hzjxh"),n(u,"class","svelte-3hzjxh"),n(b,"class","svelte-3hzjxh"),n(d,"class","env-vars svelte-3hzjxh"),n(f,"class","notification-content svelte-3hzjxh"),n(r,"class","notification-card svelte-3hzjxh"),le(r,"configured",t[0].notifications.telegram.configured),n(g,"class","notification-icon slack svelte-3hzjxh"),n(L,"class","svelte-3hzjxh"),n(S,"class","svelte-3hzjxh"),n(B,"class","env-vars svelte-3hzjxh"),n(j,"class","notification-content svelte-3hzjxh"),n(z,"class","notification-card svelte-3hzjxh"),le(z,"configured",t[0].notifications.slack.configured),n(y,"class","notification-icon webhook svelte-3hzjxh"),n(U,"class","svelte-3hzjxh"),n(K,"class","svelte-3hzjxh"),n(Y,"class","env-vars svelte-3hzjxh"),n(A,"class","notification-content svelte-3hzjxh"),n(T,"class","notification-card svelte-3hzjxh"),le(T,"configured",t[0].notifications.webhook.configured),n(a,"class","notification-grid svelte-3hzjxh"),n(ae,"class","setting-info svelte-3hzjxh"),n(te,"type","checkbox"),n(te,"class","svelte-3hzjxh"),n(pe,"class","toggle-slider svelte-3hzjxh"),n(Z,"class","toggle svelte-3hzjxh"),n(x,"class","setting-item svelte-3hzjxh"),n($,"class","settings-group svelte-3hzjxh"),ge($,"margin-top","20px"),n(e,"class","settings-section svelte-3hzjxh")},m(oe,je){O(oe,e,je),l(e,s),l(e,i),l(e,a),l(a,r),l(r,c),l(r,h),l(r,f),l(f,u),l(f,v),l(f,b),l(f,m),l(f,d),l(f,_),ee.m(f,null),l(f,k),se&&se.m(f,null),l(a,w),l(a,z),l(z,g),l(z,M),l(z,j),l(j,L),l(j,C),l(j,S),l(j,q),l(j,B),l(j,I),me.m(j,null),l(j,H),be&&be.m(j,null),l(a,R),l(a,T),l(T,y),l(T,F),l(T,A),l(A,U),l(A,V),l(A,K),l(A,G),l(A,Y),l(A,Q),Te.m(A,null),l(A,D),Le&&Le.m(A,null),l(e,J),l(e,$),l($,x),l(x,ae),l(x,ce),l(x,Z),l(Z,te),te.checked=t[0].soundAlerts,l(Z,X),l(Z,pe),ke||(re=[P(te,"change",t[31]),P(te,"change",t[12])],ke=!0)},p(oe,je){var Me,at,bt;de===(de=fe(oe))&&ee?ee.p(oe,je):(ee.d(1),ee=de(oe),ee&&(ee.c(),ee.m(f,k))),((Me=oe[3])==null?void 0:Me.type)==="telegram"?se?se.p(oe,je):(se=Aa(oe),se.c(),se.m(f,null)):se&&(se.d(1),se=null),je[0]&1&&le(r,"configured",oe[0].notifications.telegram.configured),ve===(ve=ne(oe))&&me?me.p(oe,je):(me.d(1),me=ve(oe),me&&(me.c(),me.m(j,H))),((at=oe[3])==null?void 0:at.type)==="slack"?be?be.p(oe,je):(be=Ba(oe),be.c(),be.m(j,null)):be&&(be.d(1),be=null),je[0]&1&&le(z,"configured",oe[0].notifications.slack.configured),Ke===(Ke=Ae(oe))&&Te?Te.p(oe,je):(Te.d(1),Te=Ke(oe),Te&&(Te.c(),Te.m(A,D))),((bt=oe[3])==null?void 0:bt.type)==="webhook"?Le?Le.p(oe,je):(Le=Ea(oe),Le.c(),Le.m(A,null)):Le&&(Le.d(1),Le=null),je[0]&1&&le(T,"configured",oe[0].notifications.webhook.configured),je[0]&129&&(te.checked=oe[0].soundAlerts)},d(oe){oe&&E(e),ee.d(),se&&se.d(),me.d(),be&&be.d(),Te.d(),Le&&Le.d(),ke=!1,ze(re)}}}function pc(t){let e;return{c(){e=o("div"),e.textContent="Not configured",n(e,"class","notification-status svelte-3hzjxh")},m(s,i){O(s,e,i)},p:he,d(s){s&&E(e)}}}function _c(t){let e,s,i,a=t[2]==="telegram"?"Sending...":"Send Test",r,c,h,f;return{c(){e=o("div"),e.innerHTML=`<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                  Configured`,s=p(),i=o("button"),r=N(a),n(e,"class","notification-status configured svelte-3hzjxh"),n(i,"class","test-btn svelte-3hzjxh"),i.disabled=c=t[2]==="telegram"},m(u,v){O(u,e,v),O(u,s,v),O(u,i,v),l(i,r),h||(f=P(i,"click",t[28]),h=!0)},p(u,v){v[0]&4&&a!==(a=u[2]==="telegram"?"Sending...":"Send Test")&&W(r,a),v[0]&4&&c!==(c=u[2]==="telegram")&&(i.disabled=c)},d(u){u&&(E(e),E(s),E(i)),h=!1,f()}}}function Aa(t){let e,s=t[3].message+"",i;return{c(){e=o("div"),i=N(s),n(e,"class","test-result svelte-3hzjxh"),le(e,"success",t[3].success)},m(a,r){O(a,e,r),l(e,i)},p(a,r){r[0]&8&&s!==(s=a[3].message+"")&&W(i,s),r[0]&8&&le(e,"success",a[3].success)},d(a){a&&E(e)}}}function gc(t){let e;return{c(){e=o("div"),e.textContent="Not configured",n(e,"class","notification-status svelte-3hzjxh")},m(s,i){O(s,e,i)},p:he,d(s){s&&E(e)}}}function mc(t){let e,s,i,a=t[2]==="slack"?"Sending...":"Send Test",r,c,h,f;return{c(){e=o("div"),e.innerHTML=`<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                  Configured`,s=p(),i=o("button"),r=N(a),n(e,"class","notification-status configured svelte-3hzjxh"),n(i,"class","test-btn svelte-3hzjxh"),i.disabled=c=t[2]==="slack"},m(u,v){O(u,e,v),O(u,s,v),O(u,i,v),l(i,r),h||(f=P(i,"click",t[29]),h=!0)},p(u,v){v[0]&4&&a!==(a=u[2]==="slack"?"Sending...":"Send Test")&&W(r,a),v[0]&4&&c!==(c=u[2]==="slack")&&(i.disabled=c)},d(u){u&&(E(e),E(s),E(i)),h=!1,f()}}}function Ba(t){let e,s=t[3].message+"",i;return{c(){e=o("div"),i=N(s),n(e,"class","test-result svelte-3hzjxh"),le(e,"success",t[3].success)},m(a,r){O(a,e,r),l(e,i)},p(a,r){r[0]&8&&s!==(s=a[3].message+"")&&W(i,s),r[0]&8&&le(e,"success",a[3].success)},d(a){a&&E(e)}}}function bc(t){let e;return{c(){e=o("div"),e.textContent="Not configured",n(e,"class","notification-status svelte-3hzjxh")},m(s,i){O(s,e,i)},p:he,d(s){s&&E(e)}}}function kc(t){let e,s,i,a=t[2]==="webhook"?"Sending...":"Send Test",r,c,h,f;return{c(){e=o("div"),e.innerHTML=`<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                  Configured`,s=p(),i=o("button"),r=N(a),n(e,"class","notification-status configured svelte-3hzjxh"),n(i,"class","test-btn svelte-3hzjxh"),i.disabled=c=t[2]==="webhook"},m(u,v){O(u,e,v),O(u,s,v),O(u,i,v),l(i,r),h||(f=P(i,"click",t[30]),h=!0)},p(u,v){v[0]&4&&a!==(a=u[2]==="webhook"?"Sending...":"Send Test")&&W(r,a),v[0]&4&&c!==(c=u[2]==="webhook")&&(i.disabled=c)},d(u){u&&(E(e),E(s),E(i)),h=!1,f()}}}function Ea(t){let e,s=t[3].message+"",i;return{c(){e=o("div"),i=N(s),n(e,"class","test-result svelte-3hzjxh"),le(e,"success",t[3].success)},m(a,r){O(a,e,r),l(e,i)},p(a,r){r[0]&8&&s!==(s=a[3].message+"")&&W(i,s),r[0]&8&&le(e,"success",a[3].success)},d(a){a&&E(e)}}}function Oa(t){let e,s,i,a,r,c,h,f,u,v,b,m,d,_,k,w=ue(t[11]),z=[];for(let g=0;g<w.length;g+=1)z[g]=Na(ma(t,w,g));return{c(){e=o("section"),s=o("div"),s.innerHTML='<h3 class="svelte-3hzjxh">Keyboard Shortcuts</h3> <p class="svelte-3hzjxh">Quick access keys for common actions</p>',i=p(),a=o("div"),r=o("div"),c=o("div"),c.innerHTML='<span class="setting-label svelte-3hzjxh">Enable Keyboard Shortcuts</span> <span class="setting-hint svelte-3hzjxh">Use keyboard shortcuts globally</span>',h=p(),f=o("label"),u=o("input"),v=p(),b=o("span"),m=p(),d=o("div");for(let g=0;g<z.length;g+=1)z[g].c();n(s,"class","section-header svelte-3hzjxh"),n(c,"class","setting-info svelte-3hzjxh"),n(u,"type","checkbox"),n(u,"class","svelte-3hzjxh"),n(b,"class","toggle-slider svelte-3hzjxh"),n(f,"class","toggle svelte-3hzjxh"),n(r,"class","setting-item svelte-3hzjxh"),n(a,"class","settings-group svelte-3hzjxh"),n(d,"class","shortcuts-list svelte-3hzjxh"),n(e,"class","settings-section svelte-3hzjxh")},m(g,M){O(g,e,M),l(e,s),l(e,i),l(e,a),l(a,r),l(r,c),l(r,h),l(r,f),l(f,u),u.checked=t[0].keyboardShortcuts,l(f,v),l(f,b),l(e,m),l(e,d);for(let j=0;j<z.length;j+=1)z[j]&&z[j].m(d,null);_||(k=[P(u,"change",t[32]),P(u,"change",t[12])],_=!0)},p(g,M){if(M[0]&129&&(u.checked=g[0].keyboardShortcuts),M[0]&2048){w=ue(g[11]);let j;for(j=0;j<w.length;j+=1){const L=ma(g,w,j);z[j]?z[j].p(L,M):(z[j]=Na(L),z[j].c(),z[j].m(d,null))}for(;j<z.length;j+=1)z[j].d(1);z.length=w.length}},d(g){g&&E(e),Se(z,g),_=!1,ze(k)}}}function Na(t){let e,s,i,a,r;return{c(){e=o("div"),s=o("kbd"),s.textContent=`${t[36].key}`,i=p(),a=o("span"),a.textContent=`${t[36].action}`,r=p(),n(s,"class","shortcut-key svelte-3hzjxh"),n(a,"class","shortcut-action svelte-3hzjxh"),n(e,"class","shortcut-item svelte-3hzjxh")},m(c,h){O(c,e,h),l(e,s),l(e,i),l(e,a),l(e,r)},p:he,d(c){c&&E(e)}}}function Ia(t){let e,s,i,a,r,c,h,f,u,v,b,m,d,_,k,w,z,g,M,j,L,C,S,q,B,I,H,R,T,y,F,A,U,V,K,G,Y,Q,D,J,$,x,ae,ce,Z,te,X,pe,ke,re,fe,de,ee,se,ne,ve,me;return{c(){e=o("section"),s=o("div"),s.innerHTML='<h3 class="svelte-3hzjxh">Data Management</h3> <p class="svelte-3hzjxh">Manage your application data and settings</p>',i=p(),a=o("div"),r=o("div"),c=o("div"),c.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"></path></svg>',h=p(),f=o("div"),u=o("h4"),u.textContent="Export Settings",v=p(),b=o("p"),b.textContent="Download all settings and preferences as JSON",m=p(),d=o("button"),d.textContent="Export",_=p(),k=o("div"),w=o("div"),w.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"></path></svg>',z=p(),g=o("div"),M=o("h4"),M.textContent="Import Settings",j=p(),L=o("p"),L.textContent="Restore settings from a backup file",C=p(),S=o("label"),q=N(`Import
                `),B=o("input"),I=p(),H=o("div"),R=o("div"),R.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path></svg>',T=p(),y=o("div"),F=o("h4"),F.textContent="Clear Cache",A=p(),U=o("p"),U.textContent="Remove temporary data and search history",V=p(),K=o("button"),K.textContent="Clear Cache",G=p(),Y=o("div"),Q=o("div"),Q.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',D=p(),J=o("div"),$=o("h4"),$.textContent="Reset to Defaults",x=p(),ae=o("p"),ae.textContent="Restore all settings to factory defaults",ce=p(),Z=o("button"),Z.textContent="Reset",te=p(),X=o("div"),pe=o("div"),pe.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6M10 11v6M14 11v6"></path></svg>',ke=p(),re=o("div"),fe=o("h4"),fe.textContent="Clear All Data",de=p(),ee=o("p"),ee.textContent="Delete all local data permanently",se=p(),ne=o("button"),ne.textContent="Delete All",n(s,"class","section-header svelte-3hzjxh"),n(c,"class","data-icon svelte-3hzjxh"),n(u,"class","svelte-3hzjxh"),n(b,"class","svelte-3hzjxh"),n(d,"class","data-btn svelte-3hzjxh"),n(f,"class","data-content svelte-3hzjxh"),n(r,"class","data-card svelte-3hzjxh"),n(w,"class","data-icon svelte-3hzjxh"),n(M,"class","svelte-3hzjxh"),n(L,"class","svelte-3hzjxh"),n(B,"type","file"),n(B,"accept",".json"),B.hidden=!0,n(S,"class","data-btn svelte-3hzjxh"),n(g,"class","data-content svelte-3hzjxh"),n(k,"class","data-card svelte-3hzjxh"),n(R,"class","data-icon warning svelte-3hzjxh"),n(F,"class","svelte-3hzjxh"),n(U,"class","svelte-3hzjxh"),n(K,"class","data-btn warning svelte-3hzjxh"),n(y,"class","data-content svelte-3hzjxh"),n(H,"class","data-card svelte-3hzjxh"),n(Q,"class","data-icon danger svelte-3hzjxh"),n($,"class","svelte-3hzjxh"),n(ae,"class","svelte-3hzjxh"),n(Z,"class","data-btn danger svelte-3hzjxh"),n(J,"class","data-content svelte-3hzjxh"),n(Y,"class","data-card svelte-3hzjxh"),n(pe,"class","data-icon danger svelte-3hzjxh"),n(fe,"class","svelte-3hzjxh"),n(ee,"class","svelte-3hzjxh"),n(ne,"class","data-btn danger svelte-3hzjxh"),n(re,"class","data-content svelte-3hzjxh"),n(X,"class","data-card svelte-3hzjxh"),n(a,"class","data-actions svelte-3hzjxh"),n(e,"class","settings-section svelte-3hzjxh")},m(be,Ae){O(be,e,Ae),l(e,s),l(e,i),l(e,a),l(a,r),l(r,c),l(r,h),l(r,f),l(f,u),l(f,v),l(f,b),l(f,m),l(f,d),l(a,_),l(a,k),l(k,w),l(k,z),l(k,g),l(g,M),l(g,j),l(g,L),l(g,C),l(g,S),l(S,q),l(S,B),l(a,I),l(a,H),l(H,R),l(H,T),l(H,y),l(y,F),l(y,A),l(y,U),l(y,V),l(y,K),l(a,G),l(a,Y),l(Y,Q),l(Y,D),l(Y,J),l(J,$),l(J,x),l(J,ae),l(J,ce),l(J,Z),l(a,te),l(a,X),l(X,pe),l(X,ke),l(X,re),l(re,fe),l(re,de),l(re,ee),l(re,se),l(re,ne),ve||(me=[P(d,"click",t[14]),P(B,"change",t[15]),P(K,"click",yc),P(Z,"click",Cc),P(ne,"click",zc)],ve=!0)},p:he,d(be){be&&E(e),ve=!1,ze(me)}}}function Fa(t){let e,s,i,a,r,c,h,f,u,v,b,m,d,_,k,w,z=t[5]&&Pa(t);return{c(){e=o("section"),s=o("div"),s.innerHTML='<h3 class="svelte-3hzjxh">About Purl</h3> <p class="svelte-3hzjxh">Log aggregation and analysis platform</p>',i=p(),a=o("div"),r=o("div"),r.innerHTML='<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"></path><path d="M14 2v6h6M16 13H8M16 17H8M10 9H8"></path></svg>',c=p(),h=o("h2"),h.textContent="Purl",f=p(),u=o("p"),u.textContent="Fast, Modern Log Aggregation",v=p(),b=o("div"),b.textContent="Version 1.0.0",m=p(),d=o("div"),d.innerHTML='<span class="tech-badge svelte-3hzjxh">Perl</span> <span class="tech-badge svelte-3hzjxh">ClickHouse</span> <span class="tech-badge svelte-3hzjxh">Svelte</span> <span class="tech-badge svelte-3hzjxh">Vector</span>',_=p(),z&&z.c(),k=p(),w=o("div"),w.innerHTML=`<a href="https://github.com" target="_blank" rel="noopener" class="svelte-3hzjxh"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>
              GitHub</a> <a href="/api/metrics" target="_blank" rel="noopener" class="svelte-3hzjxh"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3v18h18"></path><path d="M18 9l-5-6-4 8-3-2"></path></svg>
              Metrics</a>`,n(s,"class","section-header svelte-3hzjxh"),n(r,"class","about-logo svelte-3hzjxh"),n(h,"class","svelte-3hzjxh"),n(u,"class","about-tagline svelte-3hzjxh"),n(b,"class","about-version svelte-3hzjxh"),n(d,"class","about-tech svelte-3hzjxh"),n(w,"class","about-links svelte-3hzjxh"),n(a,"class","about-content svelte-3hzjxh"),n(e,"class","settings-section svelte-3hzjxh")},m(g,M){O(g,e,M),l(e,s),l(e,i),l(e,a),l(a,r),l(a,c),l(a,h),l(a,f),l(a,u),l(a,v),l(a,b),l(a,m),l(a,d),l(a,_),z&&z.m(a,null),l(a,k),l(a,w)},p(g,M){g[5]?z?z.p(g,M):(z=Pa(g),z.c(),z.m(a,k)):z&&(z.d(1),z=null)},d(g){g&&E(e),z&&z.d()}}}function Pa(t){let e,s,i,a,r,c=t[5].status+"",h,f,u,v,b,m,d=t[5].clickhouse+"",_,k,w,z,g,M,j=Math.floor(t[5].uptime_secs/60)+"",L,C;return{c(){e=o("div"),s=o("div"),i=o("span"),i.textContent="Status",a=p(),r=o("span"),h=N(c),f=p(),u=o("div"),v=o("span"),v.textContent="ClickHouse",b=p(),m=o("span"),_=N(d),k=p(),w=o("div"),z=o("span"),z.textContent="Uptime",g=p(),M=o("span"),L=N(j),C=N(" min"),n(i,"class","svelte-3hzjxh"),n(r,"class","status-badge svelte-3hzjxh"),le(r,"healthy",t[5].status==="ok"),n(s,"class","info-row svelte-3hzjxh"),n(v,"class","svelte-3hzjxh"),n(m,"class","svelte-3hzjxh"),n(u,"class","info-row svelte-3hzjxh"),n(z,"class","svelte-3hzjxh"),n(M,"class","svelte-3hzjxh"),n(w,"class","info-row svelte-3hzjxh"),n(e,"class","system-info svelte-3hzjxh")},m(S,q){O(S,e,q),l(e,s),l(s,i),l(s,a),l(s,r),l(r,h),l(e,f),l(e,u),l(u,v),l(u,b),l(u,m),l(m,_),l(e,k),l(e,w),l(w,z),l(w,g),l(w,M),l(M,L),l(M,C)},p(S,q){q[0]&32&&c!==(c=S[5].status+"")&&W(h,c),q[0]&32&&le(r,"healthy",S[5].status==="ok"),q[0]&32&&d!==(d=S[5].clickhouse+"")&&W(_,d),q[0]&32&&j!==(j=Math.floor(S[5].uptime_secs/60)+"")&&W(L,j)},d(S){S&&E(e)}}}function wc(t){let e,s,i,a,r,c,h,f,u,v,b,m,d,_,k=t[4]&&Ca(),w=ue(t[6]),z=[];for(let q=0;q<w.length;q+=1)z[q]=ja(za(t,w,q));let g=t[1]==="display"&&Ma(t),M=t[1]==="logs"&&Ha(t),j=t[1]==="notifications"&&qa(t),L=t[1]==="keyboard"&&Oa(t),C=t[1]==="data"&&Ia(t),S=t[1]==="about"&&Fa(t);return{c(){e=o("div"),s=o("aside"),i=o("div"),a=o("h2"),a.textContent="Settings",r=p(),k&&k.c(),c=p(),h=o("nav");for(let q=0;q<z.length;q+=1)z[q].c();f=p(),u=o("main"),g&&g.c(),v=p(),M&&M.c(),b=p(),j&&j.c(),m=p(),L&&L.c(),d=p(),C&&C.c(),_=p(),S&&S.c(),n(a,"class","svelte-3hzjxh"),n(i,"class","sidebar-header svelte-3hzjxh"),n(h,"class","sidebar-nav svelte-3hzjxh"),n(s,"class","settings-sidebar svelte-3hzjxh"),n(u,"class","settings-content svelte-3hzjxh"),n(e,"class","settings-page svelte-3hzjxh")},m(q,B){O(q,e,B),l(e,s),l(s,i),l(i,a),l(i,r),k&&k.m(i,null),l(s,c),l(s,h);for(let I=0;I<z.length;I+=1)z[I]&&z[I].m(h,null);l(e,f),l(e,u),g&&g.m(u,null),l(u,v),M&&M.m(u,null),l(u,b),j&&j.m(u,null),l(u,m),L&&L.m(u,null),l(u,d),C&&C.m(u,null),l(u,_),S&&S.m(u,null)},p(q,B){if(q[4]?k||(k=Ca(),k.c(),k.m(i,null)):k&&(k.d(1),k=null),B[0]&66){w=ue(q[6]);let I;for(I=0;I<w.length;I+=1){const H=za(q,w,I);z[I]?z[I].p(H,B):(z[I]=ja(H),z[I].c(),z[I].m(h,null))}for(;I<z.length;I+=1)z[I].d(1);z.length=w.length}q[1]==="display"?g?g.p(q,B):(g=Ma(q),g.c(),g.m(u,v)):g&&(g.d(1),g=null),q[1]==="logs"?M?M.p(q,B):(M=Ha(q),M.c(),M.m(u,b)):M&&(M.d(1),M=null),q[1]==="notifications"?j?j.p(q,B):(j=qa(q),j.c(),j.m(u,m)):j&&(j.d(1),j=null),q[1]==="keyboard"?L?L.p(q,B):(L=Oa(q),L.c(),L.m(u,d)):L&&(L.d(1),L=null),q[1]==="data"?C?C.p(q,B):(C=Ia(q),C.c(),C.m(u,_)):C&&(C.d(1),C=null),q[1]==="about"?S?S.p(q,B):(S=Fa(q),S.c(),S.m(u,null)):S&&(S.d(1),S=null)},i:he,o:he,d(q){q&&E(e),k&&k.d(),Se(z,q),g&&g.d(),M&&M.d(),j&&j.d(),L&&L.d(),C&&C.d(),S&&S.d()}}}const zl="/api";function yc(){confirm("Clear application cache? This will reset temporary data.")&&(fetch(`${zl}/cache`,{method:"DELETE"}),localStorage.removeItem("purl_search_history"),alert("Cache cleared successfully"))}function zc(){confirm("Clear ALL local data? This includes settings, saved searches, and preferences.")&&(localStorage.clear(),window.location.reload())}function Cc(){confirm("Reset all settings to defaults?")&&(localStorage.removeItem("purl_settings"),window.location.reload())}function jc(t,e,s){let i={theme:"dark",refreshInterval:30,defaultTimeRange:"15m",maxResults:500,showHost:!0,showRaw:!1,compactMode:!1,lineWrap:!0,timestampFormat:"relative",logLevel:"all",fontSize:"medium",highlightErrors:!0,autoScroll:!0,soundAlerts:!1,keyboardShortcuts:!0,notifications:{telegram:{configured:!1},slack:{configured:!1},webhook:{configured:!1}}},a="display",r=null,c=null,h=!1,f=null;const u=[{id:"display",label:"Display",icon:"monitor"},{id:"logs",label:"Log Viewer",icon:"file-text"},{id:"notifications",label:"Notifications",icon:"bell"},{id:"keyboard",label:"Shortcuts",icon:"keyboard"},{id:"data",label:"Data",icon:"database"},{id:"about",label:"About",icon:"info"}],v=[{value:"5m",label:"5 minutes"},{value:"15m",label:"15 minutes"},{value:"30m",label:"30 minutes"},{value:"1h",label:"1 hour"},{value:"4h",label:"4 hours"},{value:"12h",label:"12 hours"},{value:"24h",label:"24 hours"},{value:"7d",label:"7 days"}],b=[{value:0,label:"Off"},{value:5,label:"5 seconds"},{value:10,label:"10 seconds"},{value:30,label:"30 seconds"},{value:60,label:"1 minute"},{value:300,label:"5 minutes"}],m=[{value:"small",label:"Small (12px)"},{value:"medium",label:"Medium (13px)"},{value:"large",label:"Large (14px)"}],d=[{value:"relative",label:"Relative (2 min ago)"},{value:"absolute",label:"Absolute (10:30:45)"},{value:"iso",label:"ISO (2025-12-10T10:30:45Z)"}],_=[{key:"/",action:"Focus search bar"},{key:"Esc",action:"Clear search / Close modal"},{key:"R",action:"Refresh logs"},{key:"J / K",action:"Navigate up/down"},{key:"Enter",action:"Expand selected log"},{key:"C",action:"Copy selected log"},{key:"1-5",action:"Switch time range"},{key:"?",action:"Show shortcuts help"}];et(()=>{k(),z(),g()});function k(){const D=localStorage.getItem("purl_settings");if(D)try{const J=JSON.parse(D);s(0,i={...i,...J})}catch{}}function w(){localStorage.setItem("purl_settings",JSON.stringify(i)),s(4,h=!0),setTimeout(()=>s(4,h=!1),2e3),window.dispatchEvent(new CustomEvent("settings-changed",{detail:i}))}async function z(){var D,J,$;try{const x=await fetch(`${zl}/analytics/notifiers`);if(x.ok){const ae=await x.json();s(0,i.notifications.telegram.configured=!!((D=ae.notifiers)!=null&&D.telegram),i),s(0,i.notifications.slack.configured=!!((J=ae.notifiers)!=null&&J.slack),i),s(0,i.notifications.webhook.configured=!!(($=ae.notifiers)!=null&&$.webhook),i)}}catch{}}async function g(){try{const D=await fetch(`${zl}/health`);D.ok&&s(5,f=await D.json())}catch{}}async function M(D){s(2,r=D),s(3,c=null);try{const $=await(await fetch(`${zl}/alerts/test-notification?type=${D}`,{method:"POST"})).json();s(3,c={type:D,success:$.success,message:$.success?"Test sent successfully!":$.error||"Failed to send"})}catch(J){s(3,c={type:D,success:!1,message:J.message})}finally{s(2,r=null)}}function j(){const D={settings:i,columnConfig:localStorage.getItem("purl_column_config"),savedSearches:localStorage.getItem("purl_saved_searches"),searchHistory:localStorage.getItem("purl_search_history"),exportDate:new Date().toISOString(),version:"1.0.0"},J=new Blob([JSON.stringify(D,null,2)],{type:"application/json"}),$=URL.createObjectURL(J),x=document.createElement("a");x.href=$,x.download=`purl-settings-${new Date().toISOString().split("T")[0]}.json`,x.click(),URL.revokeObjectURL($)}function L(D){var x;const J=(x=D.target.files)==null?void 0:x[0];if(!J)return;const $=new FileReader;$.onload=ae=>{var ce;try{const Z=JSON.parse((ce=ae.target)==null?void 0:ce.result);Z.settings&&(s(0,i={...i,...Z.settings}),w()),Z.columnConfig&&localStorage.setItem("purl_column_config",Z.columnConfig),Z.savedSearches&&localStorage.setItem("purl_saved_searches",Z.savedSearches),Z.searchHistory&&localStorage.setItem("purl_search_history",Z.searchHistory),alert("Settings imported successfully!")}catch{alert("Failed to import: Invalid file format")}},$.readAsText(J),D.target.value=""}const C=D=>s(1,a=D.id);function S(){i.defaultTimeRange=xe(this),s(0,i),s(7,v)}function q(){i.refreshInterval=xe(this),s(0,i),s(7,v)}function B(){i.maxResults=xe(this),s(0,i),s(7,v)}function I(){i.fontSize=xe(this),s(0,i),s(7,v)}function H(){i.compactMode=this.checked,s(0,i),s(7,v)}function R(){i.timestampFormat=xe(this),s(0,i),s(7,v)}function T(){i.showHost=this.checked,s(0,i),s(7,v)}function y(){i.showRaw=this.checked,s(0,i),s(7,v)}function F(){i.lineWrap=this.checked,s(0,i),s(7,v)}function A(){i.highlightErrors=this.checked,s(0,i),s(7,v)}function U(){i.autoScroll=this.checked,s(0,i),s(7,v)}const V=()=>M("telegram"),K=()=>M("slack"),G=()=>M("webhook");function Y(){i.soundAlerts=this.checked,s(0,i),s(7,v)}function Q(){i.keyboardShortcuts=this.checked,s(0,i),s(7,v)}return[i,a,r,c,h,f,u,v,b,m,d,_,w,M,j,L,C,S,q,B,I,H,R,T,y,F,A,U,V,K,G,Y,Q]}class Mc extends Je{constructor(e){super(),Ue(this,e,jc,wc,Ie,{},null,[-1,-1])}}function Da(t){let e,s,i,a,r,c,h,f,u,v,b,m,d,_,k,w,z,g,M,j,L,C,S,q,B,I,H;function R(G){t[21](G)}let T={};t[5]!==void 0&&(T.value=t[5]),e=new yo({props:T}),it.push(()=>co(e,"value",R)),e.$on("search",t[10]),r=new jo({props:{value:t[4]}}),r.$on("change",t[11]);function y(G,Y){return G[0]?Lc:Sc}let F=y(t),A=F(t);function U(G,Y){return G[6]?Hc:Tc}let V=U(t),K=V(t);return{c(){Ge(e.$$.fragment),i=p(),a=o("div"),Ge(r.$$.fragment),c=p(),h=o("button"),A.c(),u=p(),v=o("button"),v.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" class="svelte-ni03f9"><path fill="currentColor" d="M11 1H3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2ZM7 10a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm3-6H4V2h6v2Z"></path></svg>',b=p(),m=o("div"),d=o("button"),_=ie("svg"),k=ie("path"),w=N(`
            Export`),g=p(),M=o("div"),j=o("button"),j.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-ni03f9"><path fill="currentColor" d="M2 1h8a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1Zm1 3h6v1H3V4Zm0 2h6v1H3V6Zm0 2h4v1H3V8Z"></path></svg>
              Export as CSV`,L=p(),C=o("button"),C.innerHTML=`<svg width="12" height="12" viewBox="0 0 12 12" class="svelte-ni03f9"><path fill="currentColor" d="M3 2a1 1 0 0 0-1 1v2a1 1 0 0 1-1 1 1 1 0 0 1 1 1v2a1 1 0 0 0 1 1M9 2a1 1 0 0 1 1 1v2a1 1 0 0 0 1 1 1 1 0 0 0-1 1v2a1 1 0 0 1-1 1"></path></svg>
              Export as JSON`,S=p(),q=o("button"),K.c(),n(h,"class","btn svelte-ni03f9"),n(h,"title",f=t[0]?"Stop live tail":"Start live tail"),le(h,"active",t[0]),n(v,"class","btn svelte-ni03f9"),n(v,"title","Save current search"),n(k,"d","M7 1v8M3 5l4 4 4-4M2 11v1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1"),n(k,"stroke","currentColor"),n(k,"stroke-width","1.5"),n(k,"fill","none"),n(k,"stroke-linecap","round"),n(k,"stroke-linejoin","round"),n(_,"width","14"),n(_,"height","14"),n(_,"viewBox","0 0 14 14"),n(_,"class","svelte-ni03f9"),n(d,"class","btn svelte-ni03f9"),n(d,"title","Export logs"),d.disabled=z=t[3].length===0,n(j,"class","svelte-ni03f9"),n(C,"class","svelte-ni03f9"),n(M,"class","export-menu svelte-ni03f9"),n(m,"class","export-dropdown svelte-ni03f9"),n(q,"class","btn svelte-ni03f9"),q.disabled=t[6],n(a,"class","header-actions svelte-ni03f9")},m(G,Y){Ve(e,G,Y),O(G,i,Y),O(G,a,Y),Ve(r,a,null),l(a,c),l(a,h),A.m(h,null),l(a,u),l(a,v),l(a,b),l(a,m),l(m,d),l(d,_),l(_,k),l(d,w),l(m,g),l(m,M),l(M,j),l(M,L),l(M,C),l(a,S),l(a,q),K.m(q,null),B=!0,I||(H=[P(h,"click",t[9]),P(v,"click",t[14]),P(j,"click",t[15]),P(C,"click",t[16]),P(q,"click",t[10])],I=!0)},p(G,Y){const Q={};!s&&Y&32&&(s=!0,Q.value=G[5],so(()=>s=!1)),e.$set(Q);const D={};Y&16&&(D.value=G[4]),r.$set(D),F!==(F=y(G))&&(A.d(1),A=F(G),A&&(A.c(),A.m(h,null))),(!B||Y&1&&f!==(f=G[0]?"Stop live tail":"Start live tail"))&&n(h,"title",f),(!B||Y&1)&&le(h,"active",G[0]),(!B||Y&8&&z!==(z=G[3].length===0))&&(d.disabled=z),V!==(V=U(G))&&(K.d(1),K=V(G),K&&(K.c(),K.m(q,null))),(!B||Y&64)&&(q.disabled=G[6])},i(G){B||(qe(e.$$.fragment,G),qe(r.$$.fragment,G),B=!0)},o(G){Ee(e.$$.fragment,G),Ee(r.$$.fragment,G),B=!1},d(G){G&&(E(i),E(a)),Ze(e,G),Ze(r),A.d(),K.d(),I=!1,ze(H)}}}function Sc(t){let e;return{c(){e=N("Live Tail")},m(s,i){O(s,e,i)},d(s){s&&E(e)}}}function Lc(t){let e,s;return{c(){e=o("span"),s=N(" Live"),n(e,"class","live-dot svelte-ni03f9")},m(i,a){O(i,e,a),O(i,s,a)},d(i){i&&(E(e),E(s))}}}function Tc(t){let e;return{c(){e=N("Refresh")},m(s,i){O(s,e,i)},d(s){s&&E(e)}}}function Hc(t){let e;return{c(){e=o("span"),n(e,"class","spinner svelte-ni03f9")},m(s,i){O(s,e,i)},d(s){s&&E(e)}}}function Rc(t){let e,s;return e=new Mc({}),{c(){Ge(e.$$.fragment)},m(i,a){Ve(e,i,a),s=!0},p:he,i(i){s||(qe(e.$$.fragment,i),s=!0)},o(i){Ee(e.$$.fragment,i),s=!1},d(i){Ze(e,i)}}}function qc(t){let e,s;return e=new cc({}),{c(){Ge(e.$$.fragment)},m(i,a){Ve(e,i,a),s=!0},p:he,i(i){s||(qe(e.$$.fragment,i),s=!0)},o(i){Ee(e.$$.fragment,i),s=!1},d(i){Ze(e,i)}}}function Ac(t){let e,s,i=t[7].toLocaleString()+"",a,r,c,h,f,u,v,b,m,d,_,k,w,z,g,M,j,L,C,S,q,B,I,H=t[5]&&Va(t);w=new Lo({}),w.$on("filter",t[12]);let R={};return g=new Vo({props:R}),t[22](g),g.$on("apply",t[13]),j=new Yo({}),S=new No({}),B=new Ao({props:{logs:t[3]}}),{c(){e=o("div"),s=o("span"),a=N(i),r=N(" logs"),c=p(),h=o("span"),h.textContent="|",f=p(),u=o("span"),v=N("Time range: "),b=N(t[4]),m=p(),H&&H.c(),d=p(),_=o("div"),k=o("aside"),Ge(w.$$.fragment),z=p(),Ge(g.$$.fragment),M=p(),Ge(j.$$.fragment),L=p(),C=o("div"),Ge(S.$$.fragment),q=p(),Ge(B.$$.fragment),n(h,"class","separator svelte-ni03f9"),n(e,"class","stats-bar svelte-ni03f9"),n(k,"class","sidebar svelte-ni03f9"),n(C,"class","main-content svelte-ni03f9"),n(_,"class","container svelte-ni03f9")},m(T,y){O(T,e,y),l(e,s),l(s,a),l(s,r),l(e,c),l(e,h),l(e,f),l(e,u),l(u,v),l(u,b),l(e,m),H&&H.m(e,null),O(T,d,y),O(T,_,y),l(_,k),Ve(w,k,null),l(k,z),Ve(g,k,null),l(k,M),Ve(j,k,null),l(_,L),l(_,C),Ve(S,C,null),l(C,q),Ve(B,C,null),I=!0},p(T,y){(!I||y&128)&&i!==(i=T[7].toLocaleString()+"")&&W(a,i),(!I||y&16)&&W(b,T[4]),T[5]?H?H.p(T,y):(H=Va(T),H.c(),H.m(e,null)):H&&(H.d(1),H=null);const F={};g.$set(F);const A={};y&8&&(A.logs=T[3]),B.$set(A)},i(T){I||(qe(w.$$.fragment,T),qe(g.$$.fragment,T),qe(j.$$.fragment,T),qe(S.$$.fragment,T),qe(B.$$.fragment,T),I=!0)},o(T){Ee(w.$$.fragment,T),Ee(g.$$.fragment,T),Ee(j.$$.fragment,T),Ee(S.$$.fragment,T),Ee(B.$$.fragment,T),I=!1},d(T){T&&(E(e),E(d),E(_)),H&&H.d(),Ze(w),t[22](null),Ze(g),Ze(j),Ze(S),Ze(B)}}}function Va(t){let e,s,i,a,r,c;return{c(){e=o("span"),e.textContent="|",s=p(),i=o("span"),a=N("Query: "),r=o("code"),c=N(t[5]),n(e,"class","separator svelte-ni03f9"),n(r,"class","svelte-ni03f9")},m(h,f){O(h,e,f),O(h,s,f),O(h,i,f),l(i,a),l(i,r),l(r,c)},p(h,f){f&32&&W(c,h[5])},d(h){h&&(E(e),E(s),E(i))}}}function Bc(t){let e,s,i,a,r,c,h,f,u,v,b,m,d,_,k,w,z,g=t[2]==="logs"&&Da(t);const M=[Ac,qc,Rc],j=[];function L(C,S){return C[2]==="logs"?0:C[2]==="analytics"?1:C[2]==="settings"?2:-1}return~(d=L(t))&&(_=j[d]=M[d](t)),{c(){e=o("main"),s=o("header"),i=o("button"),i.innerHTML='<svg width="32" height="32" viewBox="0 0 32 32" class="svelte-ni03f9"><circle cx="16" cy="16" r="14" fill="none" stroke="currentColor" stroke-width="2"></circle><path d="M10 12 L22 12 M10 16 L22 16 M10 20 L18 20" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg> <span>Purl</span>',a=p(),r=o("nav"),c=o("button"),c.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-ni03f9"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"></path><path d="M14 2v6h6M16 13H8M16 17H8M10 9H8"></path></svg>
        Logs`,h=p(),f=o("button"),f.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-ni03f9"><path d="M3 3v18h18"></path><path d="M18 9l-5-6-4 8-3-2"></path></svg>
        Analytics`,u=p(),v=o("button"),v.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-ni03f9"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"></path></svg>
        Settings`,b=p(),g&&g.c(),m=p(),_&&_.c(),n(i,"class","logo svelte-ni03f9"),n(c,"class","svelte-ni03f9"),le(c,"active",t[2]==="logs"),n(f,"class","svelte-ni03f9"),le(f,"active",t[2]==="analytics"),n(v,"class","svelte-ni03f9"),le(v,"active",t[2]==="settings"),n(r,"class","nav-tabs svelte-ni03f9"),n(s,"class","svelte-ni03f9"),n(e,"class","svelte-ni03f9")},m(C,S){O(C,e,S),l(e,s),l(s,i),l(s,a),l(s,r),l(r,c),l(r,h),l(r,f),l(r,u),l(r,v),l(s,b),g&&g.m(s,null),l(e,m),~d&&j[d].m(e,null),k=!0,w||(z=[P(i,"click",t[17]),P(c,"click",t[18]),P(f,"click",t[19]),P(v,"click",t[20])],w=!0)},p(C,[S]){(!k||S&4)&&le(c,"active",C[2]==="logs"),(!k||S&4)&&le(f,"active",C[2]==="analytics"),(!k||S&4)&&le(v,"active",C[2]==="settings"),C[2]==="logs"?g?(g.p(C,S),S&4&&qe(g,1)):(g=Da(C),g.c(),qe(g,1),g.m(s,null)):g&&(Vn(),Ee(g,1,1,()=>{g=null}),Zn());let q=d;d=L(C),d===q?~d&&j[d].p(C,S):(_&&(Vn(),Ee(j[q],1,1,()=>{j[q]=null}),Zn()),~d?(_=j[d],_?_.p(C,S):(_=j[d]=M[d](C),_.c()),qe(_,1),_.m(e,null)):_=null)},i(C){k||(qe(g),qe(_),k=!0)},o(C){Ee(g),Ee(_),k=!1},d(C){C&&E(e),g&&g.d(),~d&&j[d].d(),w=!1,ze(z)}}}function Za(t,e){const s=URL.createObjectURL(t),i=document.createElement("a");i.href=s,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}function Ec(t,e,s){let i,a,r,c,h;Be(t,xl,R=>s(3,i=R)),Be(t,nt,R=>s(4,a=R)),Be(t,Et,R=>s(5,r=R)),Be(t,Gl,R=>s(6,c=R)),Be(t,es,R=>s(7,h=R));let f,u=!1,v,b="logs";et(async()=>(m(),window.addEventListener("hashchange",m),b==="logs"&&await Bt(),()=>window.removeEventListener("hashchange",m)));function m(){const R=window.location.hash.slice(1)||"logs";["logs","analytics","settings"].includes(R)&&s(2,b=R)}function d(R){s(2,b=R),window.location.hash=R}function _(){s(0,u=!u),u?f=po():f&&(f.close(),f=null)}function k(){Bt()}function w(R){kl(nt,a=R.detail,a),Bt()}function z(R){const{value:T}=R.detail;kl(Et,r=T,r),Bt()}function g(R){const{query:T,timeRange:y}=R.detail;kl(Et,r=T,r),kl(nt,a=y,a),Bt()}function M(){v==null||v.openSaveModal(r,a)}function j(){if(i.length===0)return;const R=["timestamp","level","service","host","message"],T=[R.join(",")];for(const F of i){const A=R.map(U=>{const V=F[U]||"",K=String(V).replace(/"/g,'""');return/[,\n"]/.test(K)?`"${K}"`:K});T.push(A.join(","))}const y=new Blob([T.join(`
`)],{type:"text/csv;charset=utf-8;"});Za(y,`purl-logs-${Date.now()}.csv`)}function L(){if(i.length===0)return;const R=i.map(y=>({timestamp:y.timestamp,level:y.level,service:y.service,host:y.host,message:y.message,meta:y.meta||{}})),T=new Blob([JSON.stringify(R,null,2)],{type:"application/json"});Za(T,`purl-logs-${Date.now()}.json`)}const C=()=>d("logs"),S=()=>d("logs"),q=()=>d("analytics"),B=()=>d("settings");function I(R){r=R,Et.set(r)}function H(R){it[R?"unshift":"push"](()=>{v=R,s(1,v)})}return[u,v,b,i,a,r,c,h,d,_,k,w,z,g,M,j,L,C,S,q,B,I,H]}class Oc extends Je{constructor(e){super(),Ue(this,e,Ec,Bc,Ie,{})}}new Oc({target:document.getElementById("app")});
